[
{"url_object_id": "f10a23033e04f5057cb5c1a2a6a48489", "create_date": "2017-05-10", "front_image_path": "full/ed02bd36286ef5ec9f067bc8d381a46ca5124f1e.jpg", "title": "如何将 MySQL 查询速度提升 300 倍", "url": "http://blog.jobbole.com/111129/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/5/speed-your-mysql-queries-300-times\">opensource</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/speed-your-mysql-queries-300-times?print\">开源中国</a>   </div><p>在进行性能分析前，需要先定位耗时查询。</p>\n<p>MySQL 提供了内建的耗时查询日志。使用前，打开 <strong>my.cnf </strong>文件，将<strong>slow_query_log </strong>设置为”On”。 同时将 <strong>long_query_time </strong>设置为一个对一次查询来说比较慢的时间（秒数），比如 0.2。<strong>slow_query_log_file </strong>设置为你想保存日志文件的路径。然后运行代码，执行时间超过设定上限的查询将会被记录到日志中。</p>\n<p>一旦定位这些烦人的查询，就可以探究慢的原因。MySQL提供了<strong>EXPLAIN</strong>关键字。可以与<strong>SELECT、</strong><strong>DELETE、</strong><strong>INSERT、</strong><strong>REPLACE、</strong><strong>UPDATE</strong>语句一起使用。只需要如下一样添加到查询开始处：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912874f4e829450497471\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nEXPLAIN SELECT picture.id, picture.title\r\n FROM picture\r\n LEFT JOIN album ON picture.album_id = album.id WHERE album.user_id = 1;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912874f4e829450497471-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912874f4e829450497471-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912874f4e829450497471-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912874f4e829450497471-1\"><span class=\"crayon-i\">EXPLAIN</span> <span class=\"crayon-i\">SELECT</span> <span class=\"crayon-v\">picture</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">,</span> <span class=\"crayon-v\">picture</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">title</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912874f4e829450497471-2\"> <span class=\"crayon-i\">FROM</span> <span class=\"crayon-i\">picture</span></div><div class=\"crayon-line\" id=\"crayon-5912874f4e829450497471-3\"> <span class=\"crayon-i\">LEFT</span> <span class=\"crayon-i\">JOIN</span> <span class=\"crayon-i\">album</span> <span class=\"crayon-i\">ON</span> <span class=\"crayon-v\">picture</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">album</span><span class=\"crayon-sy\">_</span>id <span class=\"crayon-o\">=</span> <span class=\"crayon-v\">album</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">id</span> <span class=\"crayon-i\">WHERE</span> <span class=\"crayon-v\">album</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">user</span><span class=\"crayon-sy\">_</span>id <span class=\"crayon-o\">=</span> <span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>结果是对数据访问过程的解析。每行代表一个查询相关的数据表：<img title=\"An explanation of how data is accessed\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/ec8027ae03fe43fb6cc2b8fd31cad241.png\" alt=\"An explanation of how data is accessed\" width=\"700\" height=\"95\"></p>\n<p>重点是表名、使用的key、查询执行时所扫描的行数。<img title=\"The important pieces here are the table name, the key used, and the number of rows scanned.\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/a56b96248706d91e9179efb1b76fa54a.png\" alt=\"The important pieces here are the table name, the key used, and the number of rows scanned.\" width=\"700\" height=\"109\"></p>\n<p>这个查询扫描了picture表2百万行，对每个picture记录扫描了album表2万行。意味着，该查询实际扫描了album表400亿行。这个过程可以更高效。</p>\n<h2>索引</h2>\n<p>使用索引，可以极大提升性能。比如地址簿中的名字。找一个名字，你可以从头翻到尾，也可以找到相应的字符标签页来快速定位。</p>\n<p>使用索引可以避免无必要的表扫描。比如在<strong>picture.album_id</strong>上添加索引：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912874f4e838798907669\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nALTER TABLE picture ADD INDEX(album_id);</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912874f4e838798907669-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912874f4e838798907669-1\"><span class=\"crayon-i\">ALTER</span> <span class=\"crayon-i\">TABLE</span> <span class=\"crayon-i\">picture</span> <span class=\"crayon-i\">ADD</span> <span class=\"crayon-e\">INDEX</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">album_id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>现在执行查询，就不会扫描整个picture列表了。首先，所有的album表会被扫描以找到属于该用户的album，然后，使用<strong>album_id</strong>列索引快速定位对应的picture。扫描的行数减少到了20万，比原始查询快了317倍。</p>\n<p><img title=\"The query is also about 317 times faster than the original.\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2bd465bc36d78d15022ee192e4297ad6.png\" alt=\"The query is also about 317 times faster than the original.\" width=\"700\" height=\"107\"></p>\n<p>按照以下方式添加索引可以确保两张表都能使用对应键：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912874f4e83f462226100\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nALTER TABLE album ADD INDEX(user_id);</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912874f4e83f462226100-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912874f4e83f462226100-1\"><span class=\"crayon-i\">ALTER</span> <span class=\"crayon-i\">TABLE</span> <span class=\"crayon-i\">album</span> <span class=\"crayon-i\">ADD</span> <span class=\"crayon-e\">INDEX</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">user_id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><img title=\"Make sure that both tables use a key\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/9b83ba9ee464210cb1d5a0e966041536.png\" alt=\"Make sure that both tables use a key\" width=\"700\" height=\"105\"></p>\n<p>这次，album表不会被全部扫描，通过<strong>user_id</strong>键就可以精确定位相应的album。然后这100个album被扫描后，通过<strong>album_id</strong>键相关的picture也可以快速找到。每张表都用到了一个键进行查询性能优化，结果比原始查询快了380倍。</p>\n<p>但是并不意味着可以随意添加索引，因为索引会导致写数据库用时增长。所以使用索引导致读用时缩短，写用时增长。因此，如果能提升读性能时再添加索引。使用<strong>EXPLAIN</strong>来确认索引是否被查询用到，没有就删除。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111129\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111129votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111129\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 0, "comment_nums": 0, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/04/6813e861d7765d2cf8c1f7f313083944.jpg"]},
{"url_object_id": "b800646c77349012716dba99ae9d0231", "create_date": "2017-05-09", "front_image_path": "full/d2cb2f1c9527e389ab918708a1ba92f8c7b9fb79.jpg", "title": "SSH 协议端口号 22 背后的故事", "url": "http://blog.jobbole.com/111118/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.ssh.com/ssh/port\">Tatu Ylonen</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8476-1.html\">Linux中国/kenxx</a>   </div><p>为什么 <a href=\"https://www.ssh.com/ssh/\">SSH</a>（安全终端）的端口号是 22 呢，这不是一个巧合，这其中有个我（<a href=\"https://www.ssh.com/people/tatu-ylonen\">Tatu Ylonen</a>，SSH 协议的设计者）未曾诉说的故事。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1fff79liaiuj20ku0bqq3b.jpg\" width=\"601\" height=\"338\"></p>\n<h3 id=\"toc_1\">将 SSH 协议端口号设为 22 的故事</h3>\n<p>1995 年春我编写了 SSH 协议的最初版本，那时候 <a href=\"https://www.ssh.com/ssh/telnet\">telnet</a> 和 <a href=\"https://www.ssh.com/ssh/ftp/\">FTP</a> 正被广泛使用。</p>\n<p>当时我设计 SSH 协议想着是为了替代 <code>telnet</code>（端口 23）和 <code>ftp</code>（端口21）两个协议的，而端口 22 是空闲的。我想当然地就选择了夹在 <code>telnet</code> 和 <code>ftp</code> 的端口中间的数字。我觉得端口号虽然是个小事但似乎又存在着某种信念。但我到底要怎么拿到那个端口号呢？我未曾拥有过任何一个端口号，但我却认识几个拥有端口号的人！</p>\n<p>在那时取得端口号的事情其实说来挺简单的。毕竟当时的因特网（Internet）并不是很大，是因特网爆炸的早期。端口号分配的活儿是 IANA（Internet Assigned Numbers Authority，互联网数字分配机构）干的。在那时这机构可相当于是因特网先驱 <a href=\"https://en.wikipedia.org/wiki/Jon_Postel\">Jon Postel</a> 和 <a href=\"https://en.wikipedia.org/wiki/Joyce_K._Reynolds\">Joyce K. Reynolds</a> 一般的存在。Jon 参与编写了多项主要的协议标准，例如 IP（RFC 791）、ICMP（RFC 792）和 TCP（RFC 793）等一些你应该早有耳闻的协议。</p>\n<p>我可以说是敬畏 Jon 先生的，他参与编写了几乎所有主要的因特网标准文档（Internet RFC）！</p>\n<p>1995 年 7 月，就在我发布 <code>ssh-1.0</code> 前，我发送了一封邮件给 IANA：</p>\n<blockquote><p>From ylo Mon Jul 10 11:45:48 +0300 1995<br>\nFrom: Tatu Ylonen<br>\nTo: Internet Assigned Numbers Authority<br>\nSubject: 请求取得一个端口号<br>\nOrganization: 芬兰赫尔辛基理工大学</p>\n<p>亲爱的机构成员：</p>\n<p>我写了个可以在不安全的网络环境中安全地从一台机器登录到另一台机器的程序。它主要是对现有的 telnet 协议以及 rlogin 协议的功能性提升和安全性改进。说的具体些，就是可以防御 IP、DNS 或路由等欺骗行为。我打算将我的软件免费地发布在因特网上，以得到广泛地使用。</p>\n<p>我希望为该软件注册一个特权端口号，要是这个端口号在 1 到 255 之间就更好了，这样它就可以用在名字服务器的 WKS 字段中了。</p>\n<p>我在附件中附上了协议标准的草案。这个软件已经在本地运行了几个月了，我已准备在获得端口号后就发布。如果端口号分配一事安排的及时，我希望这周就将要发布的软件准备好。我目前在 beta 版测试时使用的端口号是 22，如果要是能够分配到这个端口，我就不用做什么更改了（目前这个端口在列表中还是空闲的）。</p>\n<p>软件中服务的名称叫 <code>ssh</code>（系 Secure Shell 的缩写）。</p>\n<p>您最真诚的，</p>\n<p>Tatu Ylonen</p></blockquote>\n<p>（LCTT 译注：DNS 协议中的 WKS 记录类型意即“众所周知的业务描述”，是类似于 A、MX 这样的 DNS 记录类型，用于描述某个 IP 所提供的服务，目前鲜见使用。参见： <a href=\"https://docs.oracle.com/cd/E19683-01/806-4077/dnsintro-154/index.html\">https://docs.oracle.com/cd/E19683-01/806-4077/dnsintro-154/index.html</a> 。）</p>\n<p>第二天，我就收到了 Joyce 发来的邮件：</p>\n<blockquote><p>Date: Mon, 10 Jul 1995 15:35:33 -0700<br>\nFrom: jkrey@ISI.EDU<br>\nTo: ylo@cs.hut.fi<br>\nSubject: 回复：请求取得一个端口号<br>\nCc: iana@ISI.EDU</p>\n<p>Tatu,</p>\n<p>我们将端口号 22 分配给 ssh 服务了，你目前是该服务的主要联系人。</p>\n<p>Joyce</p></blockquote>\n<p>这就搞定了！SSH 的端口正式使用 22！！！</p>\n<p>1995 年 7 月 12 日上午 2 点 21 分，我给我在赫尔辛基理工大学的测试者们宣布了 SSH 的最后 beta 版本。当日下午 5 点 23 分，我给测试者们宣布了 ssh-1.0.0 版本。1995 年 7 月 12 日，下午 5 点 51 分，我将一份 SSH（安全终端）的宣告发给了 <code>cypherpunks@toad.com</code> 的邮件列表，此外我还将其发给了一些新闻组、邮件列表和一些在因特网上讨论相关话题的人们。</p>\n<h3 id=\"toc_2\">如何更改 SSH 服务的端口号</h3>\n<p>SSH 服务器是默认运行在 22 号端口上的。然而，由于某些原因需要，它也可以运行在别的端口上。比如为了方便测试使用，又比如在同一个宿主机上运行多个不同的配置。当然，极少情况下，不使用 root 权限运行它也可以，比如某些必须运行在非特权的端口的情况（端口号大于等于 1024）。</p>\n<p>端口号可以在配置文件 <a href=\"https://www.ssh.com/ssh/sshd_config/\">/etc/ssh/sshd_config</a> 中将 <code>Port 22</code> 更改。也可以使用 <code>-p </code> 选项运行 <a href=\"https://www.ssh.com/ssh/sshd/\">sshd</a>。SSH 客户端和 <a href=\"https://www.ssh.com/ssh/sftp/\">sftp</a> 程序也可以使用 <code>-p </code> 选项。</p>\n<h3 id=\"toc_3\">配置 SSH 协议穿越防火墙</h3>\n<p>SSH 是少数通常被许可穿越防火墙的协议之一。通常的做法是不限制出站的 SSH 连接，尤其常见于一些较小的或者比较技术型的组织中，而入站的 SSH 连接通常会限制到一台或者是少数几台服务器上。</p>\n<h4 id=\"toc_4\">出站的 SSH 连接</h4>\n<p>在防火墙中配置出站的 SSH 连接十分简单。如果完全限制了外发连接，那么只需要创建一个允许 TCP 端口 22 可以外发的规则即可。如果你想限制目标地址，你可以限制该规则仅允许访问你的组织放在云端的外部服务器或保护该云端的<a href=\"https://www.ssh.com/iam/jump-server\">跳板服务器</a>即可。</p>\n<h4 id=\"toc_5\">反向通道是有风险的</h4>\n<p>其实不限制出站的 SSH 连接虽然是可以的，但是是存在风险的，SSH 协议是支持 <a href=\"https://www.ssh.com/ssh/tunneling/\">通道访问</a> 的。最初的想法是在外部服务器搭建一个 SSH 服务监听来自各处的连接，将进入的连接转发到组织，并让这个连接可以访问某个内部服务器。</p>\n<p>在某些场景下这当然非常的方便。开发者和系统管理员经常使用它打开一个通道以便于他们可以远程访问，比如在家里或者在旅行中使用笔记本电脑等场景。</p>\n<p>然而通常来讲这些做法是违背安全策略的，跳过了防火墙管理员和安全团队保护的控制无疑是违背安全策略的，比如这些： <a href=\"https://www.ssh.com/compliance/pci/\">PCI</a>、<a href=\"https://www.ssh.com/compliance/hipaa/security-rule\">HIPAA</a>、<a href=\"https://www.ssh.com/compliance/nist-800-53/\">NIST SP 800-53</a> 等。它可以被黑客和外国情报机构用来在组织内留下后门。</p>\n<p><a href=\"https://www.ssh.com/products/cryptoauditor/\">CryptoAuditor</a> 是一款可以控制通道穿过防火墙或者一组云端服务器入口的产品。该款产品可以配合 <a href=\"https://www.ssh.com/products/universal-ssh-key-manager/\">通用 SSH 密钥管理器（Universal SSH Key Manager）</a> 来获得对 <a href=\"https://www.ssh.com/ssh/host-key\">主机密钥（host keys）</a>的访问，以在启用防火墙并阻挡未授权转发的场景中解密 SSH 会话。</p>\n<h4 id=\"toc_6\">入站的 SSH 访问</h4>\n<p>对于入站访问而言，这里有几点需要说一下：</p>\n<ul>\n<li>配置防火墙，并转发所有去往 22 端口的连接只能流向到一个特定的内部网络 IP 地址或者一个 <a href=\"https://en.wikipedia.org/wiki/DMZ_(computing)\">DMZ</a> 主机。在该 IP 上运行 <a href=\"https://www.ssh.com/products/cryptoauditor/\">CryptoAuditor</a> 或者跳板机来控制和审查所有访问该组织的连接。</li>\n<li>在防火墙上使用不同的端口访问不同的服务器。</li>\n<li>只允许使用 <a href=\"https://www.ssh.com/network/ipsec/\">IPsec</a> 协议这样的 VPN（虚拟专用网）登录后连接 SSH 服务。</li>\n</ul>\n<h3 id=\"toc_7\">通过 iptables 服务限制 SSH 访问</h3>\n<p><a href=\"https://en.wikipedia.org/wiki/Iptables\">iptables</a> 是一款内建在 Linux 内核的宿主防火墙。通常配置用于保护服务器以防止被访问那些未明确开启的端口。</p>\n<p>如果服务器上启用了 <code>iptables</code>，使用下面的命令将可以允许进入的 SSH 访问，当然命令需要以 root 身份运行。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912de939241c091447441\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -p tcp --dport 22 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT\r\niptables -A OUTPUT -p tcp --sport 22 -m conntrack --ctstate ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912de939241c091447441-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912de939241c091447441-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912de939241c091447441-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">conntrack</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">ctstate </span><span class=\"crayon-r\">NEW</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912de939241c091447441-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">conntrack</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">ctstate </span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>如果你想将上述命令创建的规则持久地保存，在某些系统版本中，可使用如下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912de9392426310532050\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nservice iptables save</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912de9392426310532050-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912de9392426310532050-1\"><span class=\"crayon-e\">service </span><span class=\"crayon-e\">iptables </span><span class=\"crayon-v\">save</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111118\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111118votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111118\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "2", "fav_nums": 0, "comment_nums": 0, "front_image_url": ["http://wx1.sinaimg.cn/large/63918611gy1fff79liaiuj20ku0bqq3b.jpg"]},
{"url_object_id": "82e4b98de083bb3fd55167bf3109544f", "create_date": "2017-05-08", "front_image_path": "full/fff0979e3f646a50f7a2ecbbf51fc0dc1e02c553.jpg", "title": "开发者的副项目 ，归公司所有吗？", "url": "http://blog.jobbole.com/111108/", "tags": "职场", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.joelonsoftware.com/2016/12/09/developers-side-projects/\">Joel Spolsky</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>几乎所有受雇于他人的开发者最终都会签订某种“发明专利协议”，然而几乎所有人都误解了这份协议的内容。大多数开发者认为，在工作时间内做的工作属于雇主，但在家中或业余时间做的则属于他们自己。这种错误的认知很危险。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffdu7fxim7j20sg0lcn1h.jpg\" width=\"600\" height=\"450\"></p>\n<p>现在让我们思考一下这个问题︰ 如果你是一名在软件公司工作的开发者，这家公司是否拥有你在业余时间做的副项目（side project）？</p>\n<p>在我开始回答之前，请一定当心那些来自网络的法律建议。我看到了很多的错误信息，足以让你深陷困境。身处美国之外的读者也需要注意，可能当地的法律与法规完全不同。</p>\n<p>回答这个问题，你先需要知道 3 个信息：</p>\n<p><strong>1、你在哪个州（或国家）工作？</strong></p>\n<p>各地法律不同，差异巨大，有些甚至可能会优先于特定的合同。</p>\n<p><strong>2、你与雇主的合同上是怎么写的？</strong></p>\n<p>在美国，一般情况下法院会宽容地让人们签署他们想要的任何合同，但有时，国家法律会明确写到“即使你签署了诸如这样的合同，法律仍具有优先权”。</p>\n<p><strong>3、你是承包商，还是员工？</strong></p>\n<p>在美国，这是两种不同的雇佣方式，而不同情况下法律也不尽相同。但是，在我可以开始解释这些问题之前，我们必须先暂停一下。</p>\n<p>想象一下，你创办了一家软件公司，你需要一名开发者。所以你雇佣了街对面的萨拉，与她做了一笔交易，支付她 $20 时薪，让她给你的软件产品编写代码。她写她的代码，你付给她 $20 时薪，这看起来进行得不错。是吗？</p>\n<p>好吧，可能是的。在美国，如果你雇佣萨拉作为一名承包商，她仍然拥有这份工作的版权。有点奇怪，你可能会说，“听好了，我可是付钱给她的”。尽管听起来很怪，但这就是版权的运作方式。事实上，如果你雇了一位摄影师为你的婚礼拍照，你获得了底片的照片副本，而版权却在摄影师的手上，他可以合法地用这些底片冲印更多的照片复本。很震惊吧！这对代码同样适用。</p>\n<p>每个软件公司都希望拥有员工代码的版权，所以软件公司不能接受法律“默认”的方式。这就是为什么所有管理良好的软件公司，都会要求所有的开发人员至少需要签署一项协议</p>\n<ul>\n<li>以换取工资，</li>\n<li>内容是开发人员同意将版权“转让”（给）公司。</li>\n</ul>\n<p>该协议可以包含在就业合同或单独的“发明专利委派”合同中。这样的方法通常表达为法律意义上的“雇佣工作”（<a href=\"http://en.wikipedia.org/wiki/Work_for_hire\">work for hire</a>），这等同于“我们决定，版权将由公司所有，而非员工”。</p>\n<p>直到这里，我们仍然没有说到业余时间进行的工作。假设，现在你有一个小的游戏公司，业务不是软件制作，而是每隔几个月推出三到四个益智游戏。你不能自己开发所有的游戏。所以你走出公司雇了一个游戏设计师来开发游戏。你要支付游戏设计师 $6,000 月薪来开发新游，它们是益智类的、原创的，并且可以申请专利。作为一家公司，拥有游戏专利极其重要。</p>\n<p>你的游戏设计师工作一年，开发了 7 个游戏。年底她控告你，并声称她拥有其中 4 个游戏，因为这些都是在朝九晚五之外的非工作时间做的。</p>\n<p>糟糕，这不是你雇佣她的本意。你付钱给她是为了她开发的所有游戏，然后你认识到，实际上你支付的时间包含了任何时间…工作日、周末、办公室、小隔间、家中、淋浴以及度假登山时。</p>\n<p>所以，在你雇佣这个开发人员前，你要说，“嘿，听着，我知道你随时会进行开发，我也很难证明你是否在工作时间内完成了开发。我不想只雇佣你在上班时间 9 点到 5 点的开发时间，我要的是你开发用的所有时间。为此，我付你一份不错的薪水。”她同意了你的说法，然后现在你想要签署一份协议，内容是只要她仍在职，她所有的开发成果都属于公司。</p>\n<p>这就是我们现在默认的情况。这也是给开发人员、发明家和研究人员提供的标准雇佣合同。</p>\n<p>即使一家公司突然做出决定，“天哪，我们不想拥有开发人员在非工作时间的开发成果，”他们很快会陷入困境。为何会这样？因为他们可能需要接受投资，而投资者会要求，“请向我证明，你不会被一些心怀不满的离职员工起诉，说你想要卖了他们的开发成果”。公司想要能够列出一张清单，包含所有在职和离职的员工，并展示他们每个人将开发成果授权给公司的合同。对于每个高科技公司的融资、并购和收购等操作而言，做好上述准备是一种应尽的责任。因为没有准备好这些授权合同的软件公司可能会面临融资困难、被并购或被收购的困境，而那个从 1998 年开始不签订协议的人，如果现在签署了协议，他就是一个真正的混蛋，因为他知道自己持有高达 3.5 亿美元的收购额，足可以要求大量的签订费用。</p>\n<p>所以，每个软件公司都试图拥有员工进行的所有开发。（为防无关的兴趣项目，公司不一定会在行动上强制执行，但在合同上，他们可能会这样操作。）</p>\n<p>顺着这条思路看，软件开发人员通常认为这种情况让人十分沮丧。他们总是幻想着夜晚能够坐在自己房间内，为他们的个人目的在私人电脑上编写属于自己的代码，并拥有其版权和专利。所以，某些州（如加州）的州议员采取了行动进行改进，而其他州（如纽约）则不为所动。改进州的立法机构一般会通过类似这样的法律︰</p>\n<p>所有那些在业余时间、私人设备上进行的、与从事的行业无关的工作，都属于你个人，即使你签订的合同上不承认这点。</p>\n<p>因为这是加州的法律，而这条特殊的条款被纳入了标准无罪合同，而且大部分加州的律师事务所，提供给软件公司客户的合同中也包含了这条，所以全国各地的程序员都可能在合同中看到它，即使他们的所在州不要求这条。</p>\n<p>让我们再仔细地看看条例的内容：</p>\n<blockquote><p><em>On your own time.</em> Easy to determine, I imagine. 在业余时间，这个我想很容易界定。</p>\n<p><em>With your own equipment.</em> Trivial to determine. 在私人设备上，这个不太重要。</p></blockquote>\n<p><strong>与从事的行业无关，请等一下，要如何界定“相关的”或“无关的”？</strong>如果我是谷歌的一名员工，他们是一家涉及广泛的大公司。他们甚至曾经制作了一个酷炫的携带路由器的热气球。热气球与从事的行业相关吗？很显然，搜索引擎、邮件、互联网应用程序和广告是谷歌涉及的领域。这个…</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffdu7mvuooj20lp0g5n13.jpg\" width=\"600\" height=\"446\"></p>\n<p>好吧，如果我的公司是一家为法律行业制作软件的小公司，那么针对会计行业制作的软件是“相关的”吗？</p>\n<p>我不知道。这里的歧义大到你都可以驾驶着卡车穿过去，而这可能取决于法官或陪审团。</p>\n<p>法官（或陪审团）可能在面对巨头谷歌时，会倾向于实力弱小的员工，但谁也说不准，你不能指望这点。</p>\n<p>这种不确定性就足以对那些在业余时间工作的员工创造出寒蝉效应，不管怎么说它都达到了雇主想要的效果，员工不用再担心副项目可能有一天会成为主业，而雇主也很乐于看到这样的情况：昨晚看电视休息的员工，一早精神抖擞地来上班。</p>\n<p>所以，现在来回答这个问题。作为开发人员或法律适用的任何工作，你在美国各地不同公司签署的合同，可能不会有实质性的差异。它们都需要购买你的版权和专利，这样可以免于证明它们是“按时”产生的，所以他们都会尝试购买。除非由于公司的疏忽，没有安排合适的合同到位，在这种情况下，可能是公司本身管理不善，那你又多了一个离职的理由。</p>\n<p>针对管理方面的唯一的区别，就是他们想要执行合同中写明的权利的决心。可能会有以下多种情况：</p>\n<ul>\n<li>我们喜欢副项目。祝你玩得高兴！</li>\n<li>我们确实不喜欢副项目。你应该为我们着想。</li>\n<li>我们喜欢副项目。我们特别喜欢，想要拥有并出售它们！</li>\n<li>我们不是很关心这一点。如果你惹火了我们，我们会想办法让你付出代价。如果你离职后创立了一家竞争性公司，或者是一家半竞争性公司，我们都可以用这份合同让你生不如死。但是，如果你没有冒犯我们并忠诚地为我们服务，当你的苹果 App 获得 $40,000 月利润的时候，我们会找其他的方法奖励你。</li>\n</ul>\n<p>根据和你谈话的对象、特定时段的掌权人以及你是否和老板有肉体关系的不同，都可能产生不同的结果。一般而言，你只能依靠你自己，获得独立性的唯一方法是成为一个独立人。成为一家高科技公司的员工，意味着你已经决定出售你的智力成果，无论结果是好是坏，但你可以自由选择。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111108\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111108votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111108\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/9667abaa540914200edd449974fb5538.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            我见青山多妩媚，料青山见我应如是        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zhj318\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zhj318/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 14</a> · <a title=\"QQ：574375911\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "3", "fav_nums": 2, "comment_nums": 3, "front_image_url": ["http://wx2.sinaimg.cn/large/63918611gy1ffdu7fxim7j20sg0lcn1h.jpg"]},
{"url_object_id": "e6eeca8507619f78422cc22434a64a0d", "create_date": "2017-05-09", "front_image_path": "full/7c6ea6a76452b1f8f9d64cfa9a53149cef200560.jpg", "title": "代码只是事业的 5%，程序员创业注意事项", "url": "http://blog.jobbole.com/111121/", "tags": "创业", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/sunshinebuel\">sunshinebuel</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://ianlandsman.com/2006/10/06/10-tips-for-moving-from-programmer-to-entrepreneur/\">Ian Landsman</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：代码只是程序员技术创业中的 5%，还要做长远考虑，要有耐心，产品设计要简单易用，勇于做减法，删除某些已经花了时间做了但不奏效的功能。下面来自技术创业者 Ian Landsman 的经验分享。</p>\n<hr>\n<p>许多参加过 BarCamp 的人都在致力于从程序员转型为创业者。尽管我从来不是一位真正意义上的核心程序员（这意味着把我关在地下室与山露（一种美国生产的饮品）相伴，并在一周之内写出一万行代码），但我确实曾做过这种转型。同时，这些年创办经营 HelpSpot 的经历，也确实让我明白了许多人在创业转型过程中失败的原因。</p>\n<p>以下是我的一些看法：</p>\n<h3>代码只占你事业的 5%</h3>\n<p>我发现开发人员最大的问题就是容易深陷于代码泥潭而不能自拔。花费无数个小时来优化一个函数，或是创建某种特性来炫耀最新技术。诚然，在软件公司你必须要写代码，并且是没有 bug 和安全问题的高质量代码。但如果没人了解你的产品，即使你的代码再好也是徒劳。如果你因为没有缴税而被国税局扔进监狱，或是因为没有理会律师发来的软件许可证而被起诉，那你的代码便毫无意义。</p>\n<p>我在论坛和博客中遇见过太多这样的创业者：他们本应讨论和学习业务知识，而不是一味探讨代码问题。显然讨论代码问题更加困难，但是业务知识同样也不简单。</p>\n<h3>设计就是一切，特别是相对于竞争对手</h3>\n<p>你的产品必须要精心设计。具有灰色背景的标准方框控件是远远不够的！你要记住，你的设计只需要比竞争对手更出色一点。所以假如你正在开发一款后台信息管理系统，那你就完全没有必要让自己的设计达到 37 Signals 公司开发的 App 那样的效果，而你的目标仅仅是确保，让你的用户认为你的产品，比竞品有更棒的设计。记住，人们总是以貌取人。</p>\n<h3>习惯做长期规划</h3>\n<p>没有什么事情能比改善代码更让程序员兴奋的了。发现 bug 并且消灭它。但问题是在小型独立软件开发商那里，很多与编程无关的业务并不会那么快出现。你必须学着做长远规划。诸如市场营销以及产品定位等事宜，会花费数月乃至数年的时间。这并不会像写代码那样让你立马获得喜悦感，所以你必须强迫自己去做长远规划。考虑一下六个月后你的产品、市场以及销售问题。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/63918611gy1fffdbwqm9dj20je0b4jrr.jpg\" width=\"600\" height=\"344\"></p>\n<h3>承认自己不够了解终端用户的需求，并试着去纠正它</h3>\n<p>你所开发的软件很有可能是你不熟悉的领域。这其中往往蕴藏着好机遇，但是你也必须意识到你需要做的不单单是做市场调查，你需要了解实际的客户。和他们交流，我知道也许你内心是拒绝的，但你必须这样做。不和实际的终端用户交流，你将永远无法知道哪些特性只是在浪费时间，哪些特性又是你不具有但是却非常关键的。</p>\n<p>在这一点上，创业者犯的最大错误便是喜欢去抄袭竞争对手的功能，这是一个昏招。就像你抄朋友的家庭作业，你们最终会犯相同的错误。通过与客户交流，你可以避免竞争对手犯过的错误。</p>\n<h3>爱你的客户</h3>\n<p>许多软件开发者都来自于后端 IT 部门，我供职过的绝大多数 IT 部门都轻视客户（内部客户）。这并不稀奇，因为 IT 部门不是频繁被询问，就是几乎没人问。</p>\n<p><em><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/63918611gy1fffd4dk583g20dw07tnbp.gif\"></em></p>\n<p style=\"text-align: center;\"><em>（网络趣图：程序员眼中的用户）</em></p>\n<p>是时候把这些丢到一边了。我看到许多独立软件开发商将这个缺点带到商业软件领域，这样是无法存活的。成功的唯一方法便是爱你的客户。这意味着最大限度地满足他们的需求，并且不遗余力地去这样做。当你无法做到时，你需要去向他们解释原因。当他们选择竞品时，你要尊重他们的选择，同时提醒他们：当竞品无法满足他们的需求时，记得来找你。仅仅是因为友善地对待那些没有选择我们产品的客户，我就轻松追回了许多丢掉的客单。</p>\n<h3>设计要简单易用，即使是高级用户也喜欢简洁</h3>\n<p>用户界面不是用来炫耀技术的，保持简洁。高级用户和初级用户一样喜欢简洁的界面。保持界面简洁的最重要原因是，要留住产品试用期的客户，他们只会给你几分钟的时间。如果你让他们把时间都浪费在搞清楚复杂的界面上，我打赌他们会选择别的产品。</p>\n<h3>了解未参与项目的人士对你想法的意见</h3>\n<p>确保不时的花些时间将你最新的想法展示给未参与项目的朋友。他们往往能够发现你用户界面上的大漏洞。即使他们不熟悉你的领域，你也会惊讶于他们指出了许多你之前从未发现的问题。</p>\n<h3>做减法，敢于删除无用的功能</h3>\n<p>没有什么比从应用中删除一段完美的代码更让我这个程序员更加讨厌的了。唉，但你不得不这样做。在开发的过程中，你会发现一些本不应该有的功能。理想情况是在正式发布软件前就发现它们，在造成不必要的麻烦前就移除这些功能。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/63918611gy1fffdg9mvznj20jh0d375n.jpg\" width=\"601\" height=\"404\"></p>\n<p>比如，我在 HelpSpot 开发到一半的时候发现一个功能不够好。这个功能原本是将客户信息导入 HelpSpot。这是一个糟糕的想法，因为它只会让 HelpSpot 看起来像一个 CRM 的半成品。这意味着我的客户必须保持 HelpSpot 与他们实际的 CRM 保持同步，并且使 UI 变得更加复杂。最终我将这个花费了数周时间开发的功能给砍掉了。</p>\n<p>事实证明这是我做过最棒的决定之一。在砍掉同步功能的同时我引入了实时查询系统，客户可以通过 HelpSpot 在他们现有的 CRM 中进行查询。结果证明这个功能很独特，并且被大多数 HelpSpot 的安装用户所使用。</p>\n<h3>耐心是一种美德</h3>\n<p>当你专注于完成手头工作时会发现时间总是不够用。往往看起来只需一天的工作最终花费了数周。试着去变得有耐心。我发现自己必须牢记这一点，否则我会因没有大的进展而变得沮丧。可以的话，尽量避免和你的客户设定日期和预期目标。如果一个项目要花三个月的时间，那就不要承诺在一个月内完成。我自己一直在践行这一点。🙂</p>\n<h3>始终像学习编程一样对待创业</h3>\n<p>还记得你刚开始学习编程和啃每一本书的时光吗？在学习第一种语言的时候，你会买八本不同的书，虽然基本都是在讲一些差不多的内容，但你还是坚持都看完了，因为你总感觉自己学得不够多。在由程序员转型为创业者时你同样需要这种态度。你需要阅读手头上所有的资料，来了解目标市场、微小企业经营、市场营销、日常管理、时间管理等等。理想情况是在你开始动手编程前就阅读这些资料。这样做能免去很多不必要的麻烦，哪怕多花点时间也是值得的。</p>\n<p>我一直在期待你们的反馈，如果你自己也在做这种转型，请把你的经验分享出来，方便他人学习。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/85f924ce05b3b5a2e0e993aeb1ebae30.png\">\n            \n                            <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/71b393065ac2be7f16cd05554ead1678.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111121\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111121votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111121\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/sunshinebuel\">sunshinebuel</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/sunshinebuel\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/64a1e6c29a08a2594164c1380a4bfcab.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            新世纪的好青年，写得了代码，下得了厨房，玩得了乐器，过得了六级！        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/sunshinebuel\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/sunshinebuel/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/sunshinebuel/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"QQ：1156376002\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：zhifeijiang\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "2", "fav_nums": 7, "comment_nums": 1, "front_image_url": ["http://wx4.sinaimg.cn/large/63918611gy1fffdg9mvznj20jh0d375n.jpg"]},
{"url_object_id": "70d2203c5e250d3f135f31b6b3f45d65", "create_date": "2017-05-09", "front_image_path": "full/d2af481e7d248bf3ec0bb0dc80ee390b4b49fedc.jpg", "title": "以程序员的名义，分析 “人民的名义”", "url": "http://blog.jobbole.com/111112/", "tags": "其他", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.jianshu.com/p/a59dcc248844\">灯下鼠</a>   </div><p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffev8a95upj20rs0i0gvx.jpg\" width=\"600\" height=\"389\"></p>\n<p>我自小就惧怕吵架，觉得人不该像公鸡，脸红脖子粗的掐架特别不好，人就该斯斯文文的。</p>\n<p>这让我爱上了官场剧，不论是古代的官场剧，还是当代的官场剧，都喜欢。官员们聊起天来不动声色，暗藏机锋，生死对决都是在谈笑间搞定，这都让我啧啧称羡。</p>\n<p>所以，我是要看 “人民的名义” 的。虽然看电视这事，在程序员文化中，乃最遭歧视的三件事之一。</p>\n<p>看了 2 周后，我有了些感悟，算是一个观察，不一定对。那就是，本剧的编剧和导演，很可能是我们程序员圈子里的人，即便不是，也一定借鉴了我们程序员开发的很多思想和方法。下面展开讲一讲，供大家观剧参考。</p>\n<h3>模块化设计</h3>\n<p>人民的名义，这部剧的剧情，还有演员的表演，都采用了模块化来设计，模块与模块之间相对独立，只是松散的组合在一起。</p>\n<p>千丝万缕的剧情中，侯亮平的家庭、陆亦可的相亲、林华华的恋爱，这些情节模块都和主线不相关，却大费周折的讲述，非常怪异。 其中最令人费解的，是郑西坡一家的破事，郑胜利和张宝宝的青春戏没完没了，莫名其妙。这些情节都删掉，完全不影响本剧主题。</p>\n<p>看来，拍电视与做软件真是相通的。谁没遇到傻逼产品经理呢，一堆没用的功能模块往上加，搞得产品臃肿不堪。所以，还是要警惕，要崇尚极简，要砍需求，要控制欲望啊。</p>\n<p>人民的名义中，没几个模块是真有用的。</p>\n<p>我看人民的名义，只看几大常委的戏份，也就是高层官场模块。主要是育良书记、达康书记、季检察长、沙瑞金书记这几个人的戏。有时候，我会宽容的看几眼祁同伟厅长，还有赵东来局长，但不会太多。</p>\n<p>主角侯亮平、陆亦可他们的戏，算是政法模块，我全部跳过。至于林华华、郑胜利、张宝宝之流所属的模块，我是不敢看的，赶紧快进拉过去。在我感觉中，她们那部分的青春模块，和小时代应该差不多，虽然我并没看过小时代。</p>\n<h3>全栈导演</h3>\n<p>导演若是程序员，那么演员就是开发工具。 本剧的导演，绝逼是全栈工程师，他善于运用各种不同的语言。</p>\n<p>本剧中，不同的演员，风格和演技上的差异真是巨大。这就仿佛，前端用 H5 和 JS， 页面生成用 PHP， 后台逻辑用 Java，Java 里还藏着点 C。导演真是牛人，他生生就把这些工具，都搭在了一个系统中。</p>\n<p>在本剧中，只要角色级别高的，就演技好。几个常委，都是用的老戏骨，他们几个在一起演对手戏，很精彩。</p>\n<p>但级别低的，演技也就坡下驴，越来越低。 就连主角侯亮平，因为级别只是局长，就凑活着用的帅哥陆毅，全靠一张脸，颜值之外都是 0。</p>\n<p>最低层次的是大风厂的员工们，你仔细观察下，那些员工一个个猥琐不堪，在群众演员中都是差劲的，你想在其中发现个王宝强都难。</p>\n<p>有几个场景里，育良书记和侯局长两人凑到一起，我的感觉就是 Java 和 PHP 跑一起来了。</p>\n<h3>测试驱动</h3>\n<p>再一个，本剧的剧情设计，采用了测试驱动的方法，简单说，就是找 BUG 玩。剧中人物分好坏两种，好人是功能点，坏人是 BUG。所有的人要么好，要么坏，绝无中间道路。而本剧的所有情节，都是为的一个目的：把 BUG 找出来。</p>\n<p>而一个好官，则是一方百姓的父母。有一个好官，老百姓们从此过上幸福的生活。 来一个赃官，老百姓就沦入地狱。</p>\n<p>沙瑞金书记，作为最好最好的官，他的从政理念，就是找到一群好官，来带领百姓。</p>\n<p>坏人是 BUG，总是潜藏在好的代码中，只要把 BUG 都找出来，解决掉，系统就完美了！</p>\n<p>这种朴素的找 BUG 政治观，贯穿了我们几千年的历史啊。</p>\n<p>一个团队开发了一个系统，跑起来很烂，大家都受不了，产品经理就号召大家找 Bug，找啊找啊，找到一个，大家就欢呼，认为好日子马上就要来了。</p>\n<p>可是 Bug 越找越多，用户终于忍受不下去了，骂声娘删了系统，重新开始写一套，然后继续找 Bug。</p>\n<p>没人关注架构设计，没人关注代码规范，再说，程序员的水平也低下，硬件机器虽多，但全是破烂货。</p>\n<p>从辩证的角度来看，其实 Bug 虽坏，还是有一点好处的，Bug 让程序员们在大部分时间里有事可做，让用户在大部分时间里抱有希望…….</p>\n<p>反正，架构没谁敢动，也没那个智商，那我们就改改 bug 好了。</p>\n<h3>产品经理与架构师的关系</h3>\n<p>人民的名义中，揭露了很多官场贪腐现象，可谓触目惊心。几亿现金的贪腐、官二代巧取豪夺、副国级的大老虎，尺度前所未有的大。</p>\n<p>然而，对我来说，最震撼的不是贪腐，而是一个歌颂清官的正能量场景。每当清官易学习，还有改革大将达康书记，他们对着地图，指点江山建设城市，为百姓造福的时候，我真是心惊。</p>\n<p>他们要修路；他们要建开发区；他们要保护库区环境；他们要拆厂房。</p>\n<p>还有一场戏中，达康书记指着地图问杏枝表妹：“把地铁修到这里好不好？”，那一刻，我是懵逼的。 难道，地铁修到哪里，真的是书记来决定么？</p>\n<p>从程序员的角度，我只敢问一个问题： 书记们是用户呢，还是产品经理？ 或者是架构师？</p>\n<p>在软件开发中，这几种角色一般都是分开的，他们之间是这样配合的： 用户提需求； 产品经理与用户讨论需求，然后总结需求，并代表用户规划出产品功能；架构师根据产品经理的要求，设计系统；程序员开发……..</p>\n<p>本剧中，导演垮了个界，借机抛出了一个软件开发的问题：用户、产品经理和架构师，该如何分工协作。</p>\n<h3>数据为王</h3>\n<p>本剧虽热，但褒贬不一。大部分群众是喜欢的，部分穷酸文人不喜欢，批评戏太假，或者批评本剧谄媚颂圣、投其所好。</p>\n<p>我要代表程序员，坚定的表个态： 人民的名义是部好剧。</p>\n<p>即便是有演技问题，即便是有情节松散、故事虚假的问题，即便缺乏文艺感，这都不能妨碍本剧成为一部划时代的神剧。</p>\n<p>软件写的架构低劣，代码质量极差，界面不友好，但是只要这个软件能够展现出一些宝贵的数据，那就该是好软件。</p>\n<p>数据为王。</p>\n<p>人民的名义里，已经在许可的尺度下，尽量展现了种种社会现实，这就足够了。</p>\n<p>处长可以贪污上亿，官员盘根错节裙带勾连，警权肆意妄为，这些真实的情节就足以让本剧闪光了。</p>\n<h3>用户的名义</h3>\n<p>乔布斯书记曾经说过：用户不知道自己要什么。  所以乔布斯书记不在乎用户的名义，他想设计成什么样就设计成什么样。</p>\n<p>只有二流三流的产品经理和程序员，才打着用户的名义。这是完全没必要的，他们太高估用户的智商和威力了。</p>\n<p>用户们是那么虚荣、贪婪、盲目、胆小，真的不必顾忌了，抛开用户的名义，大胆搞吧。把地铁修到你喜欢的任何地方，没问题的！</p>\n<p>最后再重复一句，不管是以程序员的名义，还是以人民的名义，人民的名义都是部好剧。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111112\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111112votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111112\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 0, "comment_nums": 0, "front_image_url": ["http://wx1.sinaimg.cn/large/63918611gy1ffev8a95upj20rs0i0gvx.jpg"]},
{"url_object_id": "96cda7ef3919065a5e138056c31c1c91", "create_date": "2017-05-09", "front_image_path": "full/5d0997b4a6bc74053e1a6b5de5d794637a13c4d8.jpg", "title": "API 的历史", "url": "http://blog.jobbole.com/111115/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://apievangelist.com/2012/12/20/history-of-apis/\">apievangelist</a>   译文出处：<a target=\"_blank\" href=\"http://www.jianshu.com/p/69726b1ed378\">灯下鼠</a>   </div><p>历史无处不在。 研究我们来自何方，有助于指引我们前行。科技的发展日新月异，但时常停一下匆忙的脚步，稍稍回顾一下历史，却总是有益的。 下面就让我们来看一看 API 的历史。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffez88dzhij20d207xq3b.jpg\"></p>\n<p>API 概念的出现，远远早于个人计算机的诞生，更不用说网络的诞生了。在公用数据处理的早期，为了一个应用能够与其它系统交互，开发者便已开始设计可公开访问并描述清晰的“接入点”。早在那时，这种做法作为一种准则，已是软件开发的主流理念。 但是，直到分布式系统的出现，乃至网络的降临，这些基础概念才淋漓的发挥出其重要性和惊人功效。</p>\n<p>当我们回顾 API 的历史，会发现其中有一个阶段非常重要。 那是2000年左右，SOA(面向服务的架构)正在发展之中。API 的一种形式在企业应用中诞生。作为 SOA 伟大实践的一种，这种形式的 API 走出了企业应用的领域，在创新科技的世界里找到了更肥沃的土壤。</p>\n<p>到了今天，我们能从技术角度，找出无数原因来解释为何 web API 能够在各种类型、不同大小的企业中获得成功，甚至也广受政府机构的欢迎。 但实际上，技术并非一切。web API 的成功，还要归功于很多其它方面的因素。这些因素大多并不那么抢眼，所以需要我们认真的研究历史，经过仔细观察才会发现为何那些 web API 的开拓者能够成功。</p>\n<p>时至今日，我们还是要去学习过去十几年里的最佳实践。在对那些成功提供 API 的开拓者，包括 Amazon，Salesforce， Ebay，Twitter进行研究时，我们不能忽略任何重要细节。要知道，它们提供的 API 大部分还在运行着。</p>\n<p>只要回头看去，我们就能清晰的看到很多模式。正是这些模式定义了这个行业。有些模式我们要学习，有些则需要避免。</p>\n<h2>商业</h2>\n<p>在第一次互联网泡沫破裂之后，众多电子商务平台立刻开始行动，寻找跨平台产品合作的方法。 在现有的 HTTP 架构之上构建的 web API，成为了当之无愧的最佳工具。</p>\n<p>看到了这个契机，很多技术先驱开始着手为交易和商业管理定义最初期的 API。 从而拉开了大幕，开始了一场历时10年之久的变革。今天我们称之为 web API 的早期历史。</p>\n<h3>SalesForce</h3>\n<p>2000 年 12 月 7 日， 在 IDG 2000 Demo 大会上，SalesForce.com 正式发布。</p>\n<p>SalesForce.com 发布了企业级、基于网络的销售自动化系统。口号是“互联网即服务”。 XML API 在SalesForce.com 诞生的第一天，就是其重要组成部分。 SalesForce.com 强调用户需要在不同的业务应用系统中共享数据， 而 API 便有了最好的用武之地。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/d4222b0a98633ffbe47597286f4cbf91.png\"></p>\n<p>Marc R. Benioff 是<a href=\"http://salesforce.com/\" target=\"_blank\">SalesForce.com</a>的主席和创始人。 他指出：<a href=\"http://salesforce.com/\" target=\"_blank\">SalesForce.com</a>是第一个真正利用互联网来提供企业级应用软件的解决方案，而且成本仅仅是企业级软件的一个零头。</p>\n<p>在企业级 web 应用和 API 领域，<a href=\"http://salesforce.com/\" target=\"_blank\">SalesForce.com</a>是第一个云提供商。它所提供的产品，就是今日所谓的 “ SAAS, 软件即服务”。</p>\n<p>在 web API 领域，<a href=\"http://salesforce.com/\" target=\"_blank\">SalesForce.com</a>不仅是抢跑第一，直到今天，依然是领者。<a href=\"http://salesforce.com/\" target=\"_blank\">SalesForce.com</a>在实时 API， 测试及部署上，还是保持领先位置。最近又在移动应用开发和后端即服务（BaaS）方面，开了先河。</p>\n<h3>Ebay</h3>\n<p>2000 年 12 月 20 日，eBay 发布了 eBay Application Program Interface （API），同时还发布了 eBay 开发者计划。</p>\n<p>最初的 eBay API，只针对一部分指定的合作伙伴和开发者开放。</p>\n<p>eBay 宣称：</p>\n<p><i>我们新的 API 是一场变革，极大改变用户在 eBay 上做生意的方式。也将大大提升网站上的交易数量。我们为 eBay 平台的开发者提供了应用开发工具，我们深信 eBay 将紧密的集成到很多网站中，包括现有的和未来的电商网站。</i><br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/4249bcabbffaa514e3d15154748aad41.png\"></p>\n<p>eBay API 的诞生之前，就已经有很多应用集成了 eBay 网站。有的合法，有的不合法。 此举公开发布，实际上也是顺势而为。</p>\n<p>eBay API 的目的是为了标准化集成。也为了让合作伙伴和开发者，在围绕 eBay 生态圈开发业务时，更加容易。</p>\n<p>eBay 是 web API 和 web 服务的先驱。今天，依然运营着最成功的开发者生态环境。</p>\n<h2>社交</h2>\n<p>当 API 驱动的电商平台，还在奠定基础，寻找使用 API 的最佳方法时，另一种崭新的技术平台出现了。 当时的 web 上，内容和短消息正当其时。这种新的技术平台，开辟了新的模式，完全以用户为中心，而且帮助人们进行网络社交。</p>\n<p>在2003年至2006年间，诞生了这种社交平台。随之，通过 API，人们能够发布自媒体内容，能够共享 web 链接、照片和其它多媒体内容，于是社交平台风靡一时。 API 的崭新时代开始了。这个时代，金钱退后，一切都围绕着“连接”展开。</p>\n<p>这些新型 API 驱动的社交平台，将技术推动到了新的全球高度。自那之后，一切应用，都将烙上社交的印章。而社交的功能，则由平台的 API 定义。</p>\n<p>社交，是 API 行业错失的关键要素。</p>\n<h3>del.icio.us</h3>\n<p>del.icio.us 是一个社交型的书签服务，用以保存、共享和查找 web 书签。Jousha Schachter 在 2003 年创建了这个网站。</p>\n<p>del.icio.us 实现了一个非常简单的标签系统。 用户可以轻松的给自己的 web 书签定义标签，而且用可以理解的方式定义。 更进一步，它为平台上的所有用户，开创了一种大众分类法。从而更有效的在用户之间对 web 链接进行分类和共享。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/986b8c27ee9574e24d99628e1ca90ca0.png\"></p>\n<p>del.icio.us 所用的是一种创新的方法。 用户可以用 URL http://del.icio.us/tag/[标签名]/ 的形式搜索标签列表，或者公开的 web 书签。 例如，如果我要搜索关于 airplane 的书签，则我可以输入 http://del.icio.us/tag/airplane，这样我就可以获得所有标签是“airplane”的书签列表。非常简单。</p>\n<p>再来说说它的编程接口， 那更是一种顺畅的体验。 如果你想要“airplane”标签的 HTML 页，则输入http://del.icio.us/tag/airplane。 如果要 RSS的标签，则输入http://del.icio.us/rss/tag/airplane。 如果要 XML的，则输入http://del.icio.us/api/tag/airplane。 当然，在最新版本中，这些 API可能已经变化了。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/22d70d50384a6edad94c3289336c4a33.png\"></p>\n<p>del.icio.us 是第一个给出了铁证，证明了使用简单易读的 URL，可以同时提供 HTML 内容，以及机器可读的 RSS 和 XML。这种分享书签的技术，为未来的 API 开辟了道路，从此以后，API 对于开发者和非开发者，都一样容易理解。 任何轻度的技术用户，都能够轻松的解析 XML 或 RSS。并能够开发或者反向编译围绕del.icio.us内容的widget和app。</p>\n<p>自从流行后，<a href=\"http://del.icio.us/\" target=\"_blank\">del.icio.us</a>已被出售了两次。一次在2005年出售给 Yahoo!，一次是2011年出售给 AVOS System。 但是，<a href=\"http://del.icio.us/\" target=\"_blank\">del.icio.us</a>依然是 API 大潮在社交时代中的支柱平台。经由它，确立了 API 分享在 API 经济中的关键地位。还经由它，“简单”成为 API 设计的根本原则。</p>\n<h3>Flickr</h3>\n<p>2004 年 12 月，Flickr 发布。这是一款非常流行的图片分享应用。 六个月后，Flickr 发布了它们的 API服务。再过六个月，Flickr 被 Yahoo 并购。</p>\n<p>Flickr 刚开始，是一个在线游戏，但它快速的演变成了社交照片分享，而且轰动一时。</p>\n<p>Flickr 发布的 RESTful 风格的 API，迅速吸引了早期的博客和社交媒体。用户可以利用这种 API</p>\n<p>方便的将 Flickr 照片嵌入到博客和社交网络中，由此 Flickr 成为了图片平台中的老大。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/104c2ebcce13d30914e119b1c50792c2.png\"></p>\n<p>Flickr 的联合创始人 Caterina Fake 创造的概念 BizDev 2.0 （业务拓展 2.0），就是来源于 Flickr API的灵感。 Flickr 没有办法满足服务需求的暴涨，于是建立 API以提供自助服务来拓展业务，想起来也是理所当然之举了。</p>\n<p>这种使用 API 的核心理念，其意义已超越创造它的 Flickr 公司本身，乃至并购者 Yahoo。 API 业务模式的精髓之一就是利用 API 进行业务扩展。在这种模式中，把 API 已经不仅仅是一个技术概念了。</p>\n<p>API 已经成了企业经营生意的利器。面对合作伙伴也好，公众消费者也好，各种业务中都可以使用 API。但 API 的发展壮大，还有更远的路途要走。</p>\n<h3>Facebook</h3>\n<p>2006年8月15日， Facebook 发布其开发平台和 API时，人们已经等待良久。 Facebook 开发平台的1.0 版本提供对 Facebook 好友、照片、活动和个人信息的访问。</p>\n<p>API 使用 REST， 信息以 XML 格式提供。这也是当时社交 API 最通用的做法。</p>\n<p>几乎是一瞬间，开发者们就用这些新的开发工具，创建了各种社交应用、游戏和糅合（Mashup）应用。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/522d8d6431b2b52410c45b9bc1b1ed1c.png\"></p>\n<p>正是 Facebook 开发平台，让Facebook彻底战胜了它的老对手 MySpace。 也正是Facebook开发平台，让Facebook凭借 Farmville 等游戏，一跃成为社交游戏平台中的霸主。</p>\n<p>虽然在开发者圈子中，对Facebook API和平台的不稳定性，颇多诟病。 但随着越来越多的应用和合作伙伴的加入，越来越多的新功能和新体验也层出不穷， Facebook API 和平台，无疑是关键的驱动力。</p>\n<h3>Twitter</h3>\n<p>2006 年 9 月 20 日， Twitter 将 Twitter API 推向世界。</p>\n<p>有点类似 eBay API, Twitter 推出 API 也是无奈之举。 太多的网站攻击和太多的非法 API，让Twitter不胜其烦。</p>\n<p>Twitter 公开的 API，以 REST 风格的接口提供 JSON 和 XML格式的数据。</p>\n<p>刚开始，Twitter 使用 Basic Auth 来做 API 认证。 四年后，Twitter 转而使用 OAuth，强制要求所有的 API 请求都要通过认证。这也就是 Twitter OAuth Apocalypse 诞生的故事。当然，Twitter OAuth Apocalypse 在今天口碑不佳。</p>\n<p>短短四年里，Twitter API 成了无数桌面客户端、移动应用、web 应用和业务系统的中心。 甚至 Twitter 自己，也在其开发的 iPhone, iPad, Android 应用中使用这些 API。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/0a6cf9b3b85be601212d282f01c980a9.png\"></p>\n<p>Twitter 是最重要的 API 平台之一。 同时，它极好的说明，只做好一件事的极简平台，完全可以大获成功。只要通过 API 形成开放访问，那么开放的 API 生态会带来无限可能。</p>\n<p>Twitter 也是一个重要的反面教材。提醒人们注意 API 生态环境的负面作用。 在 API 生态环境的发展过程中，必须慎重考虑各种政治因素。</p>\n<h2>商业和营销</h2>\n<p>API 源自电商，走进社交，很明显这个行业需要一些标准化。 方法就是引进一些常规的商业规范。这个行业需要对 API 部署的方法进行标准化，也需要提供营销手段来对 API 和常规的商业规范进行宣传。</p>\n<p>为 API 领域建设常规的商业和营销规范，需要在普通大众中进行传播，并对 API、还有其中的公司及行业广为宣传。 自2005年至今，我们知道有两家独立的 API 开拓者，正在进行 API 行业定义。</p>\n<h3>ProgrammableWeb</h3>\n<p>在研究 API 的历史中，关注点极易局限于 API 本身。 而忽略了 web API 整个历史上最重要的那个孤独身影 －ProgrammableWeb。</p>\n<p>2005 年 7 月， John Musser 创立了 ProgrammableWeb。 在他最早的“关于我们”页面上，他是这么说的：</p>\n<p><i>ProgrammableWeb 是一个基于“网络即平台”理念的推荐站点和博客。 我们针对使用 Web 2.0 API 来开发应用的人，提供各种新闻、信息及资源。<br>\n</i></p>\n<p><i>之所以创建这个网站，是因为我自己想用，却无法找到类似的站点： 为 web 平台开发提供一个技术上的起点。虽然无法确证，但我创建的上一个推荐站点，在 Google 的该类主题中，排名几乎是最高的。而这个站点，会有来自社区的各种协助和努力，相信它会更加成功。</i></p>\n<p><i>希望于您有助。</i></p>\n<p><i>John Musser – 西雅图， 2005年8月</i></p>\n<p>John 在更早的博客中，也言及创建 ProgrammableWeb 的初衷： 为什么？ 因为从 Web 页面到 Web 平台，是一个巨大的机会。</p>\n<p>Web API 是个巨大机会！ 无论是对社交网络，还是政府、健康产业，或者教育行业，有一个可编程的平台以交换数据和资源，都将在以后的商业和社会运作中，发挥重要作用。</p>\n<p>John 的决心下的很早。他要对比两种技术潮流。一种是开放的 RESTful 风格的 API。另一种是并行发展的SOA 和 Web 服务。他关注于宣传开放的 API。而这一切发生时，硅谷对开放 API 还并不了解。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/deadcf85dcf1926a73dba50539956812.png\"></p>\n<p>几年之后，web API 技术在硅谷广为接受，这也要归功于 ProgrammableWeb 的宣传。</p>\n<p>时至今日， API 已经成为一个主流技术和应用模式。我们依然要感谢 ProgrammableWeb。 John，Adam 还有其它作者在 ProgrammableWeb 上所做的宣传，对于定义 API 行业至关重要。从此，我们开始创造、改进并大步向前。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/9fbb8cb2cbb40223e18b6e84218d8d6f.png\"></p>\n<p>如果不是这些从技术、商业和政治角度对 API 展开的讨论，这些虚拟的接口，可能还无法在我们现实生活的世界中找到一席之地。</p>\n<h3>Mashery</h3>\n<p>2006 年 12 月， Mashery，第一个 API 服务提供商，“低调” 的出现。它为那些想要提供公开和私有 API 的公司，提供文档支持、社区管理和访问控制。</p>\n<p>2006年的这个时刻，我们正见证着 API 从社交时代，进入云计算时代。标志事件就是 Amazon Web Service 的诞生。 再无疑问， web API 的世界成为现实，对于提供 API 管理服务的公司来说，这是巨大的市场机会。</p>\n<p>虽然有很多工具可以部署 API，但仍然还没有管理 API 部署的标准方法。 Mashery 是第一个为 API 提供商引入标准服务的。从而为 API 行业未来的发展，奠定了一个台阶。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7b418337ecd52825d46312cdabb1da52.png\"></p>\n<p>到 API 行业成熟，还需6年的光阴，在这个历程中 Mashery 贡献巨大。 今天我们熟知的这个领域，是由早期的先驱，包括 SalesForce 和 Amazon， 社交先驱 Flickr 和 Delicous 所定义。 而 Mashery 则定义了今天的商业 API。</p>\n<p>2013 年， Mashery 被 Intel 收购。 再次证明 API 行业已然成熟。</p>\n<h2>地 图</h2>\n<p>一个早期的 API 先驱，敏锐的看到了一个需求。那就是为 web 开发者提供简单的，基于 JavaScript 的地图，帮助实现在线导航、寻找内容、甚至在现实世界中导航。</p>\n<p>web 开发者马上看到了可嵌入地图的巨大潜力。 他们想办法攻破了各种地图资源，然后创造了各种用户喜爱的 web 应用，为用户解决日常的各种本地问题。</p>\n<p>在为开发者提供地图工具和服务的这些 API，为早期的移动开发者提供了指引。 而移动 API 时代，也随之而来。</p>\n<h3>Google 地图</h3>\n<p>2006 年 6 月 29 日，google 发布 google 地图 API。 开发者可以使用 JavaScript 在自己的网站中嵌入 google 地图。</p>\n<p>google API 的发布仅仅晚于 google 地图应用 6个月。 也是为了应对层出不穷的那些非法接入google地图的流氓应用。google 地图太受欢迎，开发者们破解了 JavaScript 接口，开发了类似<a href=\"http://housingmaps.com/\" target=\"_blank\">housingmaps.com</a>和<a href=\"http://chicagocime.org/\" target=\"_blank\">chicagocime.org</a>之类的应用。 破解 google 地图的需求是如此强烈，O’Reilly上甚至出了“地图破解” 和“google 破解”这样的书。</p>\n<p>google 地图 API 引发了糅和应用（mashup）热潮。位置信息数据被广泛应用。今天，总计约有2000多种这样的糅和应用（mashup）。</p>\n<p>API 展现了地理位置数据和地图API的无尽价值。 也展现了用户们的力量，这种力量在极大的左右着应用和API的发展方向。Lars Rasmussen，是 google 地图最早的开发者。 他承认，在开发者社区中观察开发者如何实时破解应用，让他学习到很多知识。而且实际上，他们也把这些知识应用到了今天的 API 中。</p>\n<p>没有几家公司，拥有google那样丰富的资源，能够完成世界地图这样的项目，并发布可复用、基于 API 的资源。在 API 的世界里，google 在各方面都居功至伟。 但 google 地图在 API 的历史中，还是不可比拟。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/815e4d10dfe2fbc81bd967faea3f0d35.png\"></p>\n<h2>云 计 算</h2>\n<p>就在 API 在互联网上闹哄哄的时候，Amazon 看到了 RESTful 理论在商业上的潜力。它敏锐的察觉到了API世界里一块无人触及的处女地。 Amazon 创造了使用 API的新方式，这种方式带了了远超电商的意义。 Amazon 重新发明了计算。</p>\n<p>Amazon 变革了我们对构建 web 应用的认识。 通过 API 的运行，提供了让 API 运行所需的最关键因素。我们今天所谓的云计算，改变了一切。 移动、平板、传感器，以及其它 API 驱动的领域，才具有了发展的可能性。</p>\n<p>云计算，是 API 行业错失的关键要素。</p>\n<h3>Amazon S3</h3>\n<p>2006 年 3 月， Amazon 发布了新的 web 服务。完全不同于 Amazon 的买书和电商业务。这是 Amazon的新征程： 存储的 web 服务，成为 Amazon S3。</p>\n<p>Amazon S3 提供了一个简单的接口，用来存储和检索数据。用户通过 web 上，可以在任何时间、任意地点处理任意数量的数据。 这些开发者可以用来数据存储的基础设施，和 Amazon 运行自己网站所使用的一样。具备同样的高扩展性、高可靠性、高效性能，并且价格低廉。</p>\n<p>Amazon S3 或者“简单存储服务”最初就是一个 API。 没有 web 接口或者移动 app。 仅仅是一个 RESTful 风格的 API，可以对文件或者对象执行 PUT 和 GET 请求。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/37e01c55154c4f90c742d98602b94652.png\"></p>\n<p>开发者使用 S3 API，每月每个G的容量，要付的价格是 0.15 美元。</p>\n<p>通过这种新 API和新收费模式，Amazon 创造了一个新的计算类型，现在我们称之为云计算。</p>\n<p>这也意味着，API 不仅仅为了数据或者简单功能，还可以用来提供运算基础设施。</p>\n<h3>Amazon EC2</h3>\n<p>2006年8月，就在 Amazon S3 发布之后不久，Amazon 又发布了一个新的云计算服务，称之为 Amazon EC2，全名是“弹性计算云”。</p>\n<p>Amazon EC2 在云端提供可随意配置大小的计算能力。开发者可以在 Amazon 数据中心里，启动不同大小的虚拟服务器。</p>\n<p>和前辈Amazon S3一样，Amazon EC2 也只是一个 RESTful 风格的 API。在接下来的三年里，Amazon 一直没有发布 web 接口。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/5b2a0b2baa7b2a01972d92390e48bf57.png\"></p>\n<p>开发者使用 Amazon EC2 API，可以启动小型、大型和超大型服务器。按照服务器运行的小时数收费。</p>\n<p>Amazon S3 和 Amazon EC2 一道，为平台提供了新一代的计算模式。而 API，是这种模式的核心。</p>\n<h2>移动的世界</h2>\n<p>随着 iPhone 和 Andorid 智能机的兴起， API 从服务电商、社交和云计算，开始走向为移动手机提供资源。而我们口袋里的这个智能机，很快就要主宰我们的地球。</p>\n<p>API 让重要的资源实现了模块化、可移植和分布式。 无疑，在开发移动和其它各种形状和各种尺寸平板应用中， API是最佳通道了。</p>\n<p>为数不多的一些 API 平台，开始定义这部分领域。他们所开发的应用，让他们赢得了开发者和用户的全心热爱。</p>\n<h3>Foursquare</h3>\n<p>2009 年 3 月， SXSW 嘉年华在德州的奥斯汀举行，就在那时，Foursquare 发布。</p>\n<p>Foursquare 是一款移动平台，基于位置信息，让人们更热爱去探索城市。通过使用智能机 app 或者短信签到，用户可以与朋友分享位置信息，同时获得积分和虚拟勋章。</p>\n<p>2009 年 12 月，Foursquare 完成了一轮天使融资，投资者包括 Union Square Ventures和</p>\n<p>O’Reilly AlphaTech Ventures。随后，Foursquare 发布了他们的 API。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/c13dd6a98a491664f4609dc7b5a7452e.png\"></p>\n<p>在 API 发布时，Foursquare 已经有了一些来自合作伙伴的应用。包括一个 Andorid 应用和来自 Layar的增强现实应用。</p>\n<p>Foursquare 面对的竞争很多。Gowalla，起步更早。Facebook 和 Google 更大。但 Foursquare 依然是最主流的位置分享和签到移动平台。</p>\n<h3>Instagram</h3>\n<p>2010 年 10 月 6 日， Instagram 发布了照片分享应用。</p>\n<p>那个时候，它仅有一百万用户。而三个月后，用户数将远超此时。</p>\n<p>Kevin Systrom， Instagram 的创始人，他专注于提供强大但易用的 iPhone app。目标是为人们解决使用手机拍照中普遍面临的问题： 照片质量、和无法分享。</p>\n<p>但很快，许多用户开始抱怨，Instagram 缺少后台网站或者 API。 Instagram 的焦点依然停留在核心iPhone应用。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/441817c58dc2e7ccff60f654b1245f5b.png\"></p>\n<p>12 月份，一个叫 Mislav Marohni 的开发者，反向编译了Instagram app，并自行开发了非法 InstagramAPI。</p>\n<p>1月份，Instagram 切断了非法 API，并宣布正在开发自己的 API。</p>\n<p>2011 年 2 月，Instagram 发布了图片平台的官方 API。</p>\n<p>几天内，围绕着这个 API，就出现了许多照片应用，照片分享网站，以及糅和应用(mashup)。</p>\n<p>Instagram 成为了一个病毒式传播的 iPhone app。但马上它就需要一个 API 来充分发挥潜力。 在 API 的移动时代，它作为一代霸主的地位无法撼动。</p>\n<h3>Twilio</h3>\n<p>2007 年， 一个新的 “API即产品”（ API-as-a-product）平台诞生，名字是 Twilio。Twilio 提供语音 API，开发者可以用以开发打电话和接收电话的云应用。 在过去的3年里，Twilio 还另外发布了短消息和 SMS 验证码 API。这样 Twilio 就成了开发者工具箱里最重要的电话通讯资源。</p>\n<p>在对开发者进行传播时，Twilio 是一个经典平台。 Twilio 清楚的定义了一个健康的 API 平台，需要那些技术和业务的模块来构筑。 Twilio 也给 API 的宣传者在各种活动和编程马拉松中，设定了一个标杆。 Twilio 一直在努力去推广、支持并投资开发者生态。<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/5f1b320b01838757745debc45b7adf9d.png\"></p>\n<p>与 Foursquare 和 Instagram 一样， Twilio 也开始定义移动开发，帮助推动 API 进入主流应用。谈到 API，Twitter 有时会成为反面教材。但 Twilio 则说明，只要做对了， API 完全可以推动生态系统运行。</p>\n<p>2011 年时，通过 HTTP 提供 API 的标杆已经建立。建设者包括那些早期的先驱，例如 SalesForce 和 Amazon。 但通过在移动时代发起的革命， Twilio 再次证明了 API 业务是多么成熟。当然，基于 API 的移动开发，依然扎根于电商、社交和云计算所铺设的基座上。</p>\n<h2>了解历史</h2>\n<p>了解历史，为的指引未来。 我们把 web API 的过去，称之为历史，也许并不十分恰当。毕竟那跨度只有短短的十几年。 但 API 的先行者们积累了太多的经验，需要学习和研究，我们不能忽视。 如果技术专家们方法得当，API 也许在电商时代就已大为成功了。 但伴随着 Amazon，Twitter， Twilio 这些公司的伟大创新，我们现在深刻理解了 API 业务需要几个关键的成分： 电商、社交、云计算和移动。</p>\n<p>当然，说到底，还是需要赢利。 不过，API 需要可扩展，也需要提供对用户有用的工具、服务和资源，否则一切都将落空。当我们坚定的站在 API 发展的移动时代，看到这个时代的变革围绕设备和物联网而产生，我们必须了解过去的历史，也必须了解我们如何发展到现在，只有这样，我们才能对未来的发展做出正确的决策。</p>\n<p>Web API 的意义在于，通过万维网提供有价值的、有意义的、可扩展的、分布式的资源。 当硅谷在不断开发下一代技术解决方案时，我们一定不能忘记过去。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111115\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111115votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111115\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 0, "comment_nums": 0, "front_image_url": ["http://wx2.sinaimg.cn/large/63918611gy1ffez88dzhij20d207xq3b.jpg"]},
{"url_object_id": "e3525267bb91df771d7028ccd634fe54", "create_date": "2017-05-05", "front_image_path": "full/25e070e6d5acdf03cbdd25343e56d7835c47180a.jpg", "title": "王小波的计算机水平到底有多好？", "url": "http://blog.jobbole.com/111016/", "tags": "其他", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.zhihu.com/question/20964366\">知乎</a>   </div><p>导读：有网友在知乎上提问：</p>\n<blockquote><p>王小波的计算机水平到底有多好，在王小波自己的小说中，王小波非常骄傲地说，写书的软件都是自己编写的，王小波是自学的还是教的？都会什么语言？谢谢各位！！</p></blockquote>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2014/08/93007774df953a3c852610443251c7f1.jpg\" width=\"450\" height=\"282\"></p>\n<h3>下面是<a href=\"https://www.zhihu.com/question/20964366/answer/95202867\" target=\"_blank\">王小波外甥姚勇（知名ID：王书）所写</a>，伯乐在线已获授权</h3>\n<p>以下文字都是我本人写的。为了让阅读方便，减少模糊性。我在文中以第三人视角描述。 而不用“我舅舅“，”我姥姥“，”我大舅舅“，”我小舅舅“之类的称呼。 这是一个十几年软件工程师的习惯而已。</p>\n<p>我舅舅是王小波。我是个禁不住人肉的老百姓。资质平庸。 王小波一篇《我是怎样做青年思想工作》的杂文在我青年单身适龄的年代，给我个人做了最大程度的广告。算是他老人家留给我最宝贵的遗产之一。 除此之外，还有他那台用了很久的 PC，在他去世前一年送了我。</p>\n<p>他是汇编高手。自己用汇编写了DOS下的汉字输入法。输入法有个功能，可以加 4 声。 一般拼音输入法没有这功能。这需要普通话读音正确的使用者。90年代总共也没几种汉字输入法。看过他用自己输入法打汉字。速度几乎和盲打英文一样。那时候我大学，正在疯狂苦练吉他。并没有弄懂他用了何种技术。虽然我从小学也用 Z80 和 APPLE II 做些机器码编程做游戏。但到了中学为了高考，计算机就荒废了。</p>\n<p>他人生最后几年，WINDOWS 3.2开始普及。然后是 Win95。 他开始从 DOS 转向 WIN32 SDK 编程。最终非常任性地熬夜苦干了很长时间，把输入法转为 WIN32 SDK 在 WINDOWS下正常工作。当时 WINDOWS 已经有不少汉字输入法。 尤其到了 WIN95 时代。 他这么做也只是出于兴趣，而不是在 DOS 时代的必须。就 WIN32 SDK 我们还讨论过一些。那时候WIN32 SDK 真的是很难用。主要是互联网还没有（我是 96 年后用上的），资料很少。匈牙利命名法陌生。WIN32 的体系和 DOS大相径庭。全部都很陌生。而且完全抛弃了DOS 那套东西。所有 90 年代 DOS 底层程序员向 WIN32 的迁徙都是一部血泪史。</p>\n<p>他人生最后一年，多媒体开始普及。光驱、声卡、2D 加速卡普及。95~96 年他开始和我合计做多媒体出版。原因现在想起来很悲伤 —— 他的书很难在大陆出版 。 他不得不想办法让他的作品能够让更多人看见。而平时维持生计，只能忍着严重的痔疮，每日给各种杂志写杂文稿件。 多媒体的兴起，让他感觉也许利用他的技术优势，自行制作电子出版物。配上插图，音乐，用电子书籍方式可以让自己作品为大众所见。他给我看了已经制作了一部分的 DEMO。就和现在用 Micromedia 多媒体制作软件制作的电子多媒体制品很像。电子书内容是黄金时代。有图案的背景。按空格可以翻页。同时有音乐。好像偶尔还会有一点动画的特效（我记不清了） 。但当时的DEMO 完全是他自己用 WIN32 写的 EXE 可执行程序。 他那是从 WIN32 SDK 移植输入法时，基本掌握了消息处理、GDI、窗口控制等方法。还有一些底层的 TRICK。</p>\n<p>我大学后和王小波比较近。那几年每周末都在他母亲家相聚。他母亲 5 个儿女，只有他 1 个人在国内。于是他就经常住在母亲家，怕老人一个人，是个大孝子。母亲家旁边有个筒子楼里 2 间房的小屋，公共厕所和水房，冬天暖气烧得极热。偶尔我会和他住一块。里屋是他的生活起居和写作桌。外屋很小只有张床。他弟弟的孩子和我偶然会睡外屋。印象最深的就是，他烧普洱茶的电炉和玻璃茶壶。里面总是有极浓的茶水，下面沉淀着大量茶叶。估计熬夜就靠那个。</p>\n<p>目睹了他后半截人生（从我记事起到他去世，中间他出过很多年）。感慨很多。王小波有个八叔，当时双手打算盘，无比聪明是个天才。年少夭折。王小波父亲因为搞逻辑学，引起毛泽东注意，被毛接见聊了一下逻辑学的学术相关问题。69 岁心脏病发独自倒在家中过世。王小波去世方式和他父亲一模一样。区别仅在更加年轻。王小波哥哥在受文革影响挖了 10 年煤。后来去美国博士念数理逻辑，解决了一个 100 多年未解的数理逻辑问题。最后的博士毕业论文自己系的教授搞不定，专门找了数学系的教授来看。毕业后他哥哥专心开饭馆挣钱养育 2 个女儿成人。准备财务自由后再著书立传。</p>\n<p>我的最大感慨是，留得青山在，不怕没柴烧。天才也好，资质普通如我也好，人都只有一个人生。王小波妈妈去年 92 岁，10 月刚去世，白发人送走了自己两个儿子，又过了十几年才走。之前得过癌症，靠自己毅力锻炼，恢复了。王小波去世后一年，王小波弟弟又突然去世。当时孩子都没敢告诉老人。老太太感觉不对，但又无法得知真相。只是和我说她的疑心。当时国内只有我一人，只能瞒着。不停劝慰老人没事。老太太喃喃说，“除死无大事，除死无大事啊” 。</p>\n<p>除死无大事。 人生在世，碰到什么坎，都只会是你人生中一个普通的节点。时间一长，什么都会成为过眼云烟。 留份宽心，也许这样导致目标感没有强到能和社会精英逐鹿。但只要有耐心，不怕挫折，假以时日，目标总会实现的。作为一个 42 岁还在以玩游戏看动漫为生活主体的大叔，保持健康和有活力地追求智慧和有趣，做自己热爱的工作，保持善良，做精神自由的人，是我从王小波的人生学到最重要的东西。希望每个喜欢王小波的人，都有自己充实和健康的身体和精神。</p>\n<h3>下面是 <a href=\"https://www.zhihu.com/question/20964366/answer/95130854\" target=\"_blank\">张攀 的分享</a>，伯乐在线已获授权</h3>\n<p>王小波的编程能力肯定是不逊色于同一时期的雷军和马化腾的，那时候雷军刚加入金山，马化腾正去创业的路上，只不过雷军后来成了金山总经理，马化腾当上了CEO，项目能力和商业能力肯定是不及后两人的。90年代有很多中关村的老板邀请过王小波加入公司当程序员，王小波也认真地考虑过，只不过后来觉得写东西更赚钱更有意思，一一回绝了。王小波的才华不限于此，他编剧的电影《东宫西宫》获得过阿根廷国际电影节最佳编剧奖，也入围了戛纳电影节，说不定活到现在在娱乐圈也是一个腕儿。</p>\n<p>其实很多大家确实是多面手，历史上很多数学家文学功底也十分过人，高斯曾经还纠结过人生目标到底选择文学还是数学，语言大家赵元任更是同时精通语言学、数学、物理学、中国音韵学和西方音乐，可谓请棋书画数理哲无一不通，涉猎之广让人折服，君不见美国有数不清的摇滚乐青年痴迷于编程，最后有一方作为。</p>\n<p>王小波的文章读起来不见得多有文采，但透出一股肆意妄为的劲儿，自由洒脱，他精通这么多的东西，比起那些稍有一点能耐就当权力打压别人的人，真是对自由精神最好的注解。（我夹带点私货，把自己曾经写的悼念王小波的文章放上来溜溜吧。）</p>\n<p>———–分割线———–</p>\n<p>王小波的忌日是4月11日，他的妻子李银河说王小波是1997年4月10号晚上去世的。时间不重要，重要的是去缅怀这一伟人。</p>\n<p>多数人知道王小波是小说家，部分人分不清财经作家吴晓波和小说家王小波是不是一回事儿。却很少有人知道王小波可以算的上中国早期的程序员，在90年代初的时候因为国内应用软件缺乏，爱捣鼓东西的王小波利用闲暇时间学习了汇编和C语言，编了中文编辑器和输入法。中文编辑器和输入法任何一个都是大牛级的GEEK才会去尝试的东西，比如求伯君。王小波通过卖软件还挣了些钱，当时很多中观村的老板要拉他入伙，当然写代码这种来钱快的活对屌丝王小波还是有吸引力的，所幸他还是拒绝了人家。</p>\n<p>王小波一个写小说的为什么沦落（/升级）成了程序员？这还得慢慢说。王小波大学在人大学的是贸易，毕业后在人大当了几年老师。后来去了美国匹茨堡大学读经济的研究生，到那老师跟他说你就是一写作的奇才，以后必能称霸华语文坛。老师又说你在我这什么都不用干了，好吃好住，毕业证照发，抓紧时间写小说。学成归国几年后，王小波接着又回到人大做统计学的讲师。</p>\n<p>因为做统计，各种分析工具是必不可少的，以前人手工计算，有了计算机当然最好使用计算机，基本理工科的都知道用MATLAB做个毕设和作业是多么重要。所以当时计算机对王小波的工作是相当重要的，但是90年的时候，软件相当稀缺，电脑又相当不智能。王小波不得不自己写软件，当然开发软件也不是那么简单，所以他先是学会了FORTRAN，汇编，C等各种语言，接着又要学习数据结构，算法的相关知识，还有编译原理。</p>\n<p>在做出中文编辑器和输入法，解决了自己的需求之后，王小波对写软件的兴趣已经没有多少了。因为他觉得写软件可以赚钱，写小说同样也可以赚钱。处于一个程序员的修养，王小波还是不断地从数据结构和算法来优化这两个软件。93年的时候，王小波买了一台286,这在当时是一台奢华无比的机子了，他自己也是这样认为的，高兴得一塌糊涂。不过这台顶配机子还是满足不了王小波的要求，后来他把时间花在了不断地去优化这台机子上面。</p>\n<p>王小波可以算的上是个GEEK。大学学的贸易，后来又学化学，再后来转到了数学系。他的同学形容他解数学题就像杀猪一样，特别来劲，一道一道解决，那感觉可能就像打CS拿人头一样爽。不过解多了也觉得没意思。</p>\n<p>王小波小说里的男主角基本都是理工男，除了天天意淫还有一些奇怪的想法。其中一些还有自己的发明，比如《未来世界》里的王二是个工程师，整天想着和单位一起研制的永动机，还有《红拂夜奔》里的李靖发明过一个巨大的开跟号机器，在战场上，这台机器运转起来挥舞着杠杆边开跟攻击敌人，有的人死在根号3下，有的人倒在了根号5下。这些都只有GEEK才会想得出来。</p>\n<p>王小波干过很多事情，下过乡，考过大学，出过国，学过经济，打过代码，成了小说家，去世的那一年完成了心愿做了编剧。总之不管他干了什么，他身上让我们尊重的还是独立之精神，自由之思想。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111016\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111016votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111016\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "4", "fav_nums": 3, "comment_nums": 5, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/08/93007774df953a3c852610443251c7f1.jpg"]},
{"url_object_id": "3660222d5f390970638a2db5cfafc092", "create_date": "2017-05-10", "front_image_path": "full/11b3b347995684203c1cd63b17941ed8744447ba.jpg", "title": "重构之十六字心法", "url": "http://blog.jobbole.com/111125/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><div>\n<p>这篇文章是我写过的所有文章里最难产的一篇，前前后后斟酌酝酿了好几个月。因为重构对于我来讲真的太重要也太深刻了，包含的内容和想说的也太多了。如果说这几年自己觉得在哪些方面的收获最大的话，非重构莫属了。</p>\n<h3>重构的威力</h3>\n<p>软件开发的难点在于不确定性，同事邱俊涛刚写了一篇<a href=\"http://icodeit.org/2017/01/why-software-is-complex/\">《软件开发为什么很难》</a>就提到</p>\n<blockquote><p>软件的复杂性来自于大量的不确定性，而这个不确定事实上是无法避免的。</p></blockquote>\n<p>需求在变，语言在变，框架在变，工具在变，框架在变，架构在变，趋势在变，甚至连组织结构都在不断的变化。</p>\n<p>随着变化的不断产生，软件变得越来越复杂。就像<a href=\"http://insights.thoughtworkers.org/architecture-corruption/\">《架构腐化之谜》</a>中提到的一样，我们的软件也会像一个生命体，经历从新生到衰老腐化的过程。而重构就像是一次手术，通过优化内部结构，减慢腐化衰老，让软件“青春永驻”，可见重构的威力。</p>\n<blockquote><p>重构教会了我如何通过高效安全地改善内部设计以使之适应外部的不确定性和频繁变化。</p></blockquote>\n<p>重构威力无边，就像是武侠小说中的一件插在石头上的上古神器，但同样也不是一般人可以轻松驾驭的。如果运用不当，造成的损害也会同样巨大。</p>\n<p> </p>\n<p>如何将重构这件神器运用自如，发挥其最大的威力，也是我一直在探寻的，即重构的手法和心法。</p>\n<h3>合格的重构</h3>\n<p>在谈手法和心法之前，可能很多人会有疑惑，觉得重构并不像你说的那么难啊，我们每天都在做，就是改改代码改改设计，哪有你说的那么邪乎。那我就先来讲讲我认为怎么样才算是一次合格的重构。</p>\n<p>对于什么是重构，《重构》书中已经有明确的定义，分名词和动词两种形式。</p>\n<blockquote><p><strong>重构（名词）</strong>：对软件内部结构的一种调整，目的是在不改变软件可观察行为的前提下，提高其可理解性，降低其修改成本。<br>\n<strong>重构（动词）</strong>：使用一系列重构手法，在不改变软件可观察行为的前提下，调整其结构。</p></blockquote>\n<p>就像“看板”不是“我们看到的那个白板”一样，“重构”也不是“重新修改代码”那么简单。</p>\n<p>我就看到过太多打着重构的幌子，把系统改的面目全非，最后出了问题直接甩锅到重构身上的场景了。那怎样才算是一次合格的重构呢？我觉得至少需要做到以下几点：</p>\n<ul>\n<li><strong>消除味道</strong>：一个重构应该是从识别一个坏味道（Bad Smell）开始，以消除一个坏味道结束，任何不以消除坏味道为目标的重构都是耍流氓。</li>\n<li><strong>始终工作</strong>：即重构定义中的“在不改变软件可观察行为的前提下”，说白了就是重构过程不能破坏甚至改变软件外在功能。</li>\n<li><strong>持续集成</strong>：不需要为重构单建分支，重构过程可以做到Feature开发在同一分支上持续集成持续交付。</li>\n<li><strong>随时中止</strong>：例如一个方法重命名，需要修改100个调用点，当改到50个的时候有个紧急的Feature，我可以随时暂停重构，立即切换到Feature开发上，且不需要回滚已做的重构。</li>\n<li><strong>断点续传</strong>：还是上边的例子，假如我已经完成了紧急Feature的开发，可以随时继续之前的重构，完成剩下50个调用点的重命名。</li>\n<li><strong>过程可逆</strong>：对于重构，经常有人会问：你怎么保证重构就会更好而不是更坏呢？重构的伟大就在于他跳出了对错之争，将关注点放到如何快速平滑安全的变化上，当然也包括反向重构。所以我的回答是：无法保证，但是我可以一分钟就重构回来。如果仔细看，《重构》书里的所有重构手法都是双向的，比如“Extract Method”和“Inline Method”。</li>\n</ul>\n<p>可以反思一下，我们平时自认为的那些重构，是否都符合了以上的这些要求？</p>\n<ul>\n<li>多少次我们打着重构的旗号，七零八碎，无法复原。</li>\n<li>多少次我们打着重构的旗号，分支开发，集成困难。</li>\n<li>多少次我们打着重构的旗号，半途而废，迷途难返</li>\n<li>多少次我们打着重构的旗号，孤注一掷，进退两难。</li>\n</ul>\n<p>在我的眼里，这些都不是合格的重构，甚至都不能称之为重构，好的重构应该像一边开车一边换轮胎一样，保证系统随时可工作的前提下，还可以对其结构做出安全高效的调整。</p>\n<p> </p>\n<p>可见重构并不简单，那要怎样才能达到上述的那些要求呢？</p>\n<h3>重构的心法</h3>\n<p>在过去的几年，我一直在学习和思考重构的各种手法。从刚开始的乱改一气，到学习基于IDE和插件的各种快捷键流的重构手法，以及研究如何通过组合各种基础重构手法形成“连招”，从而快速实现更复杂的重构过程。</p>\n<p>随着对于基于IDE的快捷键重构手法越来越娴熟，在IDE和插件的帮助下，我的重构手法越来越华丽而迅捷，在沾沾自喜的同时心里也慢慢萌生了一些质疑：难道这就是重构么？如果没有IDE没有了插件，我还会做重构么？如何用编辑器（Vim，Emacs）做重构？重构只是代码级别的么？数据库如何重构呢？系统架构如何重构呢？工具框架如何重构呢？微服务架构下的服务重构呢？公司组织重构呢？</p>\n<p>这种感觉就像是武侠小说中的某个柔弱书生，无意中掉到了一个悬崖下，找到了一本武林秘籍，照着上边的招式练了练就自以为已绝学在身，结果出去虽然能招架一时，但禁不住更大的挑战。被打的体无完肤后，重新掏出那本秘籍，收起浮躁，怀着诚敬之心努力去参悟那些招式背后更深的哲理，也就是所谓的<strong>心法</strong>。此时对于我来说，而那本武林秘籍就叫做<strong>《重构》</strong>。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/3-refactoring.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/3-refactoring.png\" alt=\"\" width=\"732\" height=\"488\"></a></p>\n<p>在带着这些疑问重读《重构》的过程中，我欣喜地发现书中那些细致入微但看似笨拙拖沓的重构手法（例如Rename，使用现代IDE一个快捷键就可以搞定，但是老马用了很多步骤才完成），其实都蕴含着重构最重要最基本的原则和思路，只要按着这些原则去做，无论什么层次的重构：代码重构、架构重构、服务重构甚至是组织重构，都可以做到上面提到的一个合格重构的基本要求，即平滑安全可停可续。</p>\n<p>把其中的原则思路抽取出十六个字，即所谓的：<strong>重构十六字心法</strong>。</p>\n<p><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/4-refactoring-principle.jpg\" alt=\"\" width=\"684\" height=\"423\"></p>\n<p>解释起来也很简单，往往我们做”重构“的时候就是在旧的结构（这里的结构可以是一个方法、一个对象、一个服务、一个数据库、一个服务甚至是一个组织结构）上直接修改，导致系统长时间处于一个中间不可用状态，这个状态持续的时间越长，”重构“失败的可能性和负面影响就会越大。</p>\n<p>而《重构》告诉我们，做内部结构调整时，先不要直接修改旧的结构，保持旧的结构不变，先按照新的设计思路创建一个新的结构，因为这个过程中对于旧的内部结构没有任何影响，所以是安全的，可持续集成的。当新的结构构件完成时，我们再把对于旧结构的依赖一个个的切换到新的结构上，即所谓的”一步切换“。最后当确认所有对于旧的结构都切换到新的结构上，而且没有问题后，再将已经没有任何引用的旧结构删除掉，完成整个重构过程。</p>\n<p>这里的<strong>“一步切换”</strong>并不是说整个重构的切换过程必须是一步完成的，例如前面重命名的例子，100个调用点的切换可能是分多次完成的，在这个例子里一步切换指的是每一个调用点的切换过程。这个切换过程是最容易暴露出问题的，所以越简单越快速越好，一旦出现了问题，就快速的切换回旧的结构后再慢慢排查问题，从而实时保证系统的可用性。</p>\n<p>大道至简，一旦领悟并掌握了这个心法，就发现自己一下从之前狭义的代码重构中跳脱出来，任何广义上的重构都立刻变得有章可循。</p>\n<p>在架构重构中常用的<a href=\"http://martinfowler.com/bliki/BranchByAbstraction.html\">抽象分支（BranchByAbstraction）</a>，以及在微服务架构下服务重构常用到的<a href=\"http://insights.thoughtworkers.org/service-split-and-architecture-evolution/\">绞杀者模式</a>，其实都是这种原则的一种体现。</p>\n<h3>总结</h3>\n<p><strong>重构可以使软件更容易地被修改和被理解</strong>。通过不断地改进软件设计以达到简单设计的目标，减少由于设计与业务的不匹配带来的架构与设计腐化。</p>\n<p>掌握了重构的手法和心法，会让重构变得更加简单安全高效可控，从而真正的发挥出其巨大的威力，让我们的软件永葆青春。</p>\n<div></div>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111125\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111125votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111125\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 56</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 1, "comment_nums": 0, "front_image_url": ["http://insights.thoughtworkers.org/wp-content/uploads/2017/05/3-refactoring.png"]},
{"url_object_id": "fcd2fe182ded5d7a1921fe8212279623", "create_date": "2017-05-03", "front_image_path": "full/f8126bc9d551925f193df7b36fe58420631e3a82.jpg", "title": "机器是如何学会歧视的？机器学习中的偏见", "url": "http://blog.jobbole.com/111050/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/maifansnet\">maifans</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.scientificamerican.com/article/how-a-machine-learns-prejudice/\">Jesse Emspak</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：数据的选用和人的主观想法往往会在机器学习中产生偏见，例如，用于训练的数据大多是白人而导致讲黑人的照片识别为猩猩，或是研究人员认为可以通过长相来识别这个人生是不是罪犯（然而被证实是完全错误的）。因此，选取合适的数据以及设计好的算法对于机器学习来说非常重要，否则只能是“垃圾进，垃圾出”。</p>\n<blockquote>\n<div align=\"left\">AI 是从人类创造者那里学到了偏见，与它那刻板，冰冷的逻辑无关</div>\n</blockquote>\n<p>倘若 AI 接管了我们的生活，不大会发生人类陷入与冷酷使用 Spock 式逻辑的机器人军队的战争中，因为 AI 已在肉体上奴役我们了。相反， AI 程序已经通过机器学习算法为我们推荐喜欢的电影、在照片上认出哪个朋友可能会拒绝给你借钱、把警察带到你邻居家，或者告诉医生你需要节食。既然人类创造了这些算法，它们就容易产生偏见，从而导致糟糕的决策和更糟糕的结果。</p>\n<p>补充：Spock  是《星际迷航》中的一个人物。如下图。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1ff7zteih3pj218g0xcjvv.jpg\" width=\"500\" height=\"375\"></p>\n<p>这些偏差也直接让人们对人工智能日益依赖的现状产生担忧。因为人类设计的绝对“中立”的 AI 系统仍可能固化人们的歧视，而不是识破它。例如，尽管程序本身没有明显的考虑种族因素，但<a href=\"https://www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing\">算法将黑人嫌犯标记为更有可能在将来犯罪</a>，而使用该软件的执法机构遭到了批评。</p>\n<p>主要问题发生在两个方面：</p>\n<ul>\n<li>一、用于校准机器学习算法的数据有时不足；</li>\n<li>二、算法本身设计很糟糕。机器学习是软件开发人员利用大量与任务相关的数据训练 AI 算法的过程。</li>\n</ul>\n<p>算法在初始提供的数据中获得模式，使其能在新的数据中识别类似的模式。但是它并不总是按我们认为的那样工作，而且有时结果很糟糕。例如，2015年6月， Google 的照片分类系统将两名非裔美国人识别为“大猩猩”。尽管谷歌很快解决了这个问题，但是微软 AI 研究员凯特·克劳福德在<a href=\"http://www.nytimes.com/2016/06/26/opinion/sunday/artificial-intelligences-white-guy-problem.html\">《纽约时报》</a>上表示这个错误反映了 AI 中更大的“白人问题”。也就是说，用于训练软件的数据太依赖于白人照片，降低了其准确识别具有不同容貌的人的照片的能力。</p>\n<p>2017 年 1 月，Facebook 的用户新闻推送被大量虚假新闻淹没，也凸显了 AI 的偏差问题。 Facebook 的热门新闻算法是根据参与度（用户的点击或分享频率）来确定新闻排序的 ，没有考虑到新闻的真实性。 2016 年 11月初，有新闻媒体透露，一群马其顿青年在美国大选期间<a href=\"https://www.buzzfeed.com/craigsilverman/how-macedonia-became-a-global-hub-for-pro-trump-misinfo\">愚弄了Facebook的“新闻推送”算法</a>，以推送吸引右派选民的虚假新闻。 Facebook 表示已经修改了算法，并宣布了帮助 <a href=\"http://www.snopes.com/\">Snopes</a> 、<a href=\"http://factcheck.org/\">Factcheck.org</a> 、<a href=\"http://abcnews.go.com/\">ABC News</a> 和 <a href=\"http://www.politifact.com/\">PolitiFact</a> 清除明显的虚假新闻的计划。</p>\n<p>马里兰大学计算机系副教授 Hal DauméIII 说：“这有点像「俄罗斯坦克问题」”。 这个典故产出自20世纪80年代，机器学习发展的早期。虽然它的真实性存在疑问，但它有一定的代表性，而且常常被计算机系的老师引用。这个故事说，美国军方试图训练一台电脑来区分俄罗斯和美国坦克的照片。 Daumé解释说：“它们的分类准确度非常高，但俄罗斯坦克的所有照片都模糊不清，而美国坦克是高清晰度的。” 该算法不是识别坦克，而是学习区分模糊和清晰的照片。</p>\n<p>尽管有这些已知的缺陷，研究人员最近开发了一种算法，可以通过面部识别技术来辨认罪犯。 中国上海交通大学研究人员吴晓琳（音译，以下简称吴）和张希（音译，以下简称张）使用了一个有 1856 张面部照片的数据库训练机器学习算法，其中 730 人是罪犯，另外 1126 人不是。 在分析了 90％ 的图片后，AI 能够正确地识别剩余 10％ 照片中的罪犯。</p>\n<p>该算法将具体的面部特征与罪犯相关联。例如罪犯的眼角、嘴唇曲率和鼻尖更有可能存在特定的空间关系。吴说，他也认同如果一个人有这些特征，不能说这个人更可能是罪犯。 吴同时发现罪犯的面孔差异较大，而非罪犯往往具有相似的面部特征。</p>\n<p>吴继续使用以前没有看过的不同的照片来测试算法，发现它多半情况下可以正确识别罪犯。研究人员试图通过只使用没有面部毛发和疤痕的中国青年或中年男子的面部图片进行训练和测试其算法来避免偏差。</p>\n<p>吴说：“我本来想证明面相学是错的”，他指的是基于面部特征评估性格的有数百年历史的伪科学。 “结果却令我们大吃一惊。”虽然这项研究似乎可以验证了面相学的某些方面，但吴承认，使用这种技术来识别罪犯将是“疯狂的”，没有计划在执法机关中应用。</p>\n<p>其他科学家说吴和张的发现可能会强化现有的偏见。 Google 机器学习领域的首席科学家 Blaise Agüera y Arcas 指出，司法系统决定受试者的犯罪行为，但它执行着人类有偏见的决策（或许是潜意识的）。论文的核心问题是它依赖这一系统“作为标记犯罪分子的依据，然后基于人类的判断得出结论：机器学习是无偏见的。” Agüera y Arcas 补充说。</p>\n<p>研究计算机视觉的华盛顿大学数学系助理教授 Kyle Wilson 如是说：「吴和他的同事“直接得出结论，他们发现了自然界的一个潜在的模式 —— 面部结构可以预示犯罪行为。这是一个非常愚蠢的结论。」他还表示，这个算法可能只是人类的偏见在一个特定的司法系统中的反映，并且在其他国家也可能有同样的问题。 Wilson 说：“基于偏见在刑事司法系统中的表现，相同的数据和工具可以用来更好地了解（人的）偏见。 而不是教一台电脑来重现这些人类的偏见。”</p>\n<p>还有人说，通过解释电脑学习的模式中的错误，可以改进技术来消除人的偏见。瑞士 AI 实验室 Dalle Molle 人工智能研究所的科学主任 Jürgen Schmidhuber 说，人工智能系统在学习时会犯错。事实上这是肯定的，所以称之为“学习”。他指出，电脑只会从你给出的数据中学习。“你不能消除所有这些偏见的来源，就像你不能消除人类中的偏见来源，”但他补充说，首先承认问题，然后确保使用好的数据，并把算法设计好；提出正确的问题至关重要，或者记住程序员的一句老话：“垃圾进，垃圾出（Garbage in, garbage out）”。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111050\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111050votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111050\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/maifansnet\">maifans</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/maifansnet\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            软件工程师，关注人工智能，关注医疗器械。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/maifansnet\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/maifansnet/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/maifansnet/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "2", "fav_nums": 1, "comment_nums": 0, "front_image_url": ["http://wx1.sinaimg.cn/mw690/63918611gy1ff7zteih3pj218g0xcjvv.jpg"]},
{"url_object_id": "9a6909f3616c2ea2b9dd982b5cc9605a", "create_date": "2017-05-04", "front_image_path": "full/c09cb16c79404789e48f2eba4301ba131665c0c0.jpg", "title": "一张优惠券引发的血案", "url": "http://blog.jobbole.com/111076/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/bjweimengshu\">玻璃猫</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/d24198d89a821452a421af6ae64b13c4.png\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7def9437ba1d27381bc1d8d522825c3b.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/66bf1f49392cc2729a0d5cafaaf40cd8.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/5f0fa047a0e2b67a708e5e89909e012d.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/fc99049bd070406e907ca7a7b03fc2f8.jpeg\"></p>\n<p>一个月前——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/09bc3864a82cd1c8f16f1c7edae1ddba.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/0ae3146a3cb106598ef79fad3f2916dc.jpeg\"></p>\n<p>整个优惠券中心分为前端和后端，小灰所负责的是后端RPC接口的开发。接口中包含“查券”和“领券”两个方法，项目大体结构如下图：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/318ace3b189049e62f11dfba8913af6d.jpeg\"></p>\n<p>两周后——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/42ad521e5db9f2f628587bcbc4ab82f8.jpeg\"></p>\n<p>小灰：看，这是优惠券查询功能的效果！</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/e1b844b2f74eef1823d3f723c5021e71.jpeg\"></p>\n<p>小灰：看，这是优惠券领取功能的效果！</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/14e01e8b4326eca2c0177263eb083b61.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/748679d70e308d36cf5e5e442eebd30d.jpeg\"></p>\n<p>三天后——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/adceb1aa90f1b7893c88bde770ec0c31.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/b477138a9ffb55307507de5bd8b0ca6e.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/6bbd3f7bdedfeb0fa43a79e8355351dc.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/aad1cef68792f2615646d6ecf8e6fc1f.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/edfb4c04847b5a4005dff11f628e45f1.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/154b75b87bff4cc056d217702f37d0f2.jpeg\"></p>\n<p>小灰原本的优惠券查询接口是这样实现的：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/fc64391201fe85da923378e79a60335e.jpeg\"></p>\n<p>优惠券列表在Redis中以List的形式存储，查询时的逻辑很简单：</p>\n<p>1.查询缓存，如果缓存存在，返回结果</p>\n<p>2.缓存不存在，查询数据库</p>\n<p>3.把查询数据库的结果循环放入缓存</p>\n<p>然而，当某个时间点缓存不存在，请求量又很大的时候，会出现<strong>缓存并发</strong>的问题。也就是多个线程会重复去查询DB，又重复去更新缓存。（注意，这并不是<strong>缓存击穿</strong>，很多人在这两个概念上混淆。）</p>\n<p>这其中重复查询DB是次要问题，而重复更新缓存则是主要问题。假如有两个线程同时进入上述的第三个阶段，各自进行rpush操作，那么最终会在优惠券列表的缓存中插入两组同样的数据。</p>\n<p>怎么解决呢？用Java的锁机制？显然不行，因为线上环境通常都是多个服务器组成的集群。于是小灰想到了利用<strong>分布式锁</strong>。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/095014b99c5dd133849989833bb76ef5.jpeg\"></p>\n<p>所谓分布式锁有很多种，可以利用ZooKeeper、MemCache、Redis来实现。其中Redis的方式比较简单，无非是利用一个服务器之间共享的Key，以及Setnx指令。</p>\n<p>当第一个线程执行Setnx，会存储对应的键值，相当于成功获得锁。当后续再有线程对同于的Key执行Setnx指令，则会返回空，相当于抢锁失败。同时，为了防止一个线程因意外情况而长久把持着锁，程序对Key设置了1秒的过期时间。</p>\n<p>归纳一下修改后的逻辑：</p>\n<p>1.查询缓存，如果缓存存在，返回结果</p>\n<p>2.缓存不存在，查询数据库</p>\n<p>3.争夺分布式锁</p>\n<p>4.成功获得锁，把查询数据库的结果循环放入缓存</p>\n<p>5.释放分布式锁</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/1beea94a72fb2d15e1c08cc483ef3533.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7de5ac624d06a082fba5cae7a3588aa5.jpeg\"></p>\n<p>三天后——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/79ba27f4cd5680b75005a725a1dcc537.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/0044500e143abcb925d4533225e64aad.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/183fd9b545ddc47c5a63b5f9276e280d.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/1073a937f6afe55bd10f8fd51637707b.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/72c0b99525b98fdd4667217b04fa3b1c.jpeg\"></p>\n<p>诡异的bug又重现了，因为小灰上次的改动仍然存在一个致命的漏洞。在这里我们假定缓存不存在，刚好有两个线程A和B一后一先进入到代码块。</p>\n<p>第一阶段，线程A刚开始查询优惠券缓存，线程B正尝试获取分布式锁：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/4d7d298409701592f1b7a53adc6d8786.jpeg\"></p>\n<p>第二阶段，由于缓存不存在，线程A开始查询数据库，线程B成功获得锁，开始更新缓存：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/3adf9ed881fad675b2e79d8c49d93be3.jpeg\"></p>\n<p>第三阶段，线程A尝试获得分布式锁，而线程B已经释放分布式锁：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/ab7d96c7be4d6ee33be1876ba8831e2e.jpeg\"></p>\n<p>第四阶段，线程A获得了锁，<strong>又一次</strong>更新缓存，而线程B已经成功返回：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2d17073f0ce0d166a6a02e3cda641604.jpeg\"></p>\n<p>就这样，缓存被重复更新了两次，所以再次出现数据重复的bug。</p>\n<p>这种局面如何破解呢？其实不难，只需在线程成功得到锁以后，再次判断优惠券缓存的存在：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/71acc87a2e881836880ca644179f2a17.jpeg\"></p>\n<p>归纳一下修改后的逻辑：</p>\n<p>1.查询缓存，如果缓存存在，返回结果</p>\n<p>2.缓存不存在，查询数据库</p>\n<p>3.争夺分布式锁</p>\n<p>4.成功获得锁，再次判断缓存的存在</p>\n<p>5.如果缓存仍旧不存在，把查询数据库的结果循环放入缓存</p>\n<p>6.释放分布式锁</p>\n<p>这种二次判断存在性的机制有一个专门的名字，叫做<strong>双重检测</strong>。该方法在线程安全的单例模式中也常常被用到。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/f9ecbb65155916c904f27a8be9775fcf.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/dec0265a6c103b90338e8a18c7b5a6af.jpeg\"></p>\n<p>小灰的回忆告一段落——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/6e05443ad29333f6d6971f625ccb228d.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2fdf07d2f2c5816f8eafcaca4c7a5302.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2097948c9c34eb94889851fa789aa37b.jpeg\"></p>\n<p><strong>几点补充：</strong></p>\n<p>1.文中所使用的分布式锁，其实并不是“正宗”的分布式锁，当线程争夺锁失败的时候，会直接返回查询DB的结果，而不会依靠<strong>自旋</strong>机制来等锁。</p>\n<p>2.为什么优惠券列表的信息要使用List类型来存入缓存，而不是把整个列表存为一个很长的Json字符串？这是由于业务需要，使用List在某些情况下更方便对单个优惠券信息进行修改（LSET指令）。</p>\n<p>3.为什么优惠券列表的信息不使用Redis的Set或者Hash数据类型来存储，实现自动去重呢？对于Set类型，去重前需要对比整个字符串是否完全相同，而每一张优惠券是一个较长的Json字符串，对比的效率会比较低。使用Hash倒是可以实现高效的去重，但并未在根本上解决重复更新的问题。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我写出更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏作者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我写出更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/10/2df4a3ede6e684f78858dfde0e7b118f.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111076\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111076votetotal\">7</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111076\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/bjweimengshu\">玻璃猫</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/bjweimengshu\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/7ce4028f2cece3294efcb3e5caa73af1.jpeg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            互联网公司的码农一枚，喜欢算法和面向对象设计。个人微信号：13522239721 个人订阅号：dreamsee321欢迎一起交流讨论！        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/bjweimengshu\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/bjweimengshu/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/bjweimengshu/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 92</a> · <a title=\"个人微信：bjweimengshu\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "7", "fav_nums": 3, "comment_nums": 2, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/7def9437ba1d27381bc1d8d522825c3b.jpeg"]},
{"url_object_id": "6bef061e7ffcc6e8a94eaa102b81f084", "create_date": "2017-05-03", "front_image_path": "full/7e05c40245fcb12ade3bb6dfb7e71a7039b1ea92.jpg", "title": "速度与激情 8 中的信息安全技术", "url": "http://blog.jobbole.com/111029/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://zhuanlan.zhihu.com/p/26374755\">elknot（已获授权）</a>   </div><p>前言：本文中的技术仅供交流，如有疏漏还请大家批评指正</p>\n<p>14号跟女票下班之后直接去电影院看速8，当然看完速8之后并没有去速八而是直接回了家。首先对电影给个正面的评价，但是本人作为一个信息安全从业者，有必要扒一扒里面的黑客技术。</p>\n<p>里面涉及到黑客技术的东西主要有两个——天眼（The Eye）和僵尸车队（Zombie Cars）。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ff87fb6lahj20ib0a8n51.jpg\" width=\"621\" height=\"347\"></p>\n<p>对于这两个东西其实和现实当中两项比较前沿的安全技术相关——汽车及物联网安全和攻击者溯源，对于汽车安全这一部分，我的基友闹心均<a class=\"member_mention\" href=\"http://www.zhihu.com/people/99baa09c00f17fffcdd281e48ebeb5e9\" data-hash=\"99baa09c00f17fffcdd281e48ebeb5e9\" data-editable=\"true\" data-title=\"@Selfighter\" data-hovercard=\"p$b$99baa09c00f17fffcdd281e48ebeb5e9\">@Selfighter</a>是砖家中的砖家，可惜人在HITB，所以我先很业余的说一些这方面的东西。</p>\n<p>首先我们先来说说智能汽车和非智能汽车，智能汽车其实就可以当做一个物联网设备来解决，也就是说智能汽车的攻击面和其他IoT设备的攻击面是差不多甚至更多的。</p>\n<p>其实汽车和计算机一样，内部通信依靠总线进行，汽车中的总线是CAN总线。CAN网络是由以研发和生产汽车电子产品著称的德国BOSCH公司开发的，并最终成为国际标准（ISO 11898），是国际上应用最广泛的现场总线之一。CAN总线协议目前已经成为汽车计算机控制系统和嵌入式工业控制局域网的标准总线，同时也是车载ECU之间通信的主要总线。当前市场上的汽车至少拥有一个CAN网络，作为嵌入式系统之间互联的主干网进行车内信息的交互和共享。CAN总线的短帧数据结构、非破坏性总线仲裁技术、灵活的通讯方式等特点能够满足汽车实时性和可靠性的要求，但同时也带来了系列安全隐患，如广播消息易被监听，基于优先级的仲裁机制易遭受攻击，无源地址域和无认证域无法区分消息来源等问题。特别是在汽车网联化大力发展的背景下，车内网络攻击更是成为汽车信息安全问题发生的源头，CAN总线网络安全分析逐渐成为行业安全专家聚焦点。如2013年9月DEFCON黑客大会上，黑客演示了从OBD-II控制福特翼虎、丰田普锐斯两款车型实现方向盘转向、刹车制动、油门加速、仪表盘显示等动作。汽车车内CAN网络安全问题当前主要通过安全漏洞的分析和各种攻击手段进行挖掘，因为汽车车内网络安全的脆弱性和威胁模型的分析尤为关键。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ff87fenipwj20gn09aqb3.jpg\"></p>\n<p>这么说来，只要抓住了CAN总线，我们就相当于是抓住了汽车的神经，也就能对汽车进行控制，那么攻击CAN总线会引发什么后果呢？</p>\n<p>第一个后果是失控：CAN总线主要应用之一是支持主动安全系统的通信，道路车辆行驶的时候，主动安全系统将是一把双刃剑，在它们发挥着不可替代的功能时候，但是考虑到主动安全系统的可操作和有能力调整正确的输入，也会引起驾驶者对主动安全系统的完全依赖。因此一个突然的故障会引起不可预知的危险后果。为了引发一个危险的条件，恶意的攻击者将会在CAN总线中注入错误帧，让主动安全系统失灵。例如，在牵引力控制系统里安装一个攻击，会造成车辆失去控制等危险。如果攻击者的目标是自适应巡航系统，将会导致汽车不会安驾驶者预期的那样停止。此外，为了最大可能的伤害汽车驾驶者，假如数据可以直接从CAN总线上获取，攻击者可以根据特定的条件，触发一个DoS攻击。例如汽车某一特定速度，特定的节气门百分比或者是某一确切的GPS位置等。</p>\n<p>第二个后果就是勒索：一个恶意的攻击者将在CAN总线中某一目标帧中设置攻击，这将会导致驾驶者无法控制节气门的位置从而不能让汽车移动。尽管这些不会必定发生危险状态，一个以金钱为目的的攻击者，将会利用车载娱乐系统的漏洞，停止汽车，并在娱乐系统屏幕上显示消息，车主为了重新获取汽车的操控权而去付赎金。</p>\n<p>第三个可能是盗窃：大部分现代昂贵的汽车门锁通过CAN连接到ECU来控制，通常通过OBD-II端口可连接。隔离负责控制锁/解锁车门的数据帧比逆向主动安全设备更简单、更快捷。因此，几分钟左右一个攻击者将会隔离负责锁车门的数据帧，编写他的设备程序-特定帧的DoS攻击，然后把设备插入到OBD-II的接口，阻止车门锁住。对于一个攻击者来说，这个攻击结果是可能的。通过低成本的花费就能进入到车内，随后就能够窃取车内任何贵重物品。</p>\n<p>长期以来，几乎整个汽车界都有这样的共识：<strong>CAN总线是没法保护的。两方面的原因，其一，ECU的计算处理能力不足；其二，车载网络的带宽有限</strong>。有些LIN总线使用的MCU甚至是16bit或8bit，但AES使用的加密算法只能处理16字节区块的数据，这意味着很多时候LIN总线根本就是处在“裸奔”的状态。所以汽车安全未来肯定是炙手可热的一部分。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ff87hmv482j20fr08vjrq.jpg\"></p>\n<p>接下来我们说说天眼，其实天眼的目标很简单——我知道一个人的一部分信息，如何根据一部分信息去拼凑出一个完整的信息，比如他去过什么地方，干过什么事情，目的是什么，用了什么东西，也就是广义上的了解你的敌人。对于安全工作者来说，转化到现实当中的问题就是甲方安全团队在找到攻击者之后如何让攻击者不再攻击你？单单从防御的角度上来说，我们可以上规则、上设备，但是这样并不能从根本上解决问题。继续说回电影，其实《赤道》中香港、韩国两方面只希望把武器送走，确保不在香港交易同时回到韩国，这样就解决了这个问题。但是宋总不是这么想，宋总站在了更高的角度上，他不希望把香港变成真正的地下武器贩卖中心，也就是要把地下武器交易这个链条彻底打碎。从解决问题的角度上来看这两者都没错。</p>\n<p>回到正题，对于攻击者来说，攻击者一旦发起攻击就会在目标系统中产生数据，不管有用也好无用也罢，总之数据都会产生，诸如流量数据、操作日志、爆破记录、工具指纹、网络地址等信息。</p>\n<p>Phase 1：从日志分析的角度上来讲，既然我们有这么多的设备，有这么多的日志，我们要做的就是把这些想关的攻击向量和行为日志收集起来，统一到一起，看看有什么线索。</p>\n<p>Phase 2：既然我们已经收集到了很多的日志和数据，那么我们可以从日志中把这些信息拼凑成一个完整的攻击行为记录：即它是通过什么漏洞进来的，如何进来的，进来之后做了什么，对系统有什么影响。完完全全使之成为一个攻击的模型，这样的话也就完成了对入侵的推演。</p>\n<p>Phase 3：我们既然知道了他是如何进来了的，从甲方安全运营的角度来讲，我们需要确认其他机器当中是否有相同的漏洞和配置错误，要避免其它的人利用相同的方法入侵系统，毕竟不能在一个坑栽倒两次。</p>\n<p>Phase 4：我们现在有了攻击者的一些信息，我们是否可以通过外部威胁情报数据来看看这个攻击者是不是之前攻击过其他系统，攻击是不是有针对性，工具用的是进口的、国产的还是自己写的，是不是有其他的同伙或者帮手，他到底是怀揣着什么目的去攻击我们的系统。</p>\n<p>Phase 5：如果我们确定他的身份是恶意的，并且对我们的系统造成了很严重的影响，我们是不是应该知道这个人是什么来头，他的个人信息（虚拟身份和真实身份）我们是不是要了解，我们是不是应该去用法律手段搞他，等等。</p>\n<p>其实攻击溯源，其实是数据驱动的企业内部安全运营的一部分，需要大量数据的支撑以及分析才能找到攻击者，而企业内部我们见到最多的数据无非就是日志了，所以日志的分析和内网威胁情报的提取是非常重要的一环。</p>\n<p>针对安全运营来说，我个人认为所有的攻击者不可避免的都会产生操作日志，针对内网内的安全设备也好，非安全设备也好，肯定或多或少的存在日志。</p>\n<p>针对企业内部的日志，大体上可分为四类：安全设备日志、非安全设备日志、传感器日志和外部数据。</p>\n<p>对于追踪来说一般有这么三种套路：</p>\n<p>IP-＞域名-＞Whois信息-＞社交网络信息-&gt;真实信息：这个套路对于现在来说可能用处不是特别大，但是根据历史Whois信息也是可以得出一些启发性的结论的，当然这些威胁情报数据可能付费。</p>\n<p>IP-＞VPN-＞IP-&gt;社交网络信息：这种情况一般是大多数，解决方法是通过查询IP反连记录，解析操作和一些fingerprint获得他的虚拟身份信息，当然也是要收费的</p>\n<p>IP-&gt;botnet-＞IP-&gt;社交网络信息：这种广泛分布于挖矿、刷票、DDoS这种肉鸡类型的，可以想办法截获起botnet样本进行逆向分析，获取其c&amp;c服务器地址，然后对服务器进行反连查询。没错还是要收费的。</p>\n<p>安全设备日志：这些日志来源可以是硬件也可以是软件，首先就硬件来说注入IDS/WAF或者SIEM中的日志、硬件防火墙等等日志，软件日志包括防病毒软件、安全Agent、准入系统等软件系统的日志。这些日志一般都是攻击者进行攻击时会进行被动触发，这样的话可以检索到很多攻击信息，诸如使用的IP、端口、工具指纹等等。</p>\n<p>非安全设备日志：诸如路由器、交换机、网关、网闸等硬件设备以及操作系统、应用软件、服务器软件日志等软件日志，这些日志中可以分析出攻击者的目的，是为了单纯渗透玩一下还是想要通过控制机器作为跳板机进行进一步的渗透工作，还是说仅仅是安全部门进行扫描产生的日志。</p>\n<p>传感器日志：企业内部通常会部署一些蜜罐系统、流量传感器等，这些设备一方面可以有攻击预警和反横向渗透的效果，但是里面也会存在一些攻击者的行为，比如SSH蜜罐会存下攻击者在这台机器上的操作，流量传感器会对数据包进行DPI解析方便流量分析，这些数据中肯定残存着一些有用的信息可以帮助我们确定攻击者的行为、技能点，甚至可以进一步判断该攻击者的能力，是脚本小子还是大黑阔。</p>\n<p>外部日志：一些常用服务的日志，比如说邮件、DNS等日常服务的日志，这些日志可以帮我们确定攻击者是否是一种APT攻击，或者是是否是来种植Botnet的。同样可以确定攻击者的动机。</p>\n<p>说完了日志，我们紧接着可以说一下攻击者的动机判定，攻击者想要入侵一个系统肯定会对这个系统进行侦查，诸如端口扫描、脆弱性检测、exp测试等手段，这里面很容易和安全部门的安全常规巡检的日志起冲突，大多数公司都会把扫描机群放到白名单里。这样产生了类似的日志就会触发报警，我们可以进一步分析这些日志提取出一些攻击者的行为、动机等等，以及他的目的甚至他的技能点，我们都可以初步判断。</p>\n<p>通过对以上日志的分析，我们可以基本上确定攻击者是什么途径进来的，用何种攻击方式拿到机器权限，有没有执行什么敏感的操作，是否有进一步渗透的趋势，是不是在尝试提权之类的操作等等，这样我们就对攻击者有一个大概的了解。</p>\n<p>接下来我们就需要借助外部威胁情报的力量来获取攻击者的身份，我个人比较喜欢国内的微步在线和国外的PassiveTotal这两个平台，尤其是后者，数据比较全而且覆盖度很广。当然不差钱的各位可以选择去买威胁情报服务，更专业。</p>\n<p>简单说一下威胁情报可以帮我们干什么，威胁情报其实就是根据上面获得残破的攻击者画像变得完整，威胁情报一般可以获得这个攻击者有哪些常用的IP，这些IP分别都是干什么的，有没有什么社交信息，社交信息又有什么关联。举个不恰当的例子就是相当于你知道一个人的身份证号，然后警察用这个身份证号去查这个人有多少钱，资产有多少等等。这样你就可以获得一个较为完整的攻击者画像。</p>\n<p>到了这里其实我们知道了攻击者的信息，就可以选择怎么解决，拉倒办公室弹jj10分钟是一个解决方案，扭送到警察蜀黍那里也是解决方案，但是需要提醒大家注意执法力度和执法手段，不要知法犯法（逃。</p>\n<p>说到以上大家会觉得我偏题了，你娃不是说要讲天眼么，怎么扯了一大堆安全运营上的事儿，这跟天眼有什么关系。那么接下来的事情就和天眼有关系了：</p>\n<p>在电影中，飞车家族只需要输入一个名字就可以去找到这个人，确定他的位置，然后上门送温暖喝热茶。但是现实当中，重名的你懂得，所以我们现在从其他的地方下手：</p>\n<p>Part 1：长相，这里无非就是涉及到人脸识别技术，没什么好说的（其实是我不懂）</p>\n<p>Part 2：身份证号码，这个就比较重要了，身份证号码对于广大人民群众来说，变的机会基本为0，很多企业不管是干什么的也好都喜欢玩实名制，尤其是一些小的金融公司和P2P公司，总喜欢没事问你身份证号。鉴于我国信息泄露这个问题还是挺严重的，所以我们不能保证别人没有我们的身份证号。我们来说有了身份证号能干什么：先来造一张假的身份证，然后利用这张身份证（照片或者扫描件）去搞一些不需要实体身份证的东西，比如你懂得。这样我们就能把这个人的一些账户劫持了，能干啥你现在应该明白了。</p>\n<p>Part 3：手机号码，一般我们通信都用手机号码，手机号码泄露更是屡见不鲜，和身份证号一样，许多企业都是动不动就跟你要。手机号码泄露更是一件蛋疼的事情，骚扰电话短信不说，由于现在很多手机号码和业务是绑定的，也就是用手机号码就可以登录相关的业务，这样的话手机号码的泄露很有可能就会联系到相对应的身份，举个最简单的例子：手机号码绑定QQ号码，然后QQ号码可以查询群关系，之后通过群关系能搞出很多信息，后果你懂的</p>\n<p>Part 4：QQ号码，其实上面已经说了，QQ号码相当于虚拟版本的身份证号，很多东西都和QQ有关系，比如iCloud账号、游戏账号、甚至是一些信用卡账单啊什么的绑定的邮箱都是QQ的。QQ号码能查的东西那就太多了，上面就是个例子。</p>\n<p>Part 5：电子邮箱，这个在国内似乎用的比较少，但是企业内部的电子邮箱是讨论的重点，企业内部电子邮箱是很多攻击者最喜欢的地方，因为可以以此为突破口获取企业内部的一些信息。当年在甲方做安全运营的时候经常收到各种同时转发过来的钓鱼邮件，就是用来骗取Exchange邮箱账户的，这些对企业内部安全构成了严重的威胁。</p>\n<p>补充：有个网站可以查到某个邮箱/手机号注册了什么网站。。。。。</p>\n<p>所以，天眼的实现基础，其实是背后的数据在做支撑，数据，其实就是泄露的数据，民间收集的数据来源主要还是各大数据库泄露的SQL文件等，当然不排除有些万恶的黑产玩无间道，此处有句xxx我一定要讲。</p>\n<p>其实《速度与激情8》里面的黑客技术就现在看来是可以完全实现的，只是实现的成本有高有低，但是搞攻防的话，一定要站在攻击成本的角度上去考虑，安全无绝对，所以大家也没有必要为这些事情担心，安全研究院和厂商之间的互动越来越多也从侧面证明了现在大家对安全的重视，作为安全工作者，我们也非常愿意帮助厂商做好安全这一部分。先说这么多吧，此文仅作为科普，如需讨论细节还请回复或者发私信。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111029\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111029votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111029\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 4, "comment_nums": 0, "front_image_url": ["http://wx4.sinaimg.cn/large/63918611gy1ff87fb6lahj20ib0a8n51.jpg"]},
{"url_object_id": "3695f152ab74980f8bde238a086f1d5a", "create_date": "2017-05-04", "front_image_path": "full/bffdf71812c2dbc79d511c6ac624756024e1c358.jpg", "title": "15 款炫酷的 Sublime Text 插件推荐", "url": "http://blog.jobbole.com/111093/", "tags": "工具与资源", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://tutorialzine.com/2016/10/15-awesome-sublime-text-plugins-for-web-development/\">Danny Markov </a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/15-awesome-sublime-text-plugins-for-web-development\">oschina</a>   </div><div>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/f98dd868ccd74543e0be0fd723a5e83f.png\"></p>\n<p>Sublime Text 是目前最受欢迎的代码编辑器，因其高效、简洁和插件丰富等特点受到开发者的喜爱。</p>\n<p>为了帮助大家充分利用 Sublime 的优势，本文筛选了开发者日常使用较多的 15 款 Sublime Text 插件。如果您有更好的项目推荐，欢迎留言分享。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Package%20Control\" target=\"_blank\" rel=\"nofollow\">Package Control</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/1221200073d9a31fa2f643eb92d67e84.png\"></p>\n<p>这是 Sublime 的插件管理器，可以为安装和删除软件包带来方便。如果你尚未安装此插件，建议先安装，以便于试用文中提及的其他插件。</p>\n<h3><a href=\"https://packagecontrol.io/packages/JavaScript%20%26%20NodeJS%20Snippets\" target=\"_blank\" rel=\"nofollow\">JavaScript &amp; NodeJS Snippets</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ff9haixkdsg20lt0aaq3n.gif\" width=\"785\" height=\"370\"></p>\n<p>这是用以编写常见 JavaScript 表达式的快捷方式集合。不用编写 document.querySelector(‘selector’)，你只需键入 qs，按下 Tab 键，Sublime 就能帮你完成其余的工作。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Emmet\" target=\"_blank\" rel=\"nofollow\">Emmet</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ff9haj92m3g20lt0aat8v.gif\" width=\"785\" height=\"370\"></p>\n<p>与前面提到的插件类似，这是一组专门用来提高书写代码速度的便利工具，不同之处在于 Emmet 适用于 HTML 和 CSS 。将它整合进文本编辑器，可以提供一些功能和快捷方式，加快开发速度。它提供包括 Eclipse、IDEA、UltraEdit、SlickEdit 等的插件。</p>\n<p>Emmet 有点复杂，如果你想要一款更简单的插件，我推荐 <a href=\"https://packagecontrol.io/packages/HTML%20Page%20Snippets\" target=\"_blank\" rel=\"nofollow\">HTML Snippets</a>，它的功能相对较少，但是使用方便，还有很好的直接文档。</p>\n<h3><a href=\"https://packagecontrol.io/packages/AdvancedNewFile\" target=\"_blank\" rel=\"nofollow\">Advanced New File</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hajmfkmg20lt0aa75y.gif\" width=\"785\" height=\"370\"></p>\n<p>这个牛X的软件包可以快速创建新文件。你无需浏览文件件或点击菜单，只要打开 super+alt+n 提示，然后将路径写给新文件即可。该插件能自动创建路径中不存在的目录，还能自动补全文件名称。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Git\" target=\"_blank\" rel=\"nofollow\">Git</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/9a87f47267d51675b03bc3d83505c5b0.png\"></p>\n<p>在 Sublime Text 的命令行面板上，Git 集成可以直接进行工作。这个包提供了快速访问大量 Git 的常用命令，它允许开发者直接添加文件，提交或者打开 Git 日志，而不需要离开 Sublime。</p>\n<h3><a href=\"https://packagecontrol.io/packages/GitGutter\" target=\"_blank\" rel=\"nofollow\">GitGutter</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/96f03d97d3d4531cb45c0aecb5c0cbc9.png\"></p>\n<p>这是非常有用的扩展，它标记了源代码的每一行，告诉你，它的 Git 状态，还给出了你一个发生了的变更梗概。GitGutter 还可以将，git 的HEAD，origin，你选择的分支，或者甚至是某一次的提交与你的文件进行比较。</p>\n<h3></h3>\n<h3><a href=\"https://packagecontrol.io/packages/SideBarEnhancements\" target=\"_blank\" rel=\"nofollow\">Side Bar Enhancement</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/88c04a36e2316593006a64d980a411e0.png\"></p>\n<p>你正在 Sublime Text 中处理的项目工程可以在左侧的面板中进行概览。尽管它给你提供了一些操作文件的选项，但是可选的操作相当有限。该插件通过向右键菜单增加了超过20多个选项来改变了这一现状, 其中就包括了在浏览器中打开（<em>Open in browser）</em>,复制（<em>duplicate）</em>, 以及许多其它的实用功能。</p>\n<h3><a href=\"https://packagecontrol.io/packages/ColorPicker\" target=\"_blank\" rel=\"nofollow\">ColorPicker</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/86076aade7a869428a4ac51b6a04829b.png\"></p>\n<p>这是一个小巧实用的颜色拾取器，很容易上手，非常适合用来快速地抓取颜色的16进制值。插件会打开一个独立的窗口，你可以从一个调色板上选择一种颜色，或者使用滴管直接从屏幕上的任何位置拾取颜色。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Placeholders\" target=\"_blank\" rel=\"nofollow\">Placeholders</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hajvgjpg20lt0aaglm.gif\" width=\"785\" height=\"370\"></p>\n<p>Sublime Text 3 有一个内置 Lorem Ipsum 生成器，可用于创建虚拟文本。Placeholders 插件对这一功能进行了扩展，并允许 ST 快速生成占位符图像，表单，列表和表格。</p>\n<h3><a href=\"https://packagecontrol.io/packages/DocBlockr\" target=\"_blank\" rel=\"nofollow\">DocBlockr</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ff9hakf7wxg20lt0aadg9.gif\" width=\"785\" height=\"370\"></p>\n<p>DocBlockr 可轻松为函数生成描述，包括它们所运用的参数，返回的值和变量类型。非常适合那些喜欢给函数定义添加详细描述的用户。</p>\n<h3><a href=\"https://packagecontrol.io/packages/SublimeCodeIntel\" target=\"_blank\" rel=\"nofollow\">SublimeCodeIntel</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hal5f2ng20lt0aajsb.gif\" width=\"785\" height=\"370\"></p>\n<p>代码智能插件会对你的源代码文件进行索引，让你能快速的找到并跳转到函数的声明。该扩展对于流行较广以及不那么流行的编程语言都比较适用。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Minify\" target=\"_blank\" rel=\"nofollow\">Minify</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/a4b409c84a63a304f39974d4e91b3061.png\"></p>\n<p>这是一个代码压缩器和美化器的二合一插件。Minify 会用你目前正在打开的文件创建出一个新的 .min 或者 .pretty 版本，并且会放在同级目录之下。可用于 CSS, HTML, JavaScript, JSON 还有SVGs。</p>\n<p>这个要依赖外部的 node.js 库来进行压缩和美化, 所以你需要单独安装它们：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912306a85631761320375\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nnpm install -g clean-css uglifycss js-beautify html-minifier uglify-js minjson svgo</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912306a85631761320375-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912306a85631761320375-1\"><span class=\"crayon-i\">npm</span> <span class=\"crayon-i\">install</span> <span class=\"crayon-o\">-</span><span class=\"crayon-i\">g</span> <span class=\"crayon-v\">clean</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">css</span> <span class=\"crayon-i\">uglifycss</span> <span class=\"crayon-v\">js</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">beautify</span> <span class=\"crayon-v\">html</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">minifier</span> <span class=\"crayon-v\">uglify</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">js</span> <span class=\"crayon-i\">minjson</span> <span class=\"crayon-v\">svgo</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<h3><a href=\"https://packagecontrol.io/packages/SublimeLinter\" target=\"_blank\" rel=\"nofollow\">Sublime Linter</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/0df6bffdb2e084ba020ed7a9e8cd32da.png\"></p>\n<p>这个包让代码编辑器能够对语法错误，不好的编码实践以及其它一些开发人员可能会犯的错误进行检查。SublimeLinter 本身所扮演的只是一个检查功能的基础框架，所以针对你所使用的每种语言，还需要安装单独的<a href=\"https://packagecontrol.io/search/sublime%20linter\" target=\"_blank\" rel=\"nofollow\">插件</a>。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Color%20Highlighter\" target=\"_blank\" rel=\"nofollow\">Color Highlighter</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hale04vg20lt0aagmh.gif\" width=\"785\" height=\"370\"></p>\n<p>这是一项你可以在许多其它的IDE或者文本编辑器中看到的功能, 但是 Sublime 里面却没有, 它就是着色预览功能。使用 Color Highlighter 扩展，你就能在 ST 中启用该功能了, 然后就可以直接在样式表中看到十六进制和 RGBA 值是如何被转成颜色的。</p>\n<h3><a href=\"https://packagecontrol.io/browse/labels/language%20syntax\" target=\"_blank\" rel=\"nofollow\">语言支持包</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/106c8346d24f0e65b35cbd729eecfa7c.png\"></p>\n<p>Sublime 可以为超过50种语言提供代码高亮，但是仍然有一些框架或新 Web 语言尚未得到支持。幸好编辑器支持插件，社区可以为任何能想到的语言开发并发布语言包。</p>\n<ul>\n<li><a href=\"https://packagecontrol.io/packages/AngularJS\" target=\"_blank\" rel=\"nofollow\">AngularJS</a></li>\n<li><a href=\"https://packagecontrol.io/packages/TypeScript\" target=\"_blank\" rel=\"nofollow\">TypeScript</a></li>\n<li><a href=\"https://packagecontrol.io/packages/Babel\" target=\"_blank\" rel=\"nofollow\">Babel (React)</a></li>\n</ul>\n<h3>补充：主题</h3>\n<p>为文本编辑器安装一款漂亮的主题会让写代码编写变得更加愉悦。社区拥有许多很不错的 Sublime text 主题和配色，这里列出了我们最喜欢的一些：</p>\n<ul>\n<li><a href=\"https://packagecontrol.io/packages/Agila%20Theme\" target=\"_blank\" rel=\"nofollow\">Agila</a> (截图中使用的主题)</li>\n<li><a href=\"https://packagecontrol.io/packages/Material%20Theme\" target=\"_blank\" rel=\"nofollow\">Material Theme</a></li>\n<li><a href=\"https://packagecontrol.io/packages/Theme%20-%20Brogrammer\" target=\"_blank\" rel=\"nofollow\">Brogrammer</a></li>\n</ul>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111093\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111093votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111093\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 11 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "3", "fav_nums": 1, "comment_nums": 0, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/f98dd868ccd74543e0be0fd723a5e83f.png"]},
{"url_object_id": "3bcbe2f9d07532bfa45a871a1cd09143", "create_date": "2017-05-04", "front_image_path": "full/61e83f8220685c9a81e1f9e49c9a8861761868e5.jpg", "title": "如何快速处理线上故障", "url": "http://blog.jobbole.com/111081/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/daoqidelv/p/6785372.html\">倒骑的驴</a>   </div><h3>概述</h3>\n<p>线上故障通常是指大规模的影响线上服务可用性的问题或者事件，通俗点讲就是：掉‘坑’里了，这个‘坑’就是线上故障！线上故障的处理过程可以形象地表达为：‘踩坑’、‘跳坑’、‘填坑’、‘避坑’。</p>\n<p>线上故障的处理不仅是一项技术活，更是对技术人员/技术团队反应能力、决策能力、判定能力、组织能力的考验。面对突发的生产故障，需要快速定位问题，找到解决方案，快速实施解决方案并不是一件容易的事情。本文主要包括如下内容：线上故障处理的目标、思路、步骤、基础设施。</p>\n<p>本文是依据平时经历的生产故障排查和处理，总结一些肤浅的方法论，以求共同探讨，共同提高，欢迎探讨。</p>\n<h3>线上故障处理的目标</h3>\n<p>任何动物一旦掉进坑里，明智的做法一定是：跳坑–&gt;填坑–&gt;避坑，线上故障处理的过程也一样，优先级从高到低，线上故障处理的目标如下：</p>\n<h4>跳坑</h4>\n<p>‘跳坑’——快速恢复线上服务，或者将对线上服务的影响降到最低。</p>\n<p>线上服务的可用性决定着服务者的客户利益，影响着公司的收益。一旦线上环境不可用，无法服务用户，给公司/团队带来经济利益损失的同时，更为严重的会给公司/团队带来恶劣的名声。所以一般公司都会对线上环境提出稳定性和可靠性的要求，这也是团队乃至部门的kpi。为此，遇到生产故障后的第一要务是：恢复生产服务，即使不能完全恢复线上服务，也要想尽办法将对线上服务的影响降到最低。</p>\n<h4>填坑</h4>\n<p>‘填坑’——找到问题原因，根本上解决问题。</p>\n<p>在恢复线上服务，尽最大限度减掉对用户/公司/团队带来的影响后，我们需要彻查问题，搞清楚故障发生的根本原因，从根本上解决问题。通常情况下，‘填坑’和‘跳坑’是同步在做的，完成‘填坑’也就意味中‘跳坑’成功，但是也有一些紧急情况下的特别‘跳坑’方法，比如重启服务，或者服务降级/熔断等等，实际并未在当时完成‘填坑’，而是先采取非常规手段‘跳坑’，之后再慢慢‘填坑’。</p>\n<h4>避坑</h4>\n<p>‘避坑’——举一反三，消灭隐患。</p>\n<p>找到了根本原因，解决了问题之后，我们需要举一反三，以此及彼，想想在这个故障排查和处理过程中，那些环节存在弱点？那些流程/规范/制度需要优化？这类问题是否在其他系统或者团队中也存在？通过这样的反思和自我批评，形成一份线上事故报告，不断完善流程，避免再次踩坑，也在团队中交流经验，共同提高。</p>\n<h3>线上故障处理的思路</h3>\n<p>依据线上故障处理的目标及目标的优先级，线上排障的第一目标是恢复线上服务或者降低对线上服务的影响，关键点在于快速二字，在‘跳坑’-‘填坑’之后，再行回溯总结，以便‘避坑’。因此，可以将线上故障处理的步骤分为：</p>\n<ol>\n<li>故障发现</li>\n<li>故障定位</li>\n<li>故障排除</li>\n<li>故障回溯</li>\n</ol>\n<p>其中前三步是‘跳坑’行为，后面一步包含了‘填坑’和‘避坑’。</p>\n<p>上述步骤并不是说要从上到下顺序进行，建议<strong>在不乱阵脚的情况下，并行去做</strong>，因为通常线上故障后会紧急启动故障处理程序，运维、开发、测试、产品各个角色都会参与进来，这时候分工下去，并行去做，不断汇总消息，做出判断，以求快速排障，恢复服务。<strong>这个思路类似于操作系统的fork/join设计思想，目的在于提高效率</strong>。</p>\n<p>在无法快速找到故障原因的时候，需要果断跳过故障定位环节，直接进行故障排除，比如采用服务降级、服务器扩容等手段，确保对线上服务降到最低且可控。等到线上服务’撑’过去之后，我们再慢慢定位故障原因，根本上解决问题。</p>\n<p>下面我们会对这四个步骤进行详细说明。</p>\n<h3>故障发现</h3>\n<p>线上故障一般可以通过如下几种途径传递到开发/运维人员手中，按照从上到下的顺序，故障的严重程度依次变高。</p>\n<ul>\n<li>主动发现——可能是开发或者运维不经意间查看生产环境的error日志，或者例行检查监控项时，看到了一些异常的现象，进而发现了故障；</li>\n<li>系统监控告警——通常包括cpu、内存、io、tcp连接数、disk、线程数、GC、连接池等各个服务器指标异常，可能是服务器出现了异常，但是业务还未受到大面积影响；</li>\n<li>业务监控告警——如用户登录失败率增加，订单堆积量增大，则意味中系统的异常已经很严重，影响了业务处理；</li>\n<li>关联系统故障追溯——上游系统或者下游系统的故障处理邮件/电话追溯，可能和本系统有关系，而且情况已经变得很糟糕了，需要快速定位；</li>\n<li>生产事件上报——通常业务异常带来的影响传递到用户，再从用户传递到客服人员，再到技术人员手里，会存在一定时延，所以一旦有生产事件上报，这个时候严重性已经到了最高，技术人员的压力也会增大，因为会有领导的关注，产品经理的询问和催促，客户人员的焦虑带来的压力。</li>\n</ul>\n<p>上述途径传递过来的信息仅仅只是线上故障苗头，并非一定就发生了大规模的线上故障，所以首先需要确认的是这是不是一次线上故障？还是只是个例生产问题？是否和本系统有关系？一般来讲：‘<strong>系统监控告警</strong>’和‘<strong>业务监控告警</strong>’的情况下，大部分都和本系统有关，且可能是线上故障；而‘主动发现’和‘生产事件上报’则需要做甄别，可以根据上报事件个数或者问题复现的方式来评估是否是大规模线上故障，或者跟踪日志信息或者特定用户问题追溯来确定。至于‘<strong>关联系统故障追溯</strong>’的情况，首先不要慌，先从宏观上确定本系统服务正常，一般可以检查是否有服务器监控报警，是否有业务监控报警等来确定，如果上游或者下游提供了日志，可以通过日志进行追踪，从而确定本系统是否存在故障。</p>\n<p>因此在得到一些线上故障苗头之后，可以通过以下途径确定是否是线上故障：业务监控告警、上报事件个数、问题重现、服务器监控等。<strong>这些途径可以并行进行，灵活组合，有时候一个手段就能确定，有时候需要组合多个手段予以判定</strong>。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/3ab27a1c2ffd9bfc14defd2e824de301.png\"><img class=\"alignnone size-full wp-image-111082\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/3ab27a1c2ffd9bfc14defd2e824de301.png\" alt=\"1\"></a></p>\n<h3>故障定位</h3>\n<p>一旦确定是线上故障后，我们需要快速定位故障点，找到问题原因，以便对症下药，快速排除故障。</p>\n<p>故障定位是一个不断‘收集信息–假设–验证–尝试’的循环过程，基本思路：拿到线上信息，产生怀疑点，拿到更详细的信息，进行推理验证，必要时刻，找到可行的验证措施，进行可控的尝试，或者在测试环境进行业务测试重现，性能测试重现。</p>\n<p>可能存在的怀疑点有：</p>\n<ul>\n<li>新版本发布有问题</li>\n<li>潜在的程序bug被激发，比如在访问量暴增的情况下，并发bug被激发</li>\n<li>业务量暴涨</li>\n<li>遭遇攻击，如活动期间羊毛党刷积分等</li>\n<li>上游服务调用异常，如上游系统升级httpclient后，将长连接改为短连接</li>\n<li>下游服务异常，下游服务宕机</li>\n<li>网络问题</li>\n<li>服务器故障，如磁盘满，内存爆掉等</li>\n<li>应用故障</li>\n<li>数据库故障</li>\n</ul>\n<p>为此，可以通过如下几方面收集信息，以便支撑你的怀疑点：</p>\n<ul>\n<li>最近新版本的发布情况</li>\n<li>本服务的异常/error日志</li>\n<li>本服务的调用量变化情况，是否存在暴涨？</li>\n<li>本服务的吞吐量，是否出现下降？</li>\n<li>本服务的时延，是否出现突然增大？</li>\n<li>服务器TCP的链接情况，是否存在大量的CLOSE_WAIT？</li>\n<li>服务器的cpu使用率，是否突然飙升？</li>\n<li>服务器的disk，磁盘空间是否已经用完？</li>\n<li>服务器的内存，内存是否爆掉？</li>\n<li>数据库或者存储是否挂掉？</li>\n</ul>\n<p>很多故障并不是由于单一原因造成的，而是多个条件同时满足时才出现的，所以，需要多收集信息，综合得到的信息，产生怀疑点，快速推理和验证，最后找到问题点，定位到故障。这个过程中可以集合大家的力量，并行去check各个点，并快速反馈信息。</p>\n<p>由于组合情况众多，这里只将明显的故障定位场景列出，更多的需要总结归纳：</p>\n<ul>\n<li>发布了最新版本，且故障最早出现时间在版本发布之后，很大程度上时由于新版本发布带来的问题，可能是bug，也可能是部署出现问题；</li>\n<li>未发布新版本，业务访问量猛增，服务时延增大，吞吐量先上升后下降，到最后服务直接不可用，可能原因是：业务量暴涨/遭遇攻击/上游服务异常调用；</li>\n<li>未发布新版本，部分服务失败，服务错误率增加，业务访问量增加，可能原因是业务访问量增大激发了潜在的并发bug，或者出现了io瓶颈等；</li>\n<li>业务访问量并未增加，但是服务时延下降，吞吐量下降，服务错误率增加，且服务器TCP的CLOSE_WAIT增大，这时候需要怀疑下游依赖服务是否异常。</li>\n<li>业务访问量并未增加，服务大范围不可用，日志中出现大量数据库错，很明显数据库可能出现问题，或者应用的数据库连接池出现问题。</li>\n</ul>\n<p>不一而足，需要逐步积累。下图是对上面描述的总结。</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/bc642fb22060a447b8d45506991e1120.png\"><img class=\"alignnone size-full wp-image-111083\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/bc642fb22060a447b8d45506991e1120.png\" alt=\"1\"></a></p>\n<p>故障定位的初期，一般会先通过邮件+电话的方式进行沟通，如果几分钟之后事态变糟糕，且没有眉目，则需要紧急启动会议形式的联合排障，所有相关人员需要放下手头事情，集中到一个特定会议室进行联合排障。这样的好处也在于能够迅速共享信息，快速做出决策。联合排障人员通常会包括：开发、运维、测试、产品，主力应当是开发和运维，测试和产品需要帮忙快速确认一些东西，如复现问题，或者确认业务逻辑等。</p>\n<p>从上面可以看到，故障定位过程中，追求‘快速’二字，为此多项事情是并行去做的。为了避免出现群龙无首的慌乱局面，需要有一个主心骨坐镇，把握排障的方向并最终做出决策，这个人是master，需要冷静沉着，且要能调度尽可能多的资源，所以技术leader或者运维leader会比较合适。这个类似于分布式系统的设计思路。</p>\n<p>另外，在故障定位过程中，获得的线上一线信息需要通过某种形式记录下来，邮件往来是一种比较好的方式，在完成通信和信息共享的基础上，也无形中保留了现场。其他的信息包括：error log，dump文件，服务器各个指标的状态值等等。</p>\n<h3>故障排除</h3>\n<p>一旦定位到故障原因，对症下药地排除故障就不是什么难事了，具体的措施可以参考下图中的总结：</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/156a5fe139f4bed28cac290f01277592.png\"><img class=\"alignnone size-full wp-image-111084\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/156a5fe139f4bed28cac290f01277592.png\" alt=\"1\"></a></p>\n<p>这里需要特别指出一个特别的场景：无法定位故障的情况下如何迅速排除故障。</p>\n<p>很多时候无法及时找到故障原因，必须直接进入故障排除，这时候的思路就在于：尽最大可能降低线上服务影响了。可以采用的手段有如下几项:</p>\n<ul>\n<li>服务降级——定位到某些服务有异常，但不清楚异常出现的原因，直接将这些服务降级，确保其他服务不受影响；</li>\n<li>服务紧急扩容——无法定位到是哪些服务造成的，服务器资源彪升，扛不住压力时，紧急扩容服务器；比如恶意攻击、营销活动，秒杀等场景带来的突发情况；</li>\n<li>回退版本——有新版本发布，但是不能迅速确定是否和新版本有关系，先做版本回退，确保线上服务回到上一个稳定版本。</li>\n</ul>\n<p>还是那句话，故障排除的原则是：确保线上服务快速恢复，不能完全恢复的情况下，确保线上服务尽可能少地受到影响。</p>\n<h3>故障回溯</h3>\n<p>故障回溯的目的是在故障排除后，冷静地回溯整个线上故障的发现/定位/排除过程，找出流程中/架构中/制度中的缺陷，并将该缺陷消灭掉，同时推而广之到其他系统。在‘跳坑’–‘填坑’之后，我们需要通过故障回溯的过程达到‘避坑’的效果，即要保证自己能‘避坑’，也保证团队/公司能够避开类似的坑。</p>\n<p>故障回溯的过程，因人因团队而异，最重要的是要有严肃的‘形式’和最终的产出物。之所以提到严肃的‘形式’，是因为线上故障无小事，一定要让大家牢记在心。</p>\n<p>至于如何达到‘严肃’，可以参考如下形式：</p>\n<ul>\n<li>可以和kpi挂钩。慎用，可能会伤害到技术人员的心，造成‘懒政’现象——“多干多出事，少干少出事”出现；</li>\n<li>可以实施追责制度。同上；</li>\n<li>还可以进行邮件或者会议形式的讨论，广而告之。</li>\n</ul>\n<p>总之，故障回溯的最终的目标不是为了追责，更重要的是让大家长记性，避免后续再次踩坑，而且线上故障报告的产出物一定要有，一方面是经验的积累，便于分享，另一方面也让当事人撸清楚事件过程，吃一堑长一智。</p>\n<p>可以参考的一个流程如下：</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/a3208d6d159864ec984e0b1da271db73.png\"><img class=\"alignnone size-full wp-image-111085\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/a3208d6d159864ec984e0b1da271db73.png\" alt=\"1\"></a></p>\n<h3>线上故障处理的‘后勤保障’</h3>\n<p>前面谈了线上故障处理的目标、思路和步骤，回过头来看下，要快速准确地定位和排除线上故障，需要很多基础设施支撑，它们是线上故障处理的‘后勤保障’。结合上面的内容归纳总结如下：</p>\n<h4>完善的监控/告警体系</h4>\n<p>通过告警，能让我们迅速知道自己的服务出了问题，通过监控可以从时间维度进行对比分析，找到可疑点，进而定位故障。</p>\n<p>监控通常分为：</p>\n<ul>\n<li>服务器监控——针对操作系统资源使用情况(比如cpu使用率、内容使用率、磁盘空间、io、network等)，容器健康程度（内存使用情况、线程数、GC情况等），application健康程度的（服务的可访问性等）;</li>\n<li>服务监控——包括吞吐量、时延等，这些指标至少包括：最大值、平均值，通过这些指标可以判断单个服务的变化情况和健康程度；</li>\n<li>业务监控——包括访问量、错误率等，一个业务场景往往会包含多个服务调用，因此通过业务监控，可以发现一些关联问题。</li>\n</ul>\n<p>告警方面，需要根据实际情况和业务场景进行阈值设定，告警阈值的设定是一个动态调整的过程。</p>\n<p>监控系统最基本的需要保证：按照时间序列进行统计、对比。</p>\n<h4>完善的日志trace体系</h4>\n<p>在线上故障处理过程中，日志尤其重要，通过日志能够定位到问题或者bug细节。在分布式架构的系统中，多实例的部署导致日志分散在多台机器上，靠人肉查看耗时费力，效率低下；另一方面，业务发展壮大后，业务系统越来越多，系统间依赖越来越多，各个业务系统的日志需要通过唯一的标识串联起来，否则会出现信息断层的问题，日志变得无用。所以完善的日志trace系统非常必要。</p>\n<p>日志trace体系的几个关键点：</p>\n<ul>\n<li>有唯一的标识串联上下游系统日志</li>\n<li>能自动收集分布式应用日志</li>\n<li>日志收集时延不能超过10分钟（具体时间试实际情况而定，如果时延太长，日志没有多大意义）</li>\n<li>支持多种形式的查询/过滤/统计等</li>\n<li>可以看到时间序列上的变化趋势</li>\n</ul>\n<p>推荐使用开源的日志架构：logstash+elasticsearch+kibana。</p>\n<h4>完善的故障处理机制</h4>\n<p>线上故障处理的要点在于快速，所以需要有完善便捷的事件流转机制和故障处理机制来保证：生产事件能快速推送到相关责任人进行联合排除，保证事件排查过程中快速共享信息，快速完成决策。</p>\n<p>对于事件上报，一般的公司会有专用的通道给到一线客服人员，客户人员填报工单，上报事件，关键点在于事件处理中担任‘路由’角色的人员，他需要对业务系统比较熟悉，对于上报的问题能快速确定相关的业务系统和负责人，并通知到对方，这个角色既要熟知业务，也要熟知系统架构和组织架构，这个角色一般会交由专门人员处理，称之为‘二线’人员，或者由运维人员兼职。</p>\n<p>排查生产事件/故障时，推荐进行集中版本，便于快速共享信息，同时需要有一个master，以便把握大的方向，并快速完成决策。</p>\n<h3>总结</h3>\n<p>以上，对线上故障处理的目标、思路、步骤及基础设施进行了讨论，先总结如下：</p>\n<ul>\n<li>线上排障的第一目标是恢复线上服务或者降低对线上服务的影响，关键点在于快速二字，在‘跳坑’-‘填坑’之后，需要总结以便‘避坑’。</li>\n<li>一切的流程或者手段都是为‘快速’二字服务的，所以线上故障是最高优先级的任务，任何人需要第一时间予以响应；同时，尽早地反馈故障问题，尽早地集结各个角色，群策群力地进行排障值得提倡；这个过程中，需要有一位有‘威望’的master坐镇，主持大局；在保证有序推进的情况下，尽可能地并行地收集信息，进行尝试。这个有点分布式架构的味道了，master坐镇，slave并行干活，提高效率。</li>\n<li>必须要有一个‘严肃’的形式让当事人及旁观者‘吃一堑长一智’，线上故障处理报告是必须的产出物。</li>\n<li>为了更加高效的处理线上故障，需要有完善的基础设施支撑：监控/告警体系、日志trace体系、事件流转机制。</li>\n</ul>\n<p>对于线上排障的流程整理了一个大图，如下：</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/c4fd3a0b730cc16c2b83e9e44882bc53.png\"><img class=\"alignnone size-full wp-image-111086\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/c4fd3a0b730cc16c2b83e9e44882bc53.png\" alt=\"1\"></a></p>\n<h3>案例</h3>\n<p><a href=\"http://www.cnblogs.com/daoqidelv/p/6786649.html\">线上故障处理——大量异常堆栈日志输出影响服务可用性</a></p>\n<h3>参考资料</h3>\n<p>本文中部分观点来源于goole出版的《Google SRE》一书，这本书中有很多实用的且经过实践证明了的详尽的例子，该书的读书笔记可参考：《<a href=\"http://www.jianshu.com/p/60cb877d9409\">Google SRE读后感</a>》</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111081\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111081votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111081\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 6, "comment_nums": 0, "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/3ab27a1c2ffd9bfc14defd2e824de301.png"]},
{"url_object_id": "f989fd54cb808635e522480a575fb6e3", "create_date": "2017-05-04", "front_image_path": "full/d06ceda982fea7eeec79adb8ba276e7c43bc5e1b.jpg", "title": "命令行的生活是如此的 F*ck", "url": "http://blog.jobbole.com/111096/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://linux.cn/article-8471-1.html\">Linux中国/wxy</a>   </div><p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9im31jvbj20p00d2whb.jpg\" width=\"551\" height=\"288\"></p>\n<p>你是不是经常在终端敲错命令，其实这都是因为该死的终端不配合，不能领会你的意思。</p>\n<p>每当这个时候，甚至当你一再敲错的时候，你的内心肯定是崩溃的，一定在默念“……”。</p>\n<p>而现在，是让你的终端觉悟的时候了！</p>\n<p>有位名为 <a href=\"https://twitter.com/liamosaur/\">@liamosaur</a> 的哥们就忍不住对自己的终端发出了愤怒的<a href=\"https://twitter.com/liamosaur/status/506975850596536320\">吼声</a>，并付诸实践：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9im8oag0j20hh0bpmyv.jpg\"></p>\n<p>受此启发， 一位名为 <a href=\"https://github.com/nvbn\">Vladimir Iakovlev</a> 程序员对这个该死的终端发出了致命一击！他以及他的 <a href=\"https://github.com/nvbn/thefuck/graphs/contributors\">90 位愤怒的小伙伴们</a>打造出了一个名为 “<a href=\"https://github.com/nvbn/thefuck\">thefuck</a>” 的神器！</p>\n<p><em>当你的终端没有按你想象的输入命令时，请 <code>fuck</code> 它！</em></p>\n<p><em>当你的终端没有按你想象的以 sudo 执行命令时，请 <code>fuck</code> 它！</em></p>\n<p><em>当你的的终端不知道填上显而易见的参数时，请 <code>fuck</code> 它！</em></p>\n<p>当你输入错误的命令时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee22618a111254087\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ puthon\r\nNo command 'puthon' found, did you mean:\r\n Command 'python' from package 'python-minimal' (main)\r\n Command 'python' from package 'python3' (main)\r\nzsh: command not found: puthon\r\n\r\n➜ fuck\r\npython [enter/↑/↓/ctrl+c]\r\nPython 3.4.2 (default, Oct  8 2014, 13:08:17)\r\n...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee22618a111254087-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22618a111254087-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22618a111254087-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22618a111254087-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22618a111254087-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22618a111254087-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22618a111254087-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22618a111254087-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22618a111254087-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22618a111254087-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee22618a111254087-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">puthon</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22618a111254087-2\"><span class=\"crayon-e\">No </span><span class=\"crayon-i\">command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'puthon'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">did </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">mean</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22618a111254087-3\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python'</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python-minimal'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">main</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22618a111254087-4\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python'</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python3'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">main</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22618a111254087-5\"><span class=\"crayon-v\">zsh</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">command </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">puthon</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22618a111254087-6\"> </div><div class=\"crayon-line\" id=\"crayon-5912dee22618a111254087-7\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22618a111254087-8\"><span class=\"crayon-i\">python</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22618a111254087-9\"><span class=\"crayon-i\">Python</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.4.2</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-st\">default</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Oct</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2014</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22618a111254087-10\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>当你忘记输入参数时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee226194422259363\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ git push\r\nfatal: The current branch master has no upstream branch.\r\nTo push the current branch and set the remote as upstream, use\r\n\r\n    git push --set-upstream origin master\r\n\r\n➜ fuck\r\ngit push --set-upstream origin master [enter/↑/↓/ctrl+c]\r\nCounting objects: 9, done.\r\n...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee226194422259363-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226194422259363-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226194422259363-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226194422259363-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226194422259363-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226194422259363-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226194422259363-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226194422259363-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226194422259363-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226194422259363-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee226194422259363-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">git </span><span class=\"crayon-e\">push</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226194422259363-2\"><span class=\"crayon-v\">fatal</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">The </span><span class=\"crayon-e\">current </span><span class=\"crayon-e\">branch </span><span class=\"crayon-e\">master </span><span class=\"crayon-e\">has </span><span class=\"crayon-e\">no </span><span class=\"crayon-e\">upstream </span><span class=\"crayon-v\">branch</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5912dee226194422259363-3\"><span class=\"crayon-st\">To</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">push </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">current </span><span class=\"crayon-e\">branch </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">remote </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">upstream</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">use</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226194422259363-4\"> </div><div class=\"crayon-line\" id=\"crayon-5912dee226194422259363-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">git </span><span class=\"crayon-v\">push</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">set</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">upstream </span><span class=\"crayon-e\">origin </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226194422259363-6\"> </div><div class=\"crayon-line\" id=\"crayon-5912dee226194422259363-7\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226194422259363-8\"><span class=\"crayon-e\">git </span><span class=\"crayon-v\">push</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">set</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">upstream </span><span class=\"crayon-e\">origin </span><span class=\"crayon-i\">master</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5912dee226194422259363-9\"><span class=\"crayon-e\">Counting </span><span class=\"crayon-v\">objects</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">done</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226194422259363-10\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>当你输入错误的参数时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee226198862336396\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ git brnch\r\ngit: 'brnch' is not a git command. See 'git --help'.\r\n\r\nDid you mean this?\r\n    branch\r\n\r\n➜ fuck\r\ngit branch [enter/↑/↓/ctrl+c]\r\n* master</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee226198862336396-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226198862336396-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226198862336396-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226198862336396-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226198862336396-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226198862336396-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226198862336396-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee226198862336396-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5912dee226198862336396-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee226198862336396-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">git </span><span class=\"crayon-e\">brnch</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226198862336396-2\"><span class=\"crayon-v\">git</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'brnch'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">git </span><span class=\"crayon-v\">command</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">See</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'git --help'</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5912dee226198862336396-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226198862336396-4\"><span class=\"crayon-e\">Did </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">mean </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line\" id=\"crayon-5912dee226198862336396-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">branch</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226198862336396-6\"> </div><div class=\"crayon-line\" id=\"crayon-5912dee226198862336396-7\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee226198862336396-8\"><span class=\"crayon-e\">git </span><span class=\"crayon-i\">branch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5912dee226198862336396-9\"><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">master</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>当你忘记输入 <code>sudo</code> 时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee22619c763960435\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ apt-get install vim\r\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\r\nE: Unable to lock the administration directory (/var/lib/dpkg/), are you root?\r\n\r\n➜ fuck\r\nsudo apt-get install vim [enter/↑/↓/ctrl+c]\r\n[sudo] password for nvbn:\r\nReading package lists... Done\r\n...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee22619c763960435-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619c763960435-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22619c763960435-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619c763960435-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22619c763960435-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619c763960435-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22619c763960435-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619c763960435-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22619c763960435-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee22619c763960435-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619c763960435-2\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Could </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open </span><span class=\"crayon-e\">lock </span><span class=\"crayon-v\">file</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lock</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Permission </span><span class=\"crayon-v\">denied</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22619c763960435-3\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Unable </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lock </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">administration </span><span class=\"crayon-e\">directory</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">are </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619c763960435-4\"> </div><div class=\"crayon-line\" id=\"crayon-5912dee22619c763960435-5\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619c763960435-6\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22619c763960435-7\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sudo</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">password </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nvbn</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619c763960435-8\"><span class=\"crayon-e\">Reading </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lists</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Done</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22619c763960435-9\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p>如果生活是如此的不如意，你可以不断的“教诲”它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee22619f914792744\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ aptget install vim\r\nNo command 'aptget' found, did you mean:\r\n Command 'apt-get' from package 'apt' (main)\r\nzsh: command not found: aptget\r\n➜ fuck\r\naot-get install vim [enter/ctrl-c]\r\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\r\nE: Unable to lock the administration directory (/var/lib/dpkg), are you root?</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee22619f914792744-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619f914792744-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22619f914792744-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619f914792744-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22619f914792744-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619f914792744-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5912dee22619f914792744-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee22619f914792744-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee22619f914792744-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">aptget </span><span class=\"crayon-e\">install </span><span class=\"crayon-e\">vim</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619f914792744-2\"><span class=\"crayon-e\">No </span><span class=\"crayon-i\">command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'aptget'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">did </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">mean</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22619f914792744-3\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apt-get'</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apt'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">main</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619f914792744-4\"><span class=\"crayon-v\">zsh</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">command </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">aptget</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22619f914792744-5\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619f914792744-6\"><span class=\"crayon-v\">aot</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5912dee22619f914792744-7\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Could </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open </span><span class=\"crayon-e\">lock </span><span class=\"crayon-v\">file</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lock</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Permission </span><span class=\"crayon-v\">denied</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee22619f914792744-8\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Unable </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lock </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">administration </span><span class=\"crayon-e\">directory</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">are </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">?</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p>还需要权限？再来！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee2261a2139682310\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ fuck\r\nsudo apt-get install vim [enter/ctrl-c]\r\n[sudo] password for nvbn:\r\nReading package lists... Done\r\nBuilding dependency tree... 0%\r\n... ...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee2261a2139682310-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee2261a2139682310-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee2261a2139682310-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee2261a2139682310-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912dee2261a2139682310-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee2261a2139682310-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee2261a2139682310-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee2261a2139682310-2\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5912dee2261a2139682310-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sudo</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">password </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nvbn</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee2261a2139682310-4\"><span class=\"crayon-e\">Reading </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lists</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Done</span></div><div class=\"crayon-line\" id=\"crayon-5912dee2261a2139682310-5\"><span class=\"crayon-e\">Building </span><span class=\"crayon-e\">dependency </span><span class=\"crayon-v\">tree</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">%</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee2261a2139682310-6\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p><img id=\"pic\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ff9imdhdtfg20j20ajdz4.gif\"></p>\n<p>好了，我想你肯定也想拥有这样的神器，请如此这般……</p>\n<h3>我要这个神器！</h3>\n<h4>环境需求</h4>\n<p>首先，你需要这些：</p>\n<ul>\n<li>python (2.7+ or 3.3+)</li>\n<li>pip</li>\n<li>python-dev</li>\n</ul>\n<h4>安装</h4>\n<p>然后，在不同的操作系统上（没错，有 Python 的地方就行）：</p>\n<p>在 Ubuntu 上可以通过 <code>apt</code> 安装：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee2261a6303445145\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt update\r\nsudo apt install python3-dev python3-pip\r\npip3 install --user thefuck</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee2261a6303445145-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee2261a6303445145-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee2261a6303445145-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee2261a6303445145-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">update</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee2261a6303445145-2\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">python3</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">dev </span><span class=\"crayon-v\">python3</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">pip</span></div><div class=\"crayon-line\" id=\"crayon-5912dee2261a6303445145-3\"><span class=\"crayon-e\">pip3 </span><span class=\"crayon-v\">install</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">user </span><span class=\"crayon-v\">thefuck</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>OS X 上使用 <a href=\"http://brew.sh/\">Homebrew</a> 来安装：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee2261a9316006789\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbrew install thefuck</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee2261a9316006789-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee2261a9316006789-1\"><span class=\"crayon-e\">brew </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">thefuck</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>其它的系统上，只要你有 <code>pip</code> 就行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee2261ad846708253\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npip install --user thefuck</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee2261ad846708253-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee2261ad846708253-1\"><span class=\"crayon-e\">pip </span><span class=\"crayon-v\">install</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">user </span><span class=\"crayon-v\">thefuck</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>更多的 Linux 发行版，可以看<a href=\"https://github.com/nvbn/thefuck/wiki/Installation\">这里</a>。</p>\n<h4>设置别名</h4>\n<p>上述安装的软件包名字是：“thefuck”——别问我为啥不能直接叫 “fuck”。所以，你可以设置个别名：</p>\n<p><strong>Bash</strong></p>\n<p>将下述行加入到 <code>.bashrc</code> 或 <code>.bash_profile</code> （用于 OSX）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee2261b0370144871\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\neval \"$(thefuck --alias)\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee2261b0370144871-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee2261b0370144871-1\"><span class=\"crayon-i\">eval</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$(thefuck --alias)\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><a id=\"user-content-zsh\" href=\"https://github.com/nvbn/thefuck/wiki/Shell-aliases#zsh\"></a><strong>ZSH</strong></p>\n<p>将下述行加入到 <code>.zshrc</code>:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee2261b3269879977\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\neval \"$(thefuck --alias)\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee2261b3269879977-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee2261b3269879977-1\"><span class=\"crayon-i\">eval</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$(thefuck --alias)\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>其它的 shell ，包括 powershell，可以参考<a href=\"https://github.com/nvbn/thefuck/wiki/Shell-aliases\">这里</a>。</p>\n<p>当然，我觉得我更喜欢给它起个别名叫 “<code>kao</code>”。:D</p>\n<p>要让别名立刻生效，你需要用 <code>source</code> 命令，如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912dee2261b7233106826\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsource ~/.bashrc \r\n或 \r\nsource ~/.zshrc</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912dee2261b7233106826-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912dee2261b7233106826-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912dee2261b7233106826-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912dee2261b7233106826-1\"><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">bashrc</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912dee2261b7233106826-2\">或 </div><div class=\"crayon-line\" id=\"crayon-5912dee2261b7233106826-3\"><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">zshrc</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<h3>它是怎么让我念头通达的？</h3>\n<p>thefuck 这个软件包包含了<a href=\"https://github.com/nvbn/thefuck#how-it-works\">上百个匹配规则</a>，专门用来修改你的那些错误，贴心地将它们修改成应该的样子！</p>\n<p>具体有哪些规则，你可以看看<a href=\"https://github.com/nvbn/thefuck#how-it-works\">这里</a>，或者试试就知道了。</p>\n<p>当然，如果你经常犯一些<a href=\"https://github.com/nvbn/thefuck/issues\">独特的错误</a>，你也可以建立自己的规则，而且不妨<a href=\"https://github.com/nvbn/thefuck/pulls\">提交拉取请求</a>给这个项目，找到和你一样独特的小伙伴们。</p>\n<p>还等什么？赶快去<strong>装</strong>啊！</p>\n<p>（本文中的例子和图片来自<a href=\"https://github.com/nvbn/thefuck\">该项目</a>。）</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111096\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111096votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111096\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 9 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "2", "fav_nums": 9, "comment_nums": 2, "front_image_url": ["http://wx1.sinaimg.cn/large/63918611gy1ff9im31jvbj20p00d2whb.jpg"]},
{"url_object_id": "6eeea46b5cdc0967a25e60ee0aa5eac0", "create_date": "2017-05-03", "front_image_path": "full/2f706391ee65fdfc16b116b90f76185b162f1029.jpg", "title": "有哪些命令行的软件堪称神器？", "url": "http://blog.jobbole.com/111072/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.zhihu.com/question/59227720/answer/163594782\">int32bit（已授权转载）</a>   </div><p><b><a class=\" wrap external\" href=\"https://github.com/ggreer/the_silver_searcher\" target=\"_blank\" rel=\"nofollow noreferrer\">ag<i class=\"icon-external\"></i></a>：</b>比grep、ack更快的递归搜索文件内容。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lc6lm06j20go0azdig.jpg\" width=\"600\" height=\"395\"></p>\n<p><b><a class=\" wrap external\" href=\"https://github.com/jonas/tig\" target=\"_blank\" rel=\"nofollow noreferrer\">tig<i class=\"icon-external\"></i></a>：</b>字符模式下交互查看git项目，可以替代git命令。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1ff8lc7fx0uj20go09278u.jpg\" width=\"600\" height=\"326\"></p>\n<p><b><a class=\" wrap external\" href=\"https://github.com/dbcli/mycli\" target=\"_blank\" rel=\"nofollow noreferrer\">mycli<i class=\"icon-external\"></i></a>：</b>mysql客户端，支持语法高亮和命令补全，效果类似ipython，可以替代mysql命令。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lc83fejj20go08tq55.jpg\" width=\"600\" height=\"317\"></p>\n<p>jq: json文件处理以及格式化显示，支持高亮，可以替换python -m json.tool。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1ff8lc8s1rdj20go0ah0uv.jpg\" width=\"600\" height=\"377\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/koalaman/shellcheck\" target=\"_blank\" rel=\"nofollow noreferrer\">shellcheck<i class=\"icon-external\"></i></a>：</u></b>shell脚本静态检查工具，能够识别语法错误以及不规范的写法。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1ff8lc9h2ccj20go07mjs7.jpg\" width=\"600\" height=\"274\"></p>\n<div>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/google/yapf\" target=\"_blank\" rel=\"nofollow noreferrer\">yapf<i class=\"icon-external\"></i></a>：</u></b>Google开发的python代码格式规范化工具，支持pep8以及Google代码风格。</p>\n<p><b><u><a class=\" wrap external\" href=\"https://mosh.org/%23getting\" target=\"_blank\" rel=\"nofollow noreferrer\">mosh<i class=\"icon-external\"></i></a>：基于UDP的终端连接，</u></b>可以替代ssh，连接更稳定，即使IP变了，也能自动重连。</p>\n<p><b><a class=\" wrap external\" href=\"https://github.com/junegunn/fzf\" target=\"_blank\" rel=\"nofollow noreferrer\">fzf<i class=\"icon-external\"></i></a>：</b>命令行下模糊搜索工具，能够交互式智能搜索并选取文件或者内容，配合终端ctrl-r历史命令搜索简直完美。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1ff8lca3g0dj20go0c6wlj.jpg\" width=\"600\" height=\"438\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/facebook/PathPicker\" target=\"_blank\" rel=\"nofollow noreferrer\">PathPicker(fpp)<i class=\"icon-external\"></i></a>:</u></b>在命令行输出中自动识别目录和文件，支持交互式，配合git非常有用。</p>\n<p>运行以下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419ae725782641\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ngit diff HEAD~8 --stat | fpp</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419ae725782641-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419ae725782641-1\"><span class=\"crayon-e\">git </span><span class=\"crayon-e\">diff </span><span class=\"crayon-v\">HEAD</span><span class=\"crayon-o\">~</span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">stat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fpp</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>\n</p></div>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcanda0j20go08jdix.jpg\" width=\"600\" height=\"307\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://hisham.hm/htop/\" target=\"_blank\" rel=\"nofollow noreferrer\">htop<i class=\"icon-external\"></i></a>: </u></b>提供更美观、更方便的进程监控工具，<b><u>替代top命令。</u></b></p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcbfk4dj20go096afc.jpg\" width=\"600\" height=\"330\"></p>\n<p><b><u><a class=\" wrap external\" href=\"http://axel.alioth.debian.org/\" target=\"_blank\" rel=\"nofollow noreferrer\">axel<i class=\"icon-external\"></i></a>：</u></b>多线程下载工具，下载文件时可以替代curl、wget。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419bc906257167\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\naxel -n 20 http://centos.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1511.iso</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419bc906257167-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419bc906257167-1\"><span class=\"crayon-v\">axel</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">n</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//centos.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1511.iso</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcc5yl2j20go0eodmg.jpg\" width=\"600\" height=\"528\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/mmastrac/iterm2-zmodem\" target=\"_blank\" rel=\"nofollow noreferrer\">sz/rz<i class=\"icon-external\"></i></a>：</u></b>交互式文件传输，在多重跳板机下传输文件非常好用，不用一级一级传输。</p>\n<p><b><a class=\" wrap external\" href=\"http://cloc.sourceforge.net/\" target=\"_blank\" rel=\"nofollow noreferrer\">cloc<i class=\"icon-external\"></i></a>：</b>代码统计工具，能够统计代码的空行数、注释行、编程语言。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lccg7muj20go05bgmp.jpg\" width=\"600\" height=\"191\"></p>\n<p><b><a class=\" wrap external\" href=\"https://ccache.samba.org/\" target=\"_blank\" rel=\"nofollow noreferrer\">ccache<i class=\"icon-external\"></i></a>：</b>高速C/C++编译缓存工具，反复编译内核非常有用。使用起来也非常方便：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419c1365801333\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ngcc foo.c</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419c1365801333-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419c1365801333-1\"><span class=\"crayon-e\">gcc </span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">c</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>改成:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419c4970720733\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nccache gcc foo.c</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419c4970720733-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419c4970720733-1\"><span class=\"crayon-e\">ccache </span><span class=\"crayon-e\">gcc </span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">c</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><b>tmux：终端复用工具，替代screen、nohup。</b></p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcdhubdj20go0afwic.jpg\" width=\"600\" height=\"375\"></p>\n<div>\n<div>\n<p><a class=\" wrap external\" href=\"https://neovim.io/\" target=\"_blank\" rel=\"nofollow noreferrer\">neovim<i class=\"icon-external\"></i></a>: 替代vim。</p>\n<p><b>script/scriptreplay: </b>终端会话录制。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419c8148998624\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nscript -t 2&gt;time.txt session.typescript # 录制开始\r\n# your commands\r\nexit # 录制结束</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419c8148998624-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-591273de419c8148998624-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-591273de419c8148998624-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419c8148998624-1\"><span class=\"crayon-v\">script</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">time</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">session</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">typescript</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 录制开始</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-591273de419c8148998624-2\"><span class=\"crayon-p\"># your commands</span></div><div class=\"crayon-line\" id=\"crayon-591273de419c8148998624-3\"><span class=\"crayon-v\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 录制结束</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>回放:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419cb717443013\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nscriptreplay -t time.txt session.typescript</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419cb717443013-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419cb717443013-1\"><span class=\"crayon-v\">scriptreplay</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">time</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">session</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">typescript</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><b><a class=\" wrap external\" href=\"https://github.com/soimort/you-get\" target=\"_blank\" rel=\"nofollow noreferrer\">you-get<i class=\"icon-external\"></i></a>: </b>非常强大的媒体下载工具，支持youtube、google+、优酷、芒果TV、腾讯视频、秒拍等视频下载。</p>\n<p>还有mac专有的pbcopy/pbpaste：</p>\n<p>把命令行输出拷贝到系统粘贴板：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419ce880515241\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncat test.sh| pbcopy</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419ce880515241-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419ce880515241-1\"><span class=\"crayon-e\">cat </span><span class=\"crayon-v\">test</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pbcopy</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>把系统粘贴板内容拷到终端:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419d3126381471\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npbpaste</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419d3126381471-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419d3126381471-1\"><span class=\"crayon-v\">pbpaste</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>mac下的say命令支持多种语言(英语、普通话、粤语)文本朗读，支持各种销魂恐怖的语气。跑这个命令感受下，小心被吓着了：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591273de419d7103935037\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor i in `say -v '?' | cut -d ' ' -f 1`; do echo $i &amp;&amp; say -v \"$i\" 'Hello World';done</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591273de419d7103935037-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591273de419d7103935037-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">say</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'?'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cut</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">' '</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">say</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$i\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Hello World'</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">done</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>更具体的列表可参考：<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/int32bit/dotfiles\" target=\"_blank\" rel=\"nofollow noreferrer\">int32bit/dotfiles<i class=\"icon-external\"></i></a> 。</p>\n</div>\n</div>\n<p> </p>\n<h3>伯乐在线补充：</h3>\n<p>知乎原帖中还有另外一个朋友推荐了 <a href=\"https://github.com/nvbn/thefuck\" target=\"_blank\">The Fuck</a>。安装该工具后，在输入命令时如果手抖打错了，会有提醒。见下图：</p>\n<p><img src=\"http://ww2.sinaimg.cn/mw690/6941baebjw1exd7142tfrj20cw09x0w6.jpg\" alt=\"\"></p>\n<p>The Fuck 在 GitHub 上有 26k 多 star，具体如何使用，请看这篇详细介绍：《<a href=\"http://blog.jobbole.com/111096/\" target=\"_blank\">命令行的生活是如此的 F*ck</a>》</p>\n<p>它是如何实现的？请看开发者的文章《<a href=\"http://python.jobbole.com/82528/\" target=\"_blank\">热门 Python 应用 The Fuck 是如何工作的</a>》。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111072\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111072votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111072\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 8 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 8, "comment_nums": 1, "front_image_url": ["http://wx2.sinaimg.cn/mw690/63918611gy1ff8lc6lm06j20go0azdig.jpg"]},
{"url_object_id": "bbc079fdcf9870763eb528189ac7c691", "create_date": "2017-05-01", "front_image_path": "full/64ee1ddeba1354ba8ae7ca4f99ff0009ece8a349.jpg", "title": "Linux 下网络协议分析器 Wireshark 使用基础", "url": "http://blog.jobbole.com/111051/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://linuxconfig.org/basic-of-network-protocol-analyzer-wireshark-on-linux\">Nick Congleton</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8457-1.html\">wcnnbdk1</a>   </div><div> Wireshark 是 Kali 中预置的众多有价值工具中的一种。与其它工具一样，它可以被用于正面用途，同样也可以被用于不良目的。当然，本文将会介绍如何追踪你自己的网络流量来发现潜在的非正常活动。</div>\n<p>Wireshark 相当的强大，当你第一次见到它的时候可能会被它吓到，但是它的目的始终就只有一个，那就是追踪网络流量，并且它所实现的所有选项都只为了加强它追踪流量的能力。</p>\n<h3 id=\"toc_1\">安装</h3>\n<p>Kali 中预置了 Wireshark 。不过，<code>wireshark-gtk</code> 包提供了一个更好的界面使你在使用 Wireshark 的时候会有更友好的体验。因此，在使用 Wireshark 前的第一步是安装 <code>wireshark-gtk</code> 这个包。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-591256de39dde401317363\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# apt install wireshark-gtk\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-591256de39dde401317363-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-591256de39dde401317363-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-591256de39dde401317363-1\"><span class=\"crayon-p\"># apt install wireshark-gtk</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-591256de39dde401317363-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>如果你的 Kali 是从 live 介质上运行的也不需要担心，依然有效。</p>\n<h3 id=\"toc_2\">基础配置</h3>\n<p>在你使用 Wireshark 之前，将它设置成你使用起来最舒适的状态可能是最好的。Wireshark 提供了许多不同的布局方案和选项来配置程序的行为。尽管数量很多，但是使用起来是相当直接明确的。</p>\n<p>从启动 Wireshark-gtk 开始。需要确定启动的是 GTK 版本的。在 Kali 中它们是被分别列出的。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023000gt7itb6djtth7eqq.jpg\" alt=\"Wireshark running on Kali\"></p>\n<h3 id=\"toc_3\">布局</h3>\n<p>默认情况下，Wireshark 的信息展示分为三块内容，每一块都叠在另一块上方。（LCTT 译注：这里的三部分指的是展示抓包信息的时候的那三块内容，本段配图没有展示，配图 4、5、6 的设置不是默认设置，与这里的描述不符）最上方的一块是所抓包的列表。中间的一块是包的详细信息。最下面那块中包含的是包的原始字节信息。通常来说，上面的两块中的信息比最下面的那块有用的多，但是对于资深用户来说这块内容仍然是重要信息。</p>\n<p>每一块都是可以缩放的，可并不是每一个人都必须使用这样叠起来的布局方式。你可以在 Wireshark 的“选项Preferences”菜单中进行更改。点击“编辑Edit”菜单，最下方就是的“选项Preferences”菜单。这个选项会打开一个有更多选项的新窗口。单击侧边菜单中“用户界面User Interface”下的“布局Layout”选项。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023002awqjo54zp4r125qr.jpg\" alt=\"Wireshark's layout configuration\"></p>\n<p>你将会看到一些不同的布局方案。上方的图示可以让你选择不同的面板位置布局方案，下面的单选框可以让你选择不同面板中的数据内容。</p>\n<p>下面那个标记为“列Columns”的标签可以让你选择展示所抓取包的哪些信息。选择那些你需要的数据信息，或者全部展示。</p>\n<h3 id=\"toc_4\">工具条</h3>\n<p>对于 Wireshark 的工具条能做的设置不是太多，但是如果你想设置的话，你依然在前文中提到的“布局”菜单中的窗口管理工具下方找到一些有用的设置选项。那些能让你配置工具条和工具条中条目的选项就在窗口选项下方。</p>\n<p>你还可以在“视图View”菜单下勾选来配置工具条的显示内容。</p>\n<h3 id=\"toc_5\">功能</h3>\n<p>主要的用来控制 Wireshark 抓包的控制选项基本都集中在“捕捉Capture”菜单下的“选项Options”选项中。</p>\n<p>在开启的窗口中最上方的“捕捉Capture”部分可以让你选择 Wireshark 要监控的某个具体的网络接口。这部分可能会由于你系统的配置不同而会有相当大的不同。要记得勾选正确的选择框才能获得正确的数据。虚拟机和伴随它们一起的网络接口也同样会在这个列表里显示。同样也会有多种不同的选项对应这多种不同的网络接口。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023003od9y9mmmo9dr9mym.jpg\" alt=\"Wireshark's capture configuration\"></p>\n<p>在网络接口列表的下方是两个选项。其中一个选项是全选所有的接口。另一个选项用来选择是否开启混杂模式。这个选项可以使你的计算机监控到所选网络上的所有的计算机。（LCTT 译注：混杂模式可以在 HUB 中或监听模式的交换机接口上捕获那些由于 MAC 地址非本机而会被自动丢弃的数据包）如果你想监控你所在的整个网络，这个选项是你所需要的。</p>\n<p><strong>注意:</strong> 在一个不属于你或者不拥有权限的网络上使用混杂模式来监控是非法的！</p>\n<p>在窗口下方的右侧是“显示选项Display Options”和“名称解析Name Resolution”选项块。对于“显示选项Display Options”来说，三个选项全选可能就是一个很好的选择了。当然你也可以取消选择，但是最好还是保留选择“实时更新抓包列表”。</p>\n<p>在“名称解析Name Resolution”中你也可以设置你的偏好。这里的选项会产生附加的请求因此选得越多就会有越多的请求产生使你的抓取的包列表显得杂乱。把 MAC 解析选项选上是个好主意，那样就可以知道所使用的网络硬件的品牌了。这可以帮助你来确定你是在与哪台设备上的哪个接口进行交互。</p>\n<h3 id=\"toc_6\">抓包</h3>\n<p>抓包是 Wireshark 的核心功能。监控和记录特定网络上的流量就是它最初产生的目的。使用它最基本的方式来作这个抓包的工作是相当简单方便的。当然，越多的配置和选项就越可以充分利用 Wireshark 的力量。这里的介绍的关注点依然还是它最基本的记录方式。</p>\n<p>按下那个看起来像蓝色鲨鱼鳍的新建实时抓包按钮就可以开始抓包了。（LCTT 译注：在我的 Debian 上它是绿色的）</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023005u1zcaegq157hze4d.jpg\" alt=\"Wireshark listing packet information\"></p>\n<p>在抓包的过程中，Wireshark 会收集所有它能收集到的包的数据并且记录下来。如果没有更改过相关设置的话，在抓包的过程中你会看见不断的有新的包进入到“包列表”面板中。你可以实时的查看你认为有趣的包，或者就让 Wireshark 运行着，同时你可以做一些其它的事情。</p>\n<p>当你完成了，按下红色的正方形“停止”按钮就可以了。现在，你可以选择是否要保存这些所抓取的数据了。要保存的话，你可以使用“文件”菜单下的“保存”或者是“另存为”选项。</p>\n<h3 id=\"toc_7\">读取数据</h3>\n<p>Wireshark 的目标是向你提供你所需要的所有数据。这样做时，它会在它监控的网络上收集大量的与网络包相关的数据。它使用可折叠的标签来展示这些数据，使得这些数据看起来没有那么吓人。每一个标签都对应于网络包中一部分的请求数据。</p>\n<p>这些标签是按照从最底层到最高层一层层堆起来的。顶部标签总是包含数据包中包含的字节数据。最下方的标签可能会是多种多样的。在下图的例子中是一个 HTTP 请求，它会包含 HTTP 的信息。您遇到的大多数数据包将是 TCP 数据，它将展示在底层的标签中。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023007tjhoy3s4y4o1ytiu.jpg\" alt=\"Wireshark listing HTTP packet info\"></p>\n<p>每一个标签页都包含了抓取包中对应部分的相关数据。一个 HTTP 包可能会包含与请求类型相关的信息，如所使用的网络浏览器，服务器的 IP 地址，语言，编码方式等的数据。一个 TCP 包会包含服务器与客户端使用的端口信息和 TCP 三次握手过程中的标志位信息。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023009rl3hzhyk3a8ljjdk.jpg\" alt=\"Wireshark listing TCP packet info\"></p>\n<p>在上方的其它标签中包含了一些大多数用户都感兴趣的少量信息。其中一个标签中包含了数据包是否是通过 IPv4 或者 IPv6 传输的，以及客户端和服务器端的 IP 地址。另一个标签中包含了客户端和接入因特网的路由器或网关的设备的 MAC 地址信息。</p>\n<h3 id=\"toc_8\">结语</h3>\n<p style=\"text-align: center\">即使只使用这些基础选项与配置，你依然可以发现 Wireshark 会是一个多么强大的工具。监控你的网络流量可以帮助你识别、终止网络攻击或者提升连接速度。它也可以帮你找到问题应用。下一篇 Wireshark 指南我们将会一起探索 Wireshark 的包过滤选项。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111051\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111051votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111051\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 4, "comment_nums": 0, "front_image_url": ["https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023000gt7itb6djtth7eqq.jpg"]},
{"url_object_id": "df9a3ff79cd621cf19fbd8cb5faf6985", "create_date": "2017-05-03", "front_image_path": "full/4efecb1423ec0b1164163e6fc29cc2d280e0c1c1.jpg", "title": "DevOps 发展的 9 个趋势", "url": "http://blog.jobbole.com/111064/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><div>\n<p>DevOps包含了太多方面的技术和实践，很难通过一个统一的工具链来描述其发展。即便如此，我们仍然可以从ThoughtWorks技术雷达的条目变动中看出一些趋势。今年，我有幸作为主编参与了最新一期技术雷达的译制，作为DevOps的爱好者，十分高兴能在这一过程中看到DevOps未来发展的几个趋势，总结成了这篇文章。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/1-DevOps.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/1-DevOps-1024x426.jpg\" alt=\"\" width=\"700\" height=\"291\"></a></p>\n<h3>趋势1：微服务目前仍然是DevOps技术应用和发展的主要领域</h3>\n<p>微服务将单块应用系统切割为多个简单独立的应用。从技术上说，这是通过工具把应用程序的内部复杂度转化为外部复杂度，需要一系列工具支撑微服务本身以及服务之间的通信。从组织上说，微服务团队要满足“快速发布，独立部署”的能力，则必须具备DevOps的工作方式。</p>\n<p>如何拆解微服务一直是微服务技术应用的最大难点之一，<strong>领域驱动设计</strong>是比较理想的微服务拆解方法论。<strong>社会化代码分析</strong>帮助团队通过更精确的数据找到更加合适的拆分点。<a href=\"https://codescene.io/\">CodeScene</a>是一个在线服务，它能帮助识别出热点和复杂且难以维护的子系统，通过分析分布式子系统在时间上的耦合发现子系统之间的耦合。此外，它还能帮你认识组织中的康威定律，这会大大降低微服务解耦的难度。</p>\n<p>此外，微服务系统本质上是一个分布式系统，分布式系统之间的通信一直是很重要的问题。本期介绍的 <a href=\"http://docs.confluent.io/3.0.0/streams/\">Kafka Streams</a> 和 <a href=\"http://opentracing.io/\">OpenTracing</a> 就是这类技术的条目。Kafka作为一个成熟的分布式消息系统已经被广泛采用，而Kafka Streams则将最佳实践以“库”的方式呈现给开发人员，使得操作Kafka更加自然和简单。而OpenTracing则弥补了跨越多个微服务之间请求追踪的空白。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/2-OpenTracing.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/2-OpenTracing-1024x643.jpg\" alt=\"\" width=\"700\" height=\"440\"></a></p>\n<p>另一方面，<strong>无服务器风格的架构（Serverless architecture）</strong>把DevOps技术在微服务领域的应用推向极致。当应用程序执行环境的管理被新的编程模型和平台取代后，团队的交付生产率得到了进一步的提升。一方面它免去了很多环境管理的工作，包括设备、网络、主机以及对应的软件和配置工作，使得软件运行时环境更加稳定。另一方面，它大大降低了团队采用DevOps的技术门槛。</p>\n<p>然而，端到端交付以及微服务中的函数管理问题日渐突出。尽管<a href=\"https://aws.amazon.com/cn/api-gateway/\">AWS API gateway</a>和<a href=\"https://aws.amazon.com/cn/lambda/\">AWS Lambda</a>几乎成了Serverless架构的代名词，但这二者结合的开发者体验并不佳。于是出现了<a href=\"https://serverless.com/\">Serverless framework</a>和<a href=\"https://claudiajs.com/\">CLAUDIA</a>这样的管理工具。</p>\n<p>AWS Lambda带来的优势也深深影响了企业级应用领域，<a href=\"http://openwhisk.org/\">Apache OpenWhisk</a>就是企业级无服务器领域的选择之一，它使得企业级应用也可以采用无服务器风格的架构构建应用程序。</p>\n<p>在微服务端到端交付流程上，Netflix开源了自家的<a href=\"http://www.spinnaker.io/\">Spinnaker</a>，Netflix作为微服务实践的先锋，不断推出新的开源工具来弥补社区中微服务技术和最佳实践的缺失。而<a href=\"http://projects.spring.io/spring-cloud/\">Spring Cloud</a>则为开发者提供了一系列工具，以便他们在所熟悉的Spring技术栈下使用这些服务协调技术(coordination techniques)，如服务发现、负载均衡、熔断和健康检查。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/3-Keycloak-1.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/3-Keycloak-1-1024x612.jpg\" alt=\"\" width=\"700\" height=\"418\"></a></p>\n<p>而在微服务的安全上，最常见的需求之一 是通过身份验证和授权功能来保护服务或API。这部分功能往往是最重要且不断重复构造的。而<a href=\"http://www.keycloak.org/\">Keycloak</a>就是一个开源的身份和访问管理解决方案，用于确保应用程序或微服务的安全。且几乎不需要编写代码，开箱即用。它支持单点登录，社交网络登录和标准协议登录(如OpenID Connect，OAuth2和SAML等)。</p>\n<h3>趋势2：以Docker为核心的数据中心方案逐渐走向成熟</h3>\n<p>在过去的两年，Docker社区有了突飞猛进的发展，似乎每期技术雷达都会出现Docker相关的条目。而Docker往往和DevOps联系起来，被认为是推动DevOps发展的杀手级工具，以至于有些人会以团队是否采用Docker作为团队是否具备DevOps能力的标志。</p>\n<p>而这一社区的创新数量则日渐平缓。一方面，开源社区激烈的竞争淘汰了一部分技术。另一方面，以Docker为中心的完整数据中心解决方案在不断的整合开源社区的零散工具并形成最佳实践。为端到端的开发和运维提供更完整的交付体验，各大厂商也相继开始推广自己的企业级整体收费解决方案，这表明Docker的使用已经走向成熟。</p>\n<p>在本期的技术雷达里的条目中出现了<a href=\"https://mesosphere.com/product/\">Mesosphere DC/OS</a>，这是构建统一技术栈数据中心的一个征兆。在这方面<a href=\"https://docs.docker.com/enterprise/\">Docker EE</a>和<a href=\"http://rancher.com/\">Rancher</a>都是非常有力的竞争者。根据我的判断，在未来的Docker社区里，统一容器化数据中心的竞争者将会进一步减少。而之前的私有云方案则慢慢会被“以Docker为核心数据中心级全栈交付”取代。</p>\n<h3>趋势3：不完整的DevOps实践阻碍着DevOps的发展</h3>\n<p>很遗憾看到<a href=\"https://www.thoughtworks.com/radar/techniques/a-single-ci-instance-for-all-teams\">单一持续集成实例</a>和<a href=\"https://www.thoughtworks.com/radar/techniques/ci-theatre\">不完整的持续集成</a><a href=\"https://www.thoughtworks.com/radar/techniques/ci-theatre\">（CI Theatre）</a>这样的条目出现在技术雷达里。可以感到企业应用DevOps技术的紧迫性。这同时也暴露了DevOps领域里“缺乏门槛较低且成熟的技术实践”的问题。</p>\n<p>大部分企业在DevOps转型中仅仅关注到了工具的升级。却忽视了价值流、生产流程中各个活动中的最佳实践以及DevOps团队文化的构建，这会使团队陷入“已经完成DevOps转型的假象“，而停止了团队的自我改进。</p>\n<p>DevOps的实践包含组织改进和技术升级两个部分，技术往往是最容易的部分。而缺乏组织改进的技术提升往往很难给组织带来质的飞跃。具备DevOps文化的团队则会不断反思和学习，通过共担责任和相互合作不断完善组织的DevOps实践。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/4-introspection.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/4-introspection.png\" alt=\"\" width=\"859\" height=\"512\"></a></p>\n<h3>趋势4：领域特定的DevOps实践开始出现</h3>\n<p>DevOps的最早实践来自于互联网企业的Web应用，相应的思想被引入企业级应用并促进了一系列工具的发展。虽然并不是每一种应用软件交付形式都适合DevOps，但随着DevOps的工具不断成熟。其它领域的DevOps实践也开始尝试借鉴Web应用领域的自动化工具，并逐渐形成领域级的DevOps实践。</p>\n<p>在人工智能领域，<a href=\"https://www.tensorflow.org/\">TensorFlow</a>就是这样一个例子，它可以有多种DevOps友好的安装和部署方式 ，例如采用Docker进行部署。</p>\n<p>在区块链领域，超级账本(<a href=\"https://www.hyperledger.org/\">HYPERLEDGER</a>) 就是这样一个例子，它提供了一套工具和服务，结合DevOps相关技术和实践形成了一个完整的解决方案。</p>\n<p>随着DevOps相关概念和技术不断向各个产业领域的深入发展，可以看到DevOps技术和实践带来的巨大影响力。然而，每个技术领域都有自己所关注的特性，并不是以往的DevOps实践可以全覆盖到的，这恰恰成为了DevOps技术和实践发展的契机。我很期待领域特定的DevOps技术实践给DevOps带来的发展。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/5-HYPERLEDGER.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/5-HYPERLEDGER-1024x492.jpg\" alt=\"\" width=\"700\" height=\"336\"></a></p>\n<h3>趋势5：采用DevOps进行技术债务重组和技术资产管理</h3>\n<p>技术债务类似于金融债务，它也会产生利息，这里的利息其实就是指由于鲁莽的设计决策导致需要在未来的开发中付出更多的努力。</p>\n<p>投资银行业往往采用多种金融工具组合的方式来处理企业的不良债务。而清理技术债务的实践和工具却乏善可陈。</p>\n<p>技术债务不光阻碍了企业通过新技术带来便利，还使企业偿还技术债务所承担的成本越来越高，例如技术人才的流失，技术利息等综合性风险。</p>\n<p>虽然极少会出现企业因技术债务而走向衰败的案例，但新晋企业凭借新技术和商业模式颠覆传统行业并夺取市场份额的报道却不断发生。 这从另一方面说明技术债务综合提升了采用新技术的机会成本，使企业不断失去创新和领先的巨大潜力。</p>\n<p>DevOps技术栈的多元化为分散遗留系统技术债务风险提供了一套灵活而又低风险的工具和方法论。不断帮助企业从遗留系统的负担中解脱出来。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/6-Vagrant-1.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/6-Vagrant-1-1024x513.png\" alt=\"\" width=\"700\" height=\"351\"></a></p>\n<p>而微服务则是首先通过领域拆分技术债，并用相应工具重组技术债。分离优质技术资产和不良资产，通过分散风险来降低抛弃成本。 而将API当做产品(<a href=\"https://www.thoughtworks.com/radar/techniques/apis-as-a-product\">APIs as a product</a>)可以从一个全新的演进视角去看待技术债，通过可用性测试和用户体验研究帮企业剥离出技术债务中的优质资产和不良资产。</p>\n<p>另一方面，本期技术雷达中出现了<a href=\"https://www.thoughtworks.com/radar/techniques/legacy-in-a-box\">封装遗留系统</a>这样的实践，它往往配合着Vagrant，Packer和Docker这样的工具一起使用。一方面它将技术债务的风险进行了隔离，另一方面它防止了遗留系统上产生的技术债利息的增长。</p>\n<h3>趋势6：安全成为推动DevOps全面发展的重要力量</h3>\n<p>安全是DevOps永远绕不开的话题，也往往是新技术在传统行业（例如金融和电信）应用中的最大阻碍。一方面，组织结构的转型迫使企业要打破原先的部门墙，这意味着很多原先的控制流程不再适用。另一方面，由于大量的DevOps技术来源于开源社区，缺乏强大技术实力的企业在应用相关技术时不免会有所担忧。</p>\n<p>从代码中解耦秘密信息的管理则让我们避开了一些开发过程中可能会产生的安全隐患。采用<a href=\"https://github.com/AGWA/git-crypt\">git-crypt</a>这样的工具可以帮我们保证在开发的过程中源代码内部的信息安全。而采用<a href=\"https://www.vaultproject.io/\">HashiCorp Vault</a>则提供了脱离应用程序代码的秘密信息存储机制，使得应用在运行过程中的秘密得到了有效保护。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/7-HashiCorp-Vault-1.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/7-HashiCorp-Vault-1-1024x742.jpg\" alt=\"\" width=\"700\" height=\"507\"></a></p>\n<p>Linux Security Module则一直在技术雷达的“采用”区域，通过SELinux和AppArmor这样的LSM兼容帮助团队评估谁可以访问共享主机上的哪些资源(包括其中 的服务)。这种保守的访问管理方法将帮助团队在其SDLC流程中建立更好的安全性。以往这是Ops团队需要考虑的问题，而对DevOps的团队来说，这是每一个人的事情。</p>\n<p>“合规性即代码”（Compliance as Code）是继“基础设施即代码”，“流水线即代码”之后的又一种自动化尝试。<a href=\"https://github.com/chef/inspec\">InSpec</a>作为合规性即代码的提出者和实现者，通过自动化手段确保服务器在部署后的运维生命周期中依然保持安全与合规。它所带来的意义在于将规范制度代码化，得到了确定性的结果和解释。</p>\n<p>在不远的将来，不难想象人们所面对的法律和法规规定不再是一堆会导致歧义的语言文字条目，而是一组由自动化测试构成的测试环境。</p>\n<p>安全性和易用性往往被认为是鱼与熊掌不可兼得的两个方面。在DevOps之前，团队吞吐量和系统稳定性指标曾经也面临这样的境遇，然而DevOps使得二者可以兼得。同样我也有信心看到在未来DevOps的领域里，更多易用且安全的工具将会不断出现。在降低DevOps所带来的安全风险的同时，也提升团队开发过程的顺畅性和用户便利性。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/8-InSpec.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/8-InSpec-1024x611.jpg\" alt=\"\" width=\"700\" height=\"418\"></a></p>\n<h3>趋势7：Windows Server和.NET平台下的DevOps技术潜力巨大</h3>\n<p>长期以来，Windows和.NET平台下的DevOps一直都是一个被低估的领域。一方面，社区缺乏对 Windows Server平台的兴趣。另一方面，<a href=\"https://community.spiceworks.com/networking/articles/2462-server-virtualization-and-os-trends\">Windows Server却有接近90%的市场占用率</a>，在Web服务器领域则有<a href=\"https://w3techs.com/technologies/overview/operating_system/all\">33.5%的市场占有率</a>。</p>\n<p>有充足理由证明这是一个潜力巨大的市场。 我们看到了<a href=\"https://www.thoughtworks.com/radar/tools/cake-and-fake\">CAKE和FAKE</a>这样的条目，作为.NET平台下替代MSBuild的构建解决方案， 它增强了.NET平台自动化方面的能力。而<a href=\"https://github.com/HangfireIO/Hangfire\">HANGFIRE</a>则提供了更易用和灵活的自动化进程调度框架。我很期待未来有更多Windows Server和.NET平台领域的创新。不久前，Docker已经可以在Windows下运行。可以预见到，Windows Server和.NET平台将会是下一阶段DevOps技术实践中值得深入发掘的领域。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/9-.NET_.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/9-.NET_.png\" alt=\"\" width=\"888\" height=\"289\"></a></p>\n<h3>趋势8：非功能性自动化测试工具的逐渐完备</h3>\n<p>自动化测试水平往往是衡量DevOps技术能力高低的重要指标，尤其是针对生产环境应用程序的非功能性自动化测试工具。一直以来，技术雷达都在尝试从不同的角度宣扬自动化测试的重要性，从软件的开发阶段延展到了整个应用生命周期甚至整体IT资产的管理上。</p>\n<p>这期的技术雷达仍然关注了非功能性自动化测试，<a href=\"https://github.com/philpep/testinfra\">TestInfra</a>是ServerSpec的Python实现，它使得用Pytest测试基础设施成为可能。而<a href=\"https://github.com/metacloud/molecule\">MOLECULE</a>旨在帮助开发和测试Ansible的Role 。通过在虚拟机或容器上为正在运行的Ansible Role测试构建脚手架，无需再手工创建这些测试环境。正如技术雷达所说的：“虽然这是一个相当年轻的项目，但我们看到了其蕴含的巨大潜力。”</p>\n<h3>趋势9：Python成为DevOps工作中所不可或缺的语言</h3>\n<p>早在DevOps刚刚开始盛行的时候，Python就是一个被寄予厚望的语言，因为大部分DevOps工具和实践都需要用到Python。虽然也有人尝试用Ruby或者NodeJS构建DevOps工具，然而都没有Python所构建的工具流行。与此同时，仍然不断有人把其它语言下编写的工具转化为Python的版本，TestInfra就是这样一个例子。</p>\n<p>随着Python在大数据、人工智能、区块链、微服务以及Docker中的发展，可以预见Python在日后的领域仍然会发挥重要的作用。</p>\n<p>以上对DevOps趋势的解读仅为个人观点，如有不当之处还望指出。关于更多技术在技术雷达中的使用建议请参考<a href=\"https://www.thoughtworks.com/radar/a-z\">这里</a>，谢谢。</p>\n<div></div>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111064\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111064votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111064\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 56</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 1, "comment_nums": 0, "front_image_url": ["http://insights.thoughtworkers.org/wp-content/uploads/2017/04/1-DevOps-1024x426.jpg"]},
{"url_object_id": "be751ac65d35e4101c02be75598af3e3", "create_date": "2017-05-02", "front_image_path": "full/446dd897d21f90a4d65dbceb65e1c3099aed6f04.jpg", "title": "也许 MySQL 适合 Uber，但它不一定适合你", "url": "http://blog.jobbole.com/111058/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/LW\">LW</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://dzone.com/articles/on-ubers-choice-of-databases\">Markus Winand</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：Markus Winand 是数据库专家，著有《SQL Performance Explained》一书。2013 年 Uber 从 MySQL 迁移到 PostgreSQL，而在 2016 年 8 月，Uber 工程博客发文称他们从 PostgreSQL 迁回 MySQL。当时在业内引发热议，Markus 写下了这篇文章来回应。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ff75v6yo2dj20bz072q38.jpg\"></p>\n<p>你可能听说了 Uber 从 PostgreSQL 迁移到 MySQL 。这对于他们来说，或许是一个好的迁移，但是这未必适合你。且听我说来。</p>\n<p>2016 年 8 月，Uber 发表了一篇名为《<a href=\"https://eng.uber.com/mysql-migration/\" target=\"_blank\">为什么 Uber 工程从 PostgreSQL 迁移到了 MySQL</a>》的文章。我并没有立即阅读原文，因为我的内心深处告诉我应该做一些本地的改进。在如此做的过程中，我的邮箱塞满了问题，比如“难道 PostgreSQL 真的有这么差劲吗？”我知道  PostgreSQL 并没有如此差劲，因此这些邮件使我想知道，原文到底写了些什么鬼玩意。这是一篇企图理解 Uber 的文章。</p>\n<p>在我看来，Uber 的文章基本上在说他们发现 MySQL 比 PostgreSQL 更适合他们的环境。然而，原文在传递这一消息时却表现的非常差劲。举例来说，原文并没有写“  PostgreSQL 在 update-heavy 的使用场景下有一些局限”，而是写到“它对于写入（write）来说是一个非常低效的架构”。当你没有 updata-heavy 的使用场景时，不必担心 Uber 的文章中描述的问题。</p>\n<p>在本文中，我将会解释：①为什么我认为 Uber 的文章并不能作为我们在选择数据库的一个普适性建议，②为什么 MySQL 仍旧适用于 Uber，③为什么这样的成功迁移案例可能会引起更多的问题，而不是扩展了数据库。</p>\n<h3>在更新方面的问题</h3>\n<p>Uber 的文章所出现的第一个问题是， 在更新表中的行时，PostgreSQL 通常需要更新表上的所有索引，原文对这方面做了大篇幅的描述，但细节又不够充分。另一方面，对于具有 InnoDB 的 MySQL 来说，只需要更新那些包含有更新列的索引。在更新改变了非索引列之时（原文中的「Write Amplification」部分），PostgreSQL 的方法需要占用更多的磁盘 IO。如果这对 Uber 来说是一个大问题，那这些更新对于他们来说，或许是其整个工作量中的很大一部分。</p>\n<p>然而，我有一些猜测，是 Uber 文章并没有提到的。原文并没有提及 PostgreSQL 的 Heap-Only-Tuples( HOT )。从 <a href=\"https://github.com/postgres/postgres/blob/master/src/backend/access/heap/README.HOT\" target=\"_blank\" rel=\"nofollow\">PostgreSQL</a> 源码来看，HOT 对于一些特殊场景非常有用，即“当一个元组进行了重复更新时，不需要对它的索引列进行更新”。在这个场景中，如果新的行版本能够和之前的版本存储在同一个页面中，PostgreSQL 能够做出一些不需要触及任何索引的更新。后一种情况可以使用  <a href=\"https://www.postgresql.org/docs/9.2/static/sql-createtable.html#SQL-CREATETABLE-STORAGE-PARAMETERS\" target=\"_blank\">fillfactor</a> 来进行调谐。假设 Uber 的工程认为 HOT 不能够解决他们的问题，是因为这些频繁的更新影响了不止一个索引列。</p>\n<p>这个假设也在文章中的下列语句得到了支持：“如果我们有一张定义了十几个索引的表，那么只覆盖了一个指标的领域的更新就必须涉及到整整12个指标来反映新的行中的 ctid ”。它明确地指出“只覆盖了一个指标，”只有一个索引这是一种极端情况，否则 PostgreSQL 的 HOT 是可以解决这一问题的。</p>\n<p>【旁注：我比较关心他们所拥有的索引的数量能否减少— <em><a href=\"http://winand.at/index-design&amp;utm_medium=UTILt&amp;utm_compaign=201607-uber\" target=\"_blank\" rel=\"nofollow\">index redesign</a>  </em>是我的一个挑战。无论如何，对于那些使用的很少但在使用时又非常重要的索引来说，这是完全有可能的。】</p>\n<p>看起来他们似乎运行着许多更新，这些更新改变了不止一个索引列，但这和表中所有索引相比来说，这算不上啥。如果这是一个主要的用例，那么原文建议用 MySQL 来取代 PostgreSQL 就能够说得通了。</p>\n<h3>关于 Select 的问题</h3>\n<p>还有一个关于他们用例的声明引起了我的注意：原文解释了 MySQL/InnoDB 使用了 clustered indexed ，并且承认了“这种设计意味着在做二次关键值查找时和 Postgres 相比 InnoDB 的优势并不明显”。关于这个问题（the clustered index penalty），我之前写过在 SQL Server 环境下的文章。</p>\n<p>他们写到 clustered index penalty 的优势很小，这引发了我的兴趣。在我看来，当你运行了很多使用二次索引的查找时，这个优势是很大的。如果对于他们来说这总种优势很小，那这可能说明这些索引使用得很少。这将意味着他们在大多数情况下使用了 primary key 来进行查找（那么就不需要付出 clustered index penalty 了）。注意我写的是“查找”而不是“选择”。这其中的原因在于 clustered index penalty 会影响具有 where 字句的声明，而不仅仅是选择。这也意味着高频率的更新大多基于primary key。</p>\n<p>最后，还有关于查询的问题：他们没有提到PostgreSQL在  <a href=\"https://wiki.postgresql.org/wiki/What&amp;apos;s_new_in_PostgreSQL_9.2#Index-only_scans\" target=\"_blank\">index-only scans</a> 方面的限制。尤其是在更新比较多的数据库，安装 PostgreSQ L的 index-only scans  没有多大用处。我甚至说过这是唯一影响我大多数客户端的问题。我在 2011 年已经在博客上写过这个问题。2012 年， PostgreSQL 9.2 在 index-only scans 获得了一些有限的支持（这些工作大多服务于静态数据）。2014 年我甚至在 PgCon 提出了我关注的一个方面。然而， Uber 并没有抱怨这个问题。选择速度对于他们而言并不是问题。我猜测查询速度有运行在  replicas 上的选择进行解决（如下所示），并且可能被大多数 primary key 所限制。</p>\n<p>如今，他们的使用案例看起来似乎更加适合一个键/值存储。并且 Innodb 是一个很坚实和流行的键/值存储。这里甚至有一些包将 InnoDB 和一些（非常有限的）的前端 SQL 绑定：我认为 MySQL 和 MariaDB 是非常流行的两个。但是认真地说，如果你需要一个键/值存储并且恰巧想运行一个简单的 SQL 查询， MySQL （或者 MariaDB ）是合理的选择。我猜测这至少比任何随机的 NoSQL 键/值存储要好，它们往往只提供一些更加有限的 SQL-ish 查询语句作为开始。Uber ，从另一个方面来说仅仅在 InnoDB 和 MySQL 上层建立了他们自己的东西（“<a href=\"https://eng.uber.com/schemaless-part-one/\" target=\"_blank\" rel=\"nofollow\">Schemaless</a>”）。</p>\n<h3>关于索引再平衡（Rebalancing）</h3>\n<p>关于原文谈索引，我最后再说一个方面：它在 B-tree 索引语句中使用了“再平衡”这个词。它甚至链接到了维基百科上词条 “<a href=\"https://en.wikipedia.org/wiki/B-tree#Rebalancing_after_deletion\" target=\"_blank\" rel=\"nofollow\">Rebalancing after deletion</a>”。不幸的是，维基百科词条解释并不普遍适用于数据库索引，因为维基百科上所描述的算法维持了每个节点至少是 half-full 的要求。为了提高并发性， PostgreSQL 使用了<a href=\"http://www.csd.uoc.gr/~hy460/pdf/p650-lehman.pdf\" target=\"_blank\" rel=\"nofollow\">Lehman, Yao variation of B-trees</a>，其升高了要求并且因此允许稀疏索引。作为一个旁节点，PostgreSQL 仍旧移除索引中的空白页（参见<a href=\"https://www.pgcon.org/2016/schedule/attachments/434_Index-internals-PGCon2016.pdf\" target=\"_blank\">“ Indexing Internals” 幻灯片第 15 页</a>）。然而，这仅仅只是一个次要问题。</p>\n<p>真正使我担心的是这句话：“B-tree 有核心方面，必须周期性再索引（rebalancing）…”，看到这里，我想声明这不是一个每天运行的周期性的过程。索引平衡是和每一次单独的索引变化一同维护的（或许更严重，对吗？）。但原文继续写到“…当子树移动到新的 no-disk 位置时，这些 rabalancing 操作会彻底改变树的结构”。如果你现在认为“rebalancing”包含了大量的数据移动，那你就误解了它。</p>\n<p>一个 B-tree 中的重要操作就是结点分裂。正如你所猜想的那样，结点分裂发生在一个结点不能主持属于这个结点的一个新条目。给你一个近似数，这可能在 100 次插入中发生一次。结点分裂分配新的结点，将一般的条目移动到新的结点并将新结点和它的前、后以及父结点连接起来。这就是 Lehman ， Yao 节省了大量锁定的地方。在某些情况下，新的结点不能直接加入到父结点中，因为父结点没有足够的空间来让新结点加入。在这种情况下，父结点进行分裂并重复所有的过程。</p>\n<p>在最糟糕的情况下，分裂泡沫会到达根结点，它也会进行分裂，并且会在其之上产生一个新的根结点。在这种情况下，一个 B-tree 将会增加深度。请注意，根结点的分裂有效转变了整棵树，并且因此保持了平衡。然而，这并不包括许大量数据的移动。在最差情况下，它可能会在每个曾经（level）上影响到三个节点和一个新的根结点。更确切地说：根结点分裂的最差情况，可能在一个十亿的插入中发生大约 5 次。在另一种情况下，它不需要遍历整棵树。总的来说，索引的维护不是“周期性的”，甚至不会发生的很频繁，并且永远不会改变整棵树的结构。至少在物理存储单元不会这样。</p>\n<h3>关于物理复制</h3>\n<p>我的下一个关注点是原文有关于 PostgreSQL 的物理复制（Physical Replication）。原文谈到「索引再平衡」话题的原因是 Uber 曾经遇到了 PostgreSQL 的复制错误，这导致了下游服务器的数据毁损。（这个错误值“影响了 Postgres  9.2 的一些特定版本并且已经修复了一段很长时间”）。</p>\n<p>因为 PostgreSQL 9.2 只在 core 提供物理复制，复制错误“只造成了树的很大一部分变得彻底无效。”具体解释为：如果一个结点分裂进行错误的重复，那么它就不能指向正确的子结点，这些子树将会变得无效。这是绝对正确的，正如其他警言“如果存在一个 Bug，那么不好的事情就会发生”。你不需要改变大量的数据，就可以打破树的结构。一个单独的坏指针就足够了。</p>\n<p>Uber 的文章提到了其他关于物理复制的情况：大量的复制流量—一部分由于更新带来的编写增幅—并且故障时间需要更新到新的 PostgreSQL 版本。如果第一个对于我而言是由意义的，那么我是不能评论第二个的（但是这里仍有 <a href=\"https://www.postgresql.org/message-id/20160727002711.GI4028%40tamriel.snowman.net\" target=\"_blank\" rel=\"nofollow\">statements on the PostgreSQL-hackers mailing list</a> ）。</p>\n<p>最后，原文也声明了 Postgres 并没有真正的 MVCC 支持副本。幸运的是，原文链接到了 PostgerSQL 的文档，里面这个问题得到了解释。这个问题基本上是主机并不需要知道副本做了什么，并且因此会删除数据，而这些数据仍然需要副本来完成查询。</p>\n<p>根据 <a href=\"https://www.postgresql.org/docs/9.2/static/hot-standby.html#HOT-STANDBY-CONFLICT\" target=\"_blank\" rel=\"nofollow\">PostgreSQL 官方文档</a>，有两个办法可以处理这个问题：</p>\n<p>1.为可配置的超时延迟复制流的应用，以便读取事务有机会完成。如果查询没有按时完成，杀死这个查询，并且继续应用这个复制流。</p>\n<p>2.配置副本，把所有正在运行的查询，反馈送回到主机（master），这样一来主机并不需要清空行版本（row versions），恰好这些行版本在一些从属（slave）中仍然需要。Uber 的文章对第一个版本制定了规则，但根本没提第二个版本。相反，原文指责了 Uber 的开发人员。</p>\n<h3>关于开发者</h3>\n<p>以荣誉之名引用这段话：“举例来说，开发者有一些数据需要将发送给用户。取决于代码是如何写的，这些代码可能隐含有一个数据库事务，同时执行不相关的 I/O 阻塞，事实上是许多工程师都不是数据库方面的专家，因此不能总是理解这些问题，尤其是当使用 ORM 时，ORM 隐藏了许多底层细节，比如 open transactions 。”</p>\n<p>不幸的是，我理解甚至同意这个评论。但是我不认同“许多工程师不是数据库，是因为每一个开发人员接触 SQL 是需要了解 transaction 的 ，不只数据库专家。”</p>\n<p>鉴于对开发人员进行 SQL 培训是我的主要工作。我在各种规模的公司做过这件事。如果说我能确定一件事，那就是和数据库相关的知识低的离谱。比如在刚刚提到的“open transaction”，我能确定的是，很少有开发人员知道只读事务是真事。大多数的开发人员只知道 事务可以用于回写。我遇到太多这种误解了，所以我准备了<a href=\"http://www.slideshare.net/MarkusWinand/sql-transactions-what-they-are-good-for-and-how-they-work\" target=\"_blank\">幻灯片来解释</a>。</p>\n<h3>关于成功</h3>\n<p>这是我想写的最后一个问题。一个公司雇佣的员工越多，他们的资质就越趋于平均。夸张一点说，如果你雇佣了整个星球上的人员，你将会拥有绝对的平均水平。雇佣再多的人，只是增加了公司的规模。</p>\n<p>这里有两种方法来击败这种比率：</p>\n<p>1、只雇佣最好的员工。这个方法最难的部分就是，当没有高于平均资质的候选者时，需要等待。</p>\n<p>2、雇佣一般的员工，然后在工作上培训。这对于新员工来说，需要一段很长的热身时间，并且可以结合现有员工进行培训。这两个方法的共同问题就是需要时间。如果你没有时间——因为你的公司在快速增长——你就不得不接受平庸，接受一些不是很了解数据库的人（ <a href=\"http://use-the-index-luke.com/blog/2014-02/results-three-minutes-sql-performance-quiz\" target=\"_blank\" rel=\"nofollow\">empirical data from 2014</a> ）。换句话来说：<strong>对于一个快速增长的公司来说，技术比人更容易改变。</strong></p>\n<p>正如随时间改变着的需求，成功的因素也会影响技术栈。在初期阶段，创业公司需要创造性的技术，即可以立即获得并且足够灵活来用于业务中。 SQL 一个比较好的选择，因为它确实灵活（你可以用任何方法来查询你的数据）并且很容易找到理解 SQL 的人，哪怕只对 SQL 有一点点了解。好了，那么就开始吧！然而对许多—或许大多数公司来说，故事就在这里结束了。即使他们比较成功并且他们的公司成长了，他们也可能在 SQL  的局限中永远处于原地踏步。Uber 不这样。</p>\n<p>一些幸运的创业公司最终从 SQL 蜕变。随着这种情况的发生，他们会有更多的机会访问资源并且然后…一些奇妙的事情发生了：他们意识到，如果他们开发一个只为自己使用的专用系统来取代通用数据库，他们就可以解决许多问题。这就是一个全新 NoSQL 数据库诞生的时刻。在 Uber ，他们将之称为 <a href=\"https://eng.uber.com/schemaless-part-one/\" target=\"_blank\" rel=\"nofollow\">Schemaless</a> 。</p>\n<h3>关于 Uber 的数据库选择</h3>\n<p>直到现在，我相信 Uber 没有像他们的文章所建议的使用 MySQL 取代 PostgreSQL 。看来他们确实在一些特定的方法上替换了 PostgreSQL ，而这些方法恰好是 MySQL / InnoDB 所支持的（在当时）。看来原文只是解释了为什么 MySQL/InnoDB 比 PostgreSQL 更好地支持 <a href=\"https://eng.uber.com/schemaless-part-one/\" target=\"_blank\" rel=\"nofollow\">Schemaless</a> 。对于在用 Schemaless 的人来说，采纳他们的建议！不幸的是，原文并没有明确这一点，因为它并没有提及，和 2013 年从 MySQL 迁移到 PostgreSQL 相比，他们的需求是如何随着 <a href=\"https://eng.uber.com/schemaless-part-one/\" target=\"_blank\" rel=\"nofollow\">Schemaless</a> 的引进而改变的。</p>\n<p>可悲的是，Uber 那文章留在读者脑海中的唯一事情，就是 PostgreSQL 很差劲。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111058\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111058votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111058\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/LW\">LW</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/LW\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/10/dc457710ff43112ee687b7549232ecd9.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            热爱编程 热爱生活        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/LW\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/lw/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/LW/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 10</a> · <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/echo92\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "1", "fav_nums": 0, "comment_nums": 0, "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ff75v6yo2dj20bz072q38.jpg"]},
{"url_object_id": "5ce17e71994d9e957f0c942e0e61ec47", "create_date": "2017-05-01", "front_image_path": "full/14d81169d0e4f4af8986453f0fdd06356c67353a.jpg", "title": "关于 Linux 进程你所需要知道的一切", "url": "http://blog.jobbole.com/111053/", "tags": "IT技术", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://www.tecmint.com/linux-process-management/\">Aaron Kili</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8451-1.html\">ictlyh</a>   </div><div> 在这篇指南中，我们会逐步对进程做基本的了解，然后简要看看如何用特定命令<a href=\"http://www.tecmint.com/dstat-monitor-linux-server-performance-process-memory-network/\">管理 Linux 进程</a>。</div>\n<p>进程process是指正在执行的程序；是程序正在运行的一个实例。它由程序指令，和从文件、其它程序中读取的数据或系统用户的输入组成。</p>\n<h3 id=\"toc_1\">进程的类型</h3>\n<p>在 Linux 中主要有两种类型的进程：</p>\n<ul>\n<li>前台进程（也称为交互式进程） – 这些进程由终端会话初始化和控制。换句话说，需要有一个连接到系统中的用户来启动这样的进程；它们不是作为系统功能/服务的一部分自动启动。</li>\n<li>后台进程（也称为非交互式/自动进程） – 这些进程没有连接到终端；它们不需要任何用户输入。</li>\n</ul>\n<h4 id=\"toc_2\">什么是守护进程daemon</h4>\n<p>这是后台进程的特殊类型，它们在系统启动时启动，并作为服务一直运行；它们不会死亡。它们自发地作为系统任务启动（作为服务运行）。但是，它们能被用户通过 init 进程控制。</p>\n<p><a href=\"http://www.tecmint.com/wp-content/uploads/2017/03/ProcessState.png\"><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035wd0ly8pppjc0fo8o.png\" alt=\"Linux 进程状态\"></a></p>\n<p><em>Linux 进程状态</em></p>\n<h3 id=\"toc_3\">在 Linux 中创建进程</h3>\n<p>（LCTT 译注：此节原文不确，根据译者理解重新提供）</p>\n<p>在 Linux 中创建进程有三种方式：</p>\n<h4 id=\"toc_4\">fork() 方式</h4>\n<p>使用 fork() 函数以父进程为蓝本复制一个进程，其 PID号与父进程 PID 号不同。在 Linux 环境下，fork() 是以写复制实现的，新的子进程的环境和父进程一样，只有内存与父进程不同，其他与父进程共享，只有在父进程或者子进程进行了修改后，才重新生成一份。</p>\n<h4 id=\"toc_5\">system() 方式</h4>\n<p>system() 函数会调用 <code>/bin/sh –c command</code> 来执行特定的命令，并且阻塞当前进程的执行，直到 command 命令执行完毕。新的子进程会有新的 PID。</p>\n<h4 id=\"toc_6\">exec() 方式</h4>\n<p>exec() 方式有若干种不同的函数，与之前的 fork() 和 system() 函数不同，exec() 方式会用新进程代替原有的进程，系统会从新的进程运行，新的进程的 PID 值会与原来的进程的 PID 值相同。</p>\n<h3 id=\"toc_7\">Linux 如何识别进程？</h3>\n<p>由于 Linux 是一个多用户系统，意味着不同的用户可以在系统上运行各种各样的程序，内核必须唯一标识程序运行的每个实例。</p>\n<p>程序由它的进程 ID（PID）和它父进程的进程 ID（PPID）识别，因此进程可以被分类为：</p>\n<ul>\n<li>父进程 – 这些是在运行时创建其它进程的进程。</li>\n<li>子进程 – 这些是在运行时由其它进程创建的进程。</li>\n</ul>\n<h4 id=\"toc_8\">init 进程</h4>\n<p>init 进程是系统中所有进程的父进程，它是<a href=\"http://www.tecmint.com/linux-boot-process/\">启动 Linux 系统</a>后第一个运行的程序；它管理着系统上的所有其它进程。它由内核自身启动，因此理论上说它没有父进程。</p>\n<p>init 进程的进程 ID 总是为 1。它是所有孤儿进程的收养父母。（它会收养所有孤儿进程）。</p>\n<h4 id=\"toc_9\">查找进程 ID</h4>\n<p>你可以用 pidof 命令查找某个进程的进程 ID：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5bc355288181\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# pidof systemd\r\n# pidof top\r\n# pidof httpd\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5bc355288181-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5bc355288181-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5bc355288181-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5bc355288181-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5bc355288181-1\"><span class=\"crayon-p\"># pidof systemd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5bc355288181-2\"><span class=\"crayon-p\"># pidof top</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5bc355288181-3\"><span class=\"crayon-p\"># pidof httpd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5bc355288181-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035lfx9l4zhhf6xelyx.png\" alt=\"查找 Linux 进程 ID\"></p>\n<p><em>查找 Linux 进程 ID</em></p>\n<p>要查找当前 shell 的进程 ID 以及它父进程的进程 ID，可以运行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5d5791760661\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ echo $$\r\n$ echo $PPID\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5d5791760661-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5d5791760661-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5d5791760661-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5d5791760661-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">$</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5d5791760661-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-i\">PPID</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5d5791760661-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035qz92snskbzi2d3ed.png\" alt=\"查找 Linux 父进程 ID\"></p>\n<p><em>查找 Linux 父进程 ID</em></p>\n<h3 id=\"toc_10\">在 Linux 中启动进程</h3>\n<p>每次你运行一个命令或程序（例如 cloudcmd – CloudCommander），它就会在系统中启动一个进程。你可以按照下面的方式启动一个前台（交互式）进程，它会被连接到终端，用户可以发送输入给它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5da325225295\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# cloudcmd\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5da325225295-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5da325225295-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5da325225295-1\"><span class=\"crayon-p\"># cloudcmd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5da325225295-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093036n3fss8efrh7edfdr.png\" alt=\"启动 Linux 交互进程\"></p>\n<p><em>启动 Linux 交互进程</em></p>\n<h4 id=\"toc_11\">Linux 后台任务</h4>\n<p>要在后台（非交互式）启动一个进程，使用 <code>&amp;</code> 符号，此时，该进程不会从用户中读取输入，直到它被移到前台。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5e0959945680\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# cloudcmd &amp;\r\n# jobs\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5e0959945680-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5e0959945680-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5e0959945680-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5e0959945680-1\"><span class=\"crayon-p\"># cloudcmd &amp;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5e0959945680-2\"><span class=\"crayon-p\"># jobs</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5e0959945680-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093036yzo2fnei5ici9oii.png\" alt=\"在后台启动 Linux 进程\"></p>\n<p><em>在后台启动 Linux 进程</em></p>\n<p>你也可以使用 <code>Ctrl + Z</code> 暂停执行一个程序并把它发送到后台，它会给进程发送 SIGSTOP 信号，从而暂停它的执行；它就会变为空闲：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5e4971447841\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# tar -cf backup.tar /backups/*  ### 按下 Ctrl+Z\r\n# jobs\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5e4971447841-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5e4971447841-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5e4971447841-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5e4971447841-1\"><span class=\"crayon-p\"># tar -cf backup.tar /backups/*  ### 按下 Ctrl+Z</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5e4971447841-2\"><span class=\"crayon-p\"># jobs</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5e4971447841-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>要在后台继续运行上面被暂停的命令，使用 <code>bg</code> 命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5e7638669900\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# bg\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5e7638669900-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5e7638669900-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5e7638669900-1\"><span class=\"crayon-p\"># bg</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5e7638669900-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>要把后台进程发送到前台，使用 <code>fg</code> 命令以及任务的 ID，类似：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5ea618353121\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# jobs\r\n# fg %1\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5ea618353121-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5ea618353121-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5ea618353121-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5ea618353121-1\"><span class=\"crayon-p\"># jobs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5ea618353121-2\"><span class=\"crayon-p\"># fg %1</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5ea618353121-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093036lhy8xqnf5yzffyyy.png\" alt=\"Linux 后台进程任务\"></p>\n<p><em>Linux 后台进程任务</em></p>\n<p>你也可能想要阅读：<a href=\"http://www.tecmint.com/run-linux-command-process-in-background-detach-process/\">如何在后台启动 Linux 命令以及在终端分离（Detach）进程</a></p>\n<h3 id=\"toc_12\">Linux 中进程的状态</h3>\n<p>在执行过程中，取决于它的环境一个进程会从一个状态转变到另一个状态。在 Linux 中，一个进程有下面的可能状态：</p>\n<ul>\n<li>Running – 此时它正在运行（它是系统中的当前进程）或准备运行（它正在等待分配 CPU 单元）。</li>\n<li>Waiting – 在这个状态，进程正在等待某个事件的发生或者系统资源。另外，内核也会区分两种不同类型的等待进程；可中断等待进程interruptible waiting processes – 可以被信号中断，以及不可中断等待进程uninterruptible waiting processes- 正在等待硬件条件，不能被任何事件/信号中断。</li>\n<li>Stopped – 在这个状态，进程已经被停止了，通常是由于收到了一个信号。例如，正在被调试的进程。</li>\n<li>Zombie – 该进程已经死亡，它已经停止了但是进程表process table中仍然有它的条目。</li>\n</ul>\n<h3 id=\"toc_13\">如何在 Linux 中查看活跃进程</h3>\n<p>有很多 Linux 工具可以用于查看/列出系统中正在运行的进程，两个传统众所周知的是 <a href=\"/tag-ps.html\">ps</a> 和 <a href=\"/tag-top.html\">top</a> 命令：</p>\n<h4 id=\"toc_14\">1. ps 命令</h4>\n<p>它显示被选中的系统中活跃进程的信息，如下图所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5ef246417870\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# ps \r\n# ps -e | head \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5ef246417870-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5ef246417870-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5ef246417870-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5ef246417870-1\"><span class=\"crayon-p\"># ps </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5ef246417870-2\"><span class=\"crayon-p\"># ps -e | head </span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5ef246417870-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093037fg0vsxpivovwxk0u.png\" alt=\"列出 Linux 活跃进程\"></p>\n<p><em>列出 Linux 活跃进程</em></p>\n<h4 id=\"toc_15\">2. top – 系统监控工具</h4>\n<p>top 是一个强大的工具，它能给你提供 运行系统的动态实时视图，如下面截图所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5f2486903872\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# top \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5f2486903872-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5f2486903872-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5f2486903872-1\"><span class=\"crayon-p\"># top </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5f2486903872-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0002 seconds] -->\r\n<p><img src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093037zssr5b6tqnqnx6c2.png\" alt=\"列出 Linux 正在运行的程序\"></p>\n<p><em>列出 Linux 正在运行的程序</em></p>\n<p>阅读这篇文章获取更多 top 使用事例：<a href=\"http://www.tecmint.com/12-top-command-examples-in-linux/\">Linux 中 12 个 top 命令实例</a></p>\n<h4 id=\"toc_16\">3. glances – 系统监控工具</h4>\n<p>glances 是一个相对比较新的系统监控工具，它有一些比较高级的功能：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5f7499141287\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# glances\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5f7499141287-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5f7499141287-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5f7499141287-1\"><span class=\"crayon-p\"># glances</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5f7499141287-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093038zt91ht6xg9o2fgmo.png\" alt=\"Glances - Linux 进程监控\"></p>\n<p><em>Glances – Linux 进程监控</em></p>\n<p>要获取完整使用指南，请阅读：<a href=\"https://linux.cn/article-6882-1.html\">Glances – Linux 的一个高级实时系统监控工具</a></p>\n<p>还有很多你可以用来列出活跃进程的其它有用的 Linux 系统监视工具，打开下面的链接了解更多关于它们的信息：</p>\n<ol>\n<li><a href=\"http://www.tecmint.com/command-line-tools-to-monitor-linux-performance/\">监控 Linux 性能的 20 个命令行工具</a></li>\n<li><a href=\"http://www.tecmint.com/linux-performance-monitoring-tools/\">13 个有用的 Linux 监控工具</a></li>\n</ol>\n<h3 id=\"toc_17\">如何在 Linux 中控制进程</h3>\n<p>Linux 也有一些命令用于控制进程，例如 <code>kill</code>、<code>pkill</code>、<code>pgrep</code> 和 <code>killall</code>，下面是一些如何使用它们的基本事例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5fb116544065\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pgrep -u tecmint top\r\n$ kill 2308\r\n$ pgrep -u tecmint top\r\n$ pgrep -u tecmint glances\r\n$ pkill glances\r\n$ pgrep -u tecmint glances\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5fb116544065-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5fb116544065-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5fb116544065-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5fb116544065-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5fb116544065-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5fb116544065-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5fb116544065-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5fb116544065-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">top</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5fb116544065-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2308</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5fb116544065-3\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">top</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5fb116544065-4\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">glances</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5fb116544065-5\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pkill </span><span class=\"crayon-i\">glances</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5fb116544065-6\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">glances</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f5fb116544065-7\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093038u3hxhdtwzj8iz38j.png\" alt=\"控制 Linux 进程\"></p>\n<p><em>控制 Linux 进程</em></p>\n<p>想要深入了解如何使用这些命令，在 Linux 中杀死/终止活跃进程，可以点击下面的链接：</p>\n<ol>\n<li><a href=\"http://www.tecmint.com/how-to-kill-a-process-in-linux/\">终止 Linux 进程的 Kill、Pkill 和 Killall 命令指南</a></li>\n<li><a href=\"http://www.tecmint.com/find-and-kill-running-processes-pid-in-linux/\">如何在 Linux 中查找并杀死进程</a></li>\n</ol>\n<p>注意当你系统僵死freeze时你可以使用它们杀死 <a href=\"http://www.tecmint.com/kill-processes-unresponsive-programs-in-ubuntu/\">Linux 中的不响应程序</a>。</p>\n<h4 id=\"toc_18\">给进程发送信号</h4>\n<p>Linux 中控制进程的基本方法是给它们发送信号。你可以发送很多信号给一个进程，运行下面的命令可以查看所有信号：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f5ff610905076\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ kill -l\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f5ff610905076-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f5ff610905076-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f5ff610905076-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">l</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f5ff610905076-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093038dn9ll1v2xs4cln7c.png\" alt=\"列出所有 Linux 信号\"></p>\n<p><em>列出所有 Linux 信号</em></p>\n<p>要给一个进程发送信号，可以使用我们之前提到的 <code>kill</code>、<code>pkill</code> 或 <code>pgrep</code> 命令。但只有被编程为能识别这些信号时程序才能响应这些信号。</p>\n<p>大部分信号都是系统内部使用，或者给程序员编写代码时使用。下面是一些对系统用户非常有用的信号：</p>\n<ul>\n<li>SIGHUP 1 – 当控制它的终端被被关闭时给进程发送该信号。</li>\n<li>SIGINT 2 – 当用户使用 <code>Ctrl+C</code> 中断进程时控制它的终端给进程发送这个信号。</li>\n<li>SIGQUIT 3 – 当用户发送退出信号 <code>Ctrl+D</code> 时给进程发送该信号。</li>\n<li>SIGKILL 9 – 这个信号会马上中断（杀死）进程，进程不会进行清理操作。</li>\n<li>SIGTERM 15 – 这是一个程序终止信号（kill 默认发送这个信号）。</li>\n<li>SIGTSTP 20 – 它的控制终端发送这个信号给进程要求它停止（终端停止）；通过用户按 <code>Ctrl+Z</code> 触发。</li>\n</ul>\n<p>下面是当 Firefox 应用程序僵死时通过它的 PID 杀死它的 kill 命令事例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f603952808415\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pidof firefox\r\n$ kill 9 2687\r\n或\r\n$ kill -KILL 2687\r\n或\r\n$ kill -SIGKILL 2687  \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f603952808415-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f603952808415-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f603952808415-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f603952808415-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f603952808415-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f603952808415-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f603952808415-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f603952808415-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pidof </span><span class=\"crayon-i\">firefox</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f603952808415-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2687</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f603952808415-3\">或</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f603952808415-4\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">KILL</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2687</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f603952808415-5\">或</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f603952808415-6\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">SIGKILL</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2687</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f603952808415-7\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>使用它的名称杀死应用，可以像下面这样使用 pkill 或 killall：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f608569711985\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pkill firefox\r\n$ killall firefox \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f608569711985-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f608569711985-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f608569711985-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f608569711985-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pkill </span><span class=\"crayon-i\">firefox</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f608569711985-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">killall </span><span class=\"crayon-i\">firefox</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f608569711985-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h4 id=\"toc_19\">更改 Linux 进程优先级</h4>\n<p>在 Linux 系统中，所有活跃进程都有一个优先级以及 nice 值。有比点优先级进程有更高优先级的进程一般会获得更多的 CPU 时间。</p>\n<p>但是，有 root 权限的系统用户可以使用 <code>nice</code> 和 <code>renice</code> 命令影响（更改）优先级。</p>\n<p>在 top 命令的输出中， NI 显示了进程的 nice 值：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f60c008488346\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ top  \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f60c008488346-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f60c008488346-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f60c008488346-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">top</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f60c008488346-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093037zssr5b6tqnqnx6c2.png\" alt=\"列出 Linux 正在运行的进程\"></p>\n<p><em>列出 Linux 正在运行的进程</em></p>\n<p>使用 <code>nice</code> 命令为一个进程设置 nice 值。记住一个普通用户可以给他拥有的进程设置 0 到 20 的 nice 值。</p>\n<p>只有 root 用户可以使用负的 nice 值。</p>\n<p>要重新设置一个进程的优先级，像下面这样使用 <code>renice</code> 命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5912ede23f610573344801\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ renice +8  2687\r\n$ renice +8  2103\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5912ede23f610573344801-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5912ede23f610573344801-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5912ede23f610573344801-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5912ede23f610573344801-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">renice</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2687</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5912ede23f610573344801-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">renice</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2103</span></div><div class=\"crayon-line\" id=\"crayon-5912ede23f610573344801-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>阅读我们其它如何管理和控制 Linux 进程的有用文章。</p>\n<ol>\n<li><a href=\"http://www.tecmint.com/rhcsa-exam-boot-process-and-process-management/\">Linux 进程管理：启动、停止以及中间过程</a></li>\n<li><a href=\"http://www.tecmint.com/find-processes-by-memory-usage-top-batch-mode/\">使用 ‘top’ 命令 Batch 模式查找内存使用最高的 15 个进程</a></li>\n<li><a href=\"http://www.tecmint.com/find-linux-processes-memory-ram-cpu-usage/\">在 Linux 中查找内存和 CPU 使用率最高的进程</a></li>\n<li><a href=\"http://www.tecmint.com/find-process-name-pid-number-linux/\">在 Linux 中如何使用进程 ID 查找进程名称</a></li>\n</ol>\n<p>就是这些！如果你有任何问题或者想法，通过下面的反馈框和我们分享吧。</p>\n<p>（题图：Pixabay，CC0）</p>\n<hr>\n<p>作者简介：</p>\n<p>Aaron Kili 是一个 Linux 和 F.O.S.S（Free and Open-Source Software） 爱好者，一个 Linux 系统管理员、web 开发员，现在也是 TecMint 的内容创建者，他喜欢和电脑一起工作，他相信知识共享。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111053\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111053votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111053\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 8 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "praise_nums": "2", "fav_nums": 8, "comment_nums": 0, "front_image_url": ["https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035wd0ly8pppjc0fo8o.png"]}
]